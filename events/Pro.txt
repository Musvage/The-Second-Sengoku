add_namespace = pro

# Election of 1936 - La Resistance Edition
country_event = {
	id = pro.1
	title = pro.1.t
	desc = pro.1.desc
	picture = GFX_report_event_election_vote
	

	fire_only_once = yes

    trigger = {
        tag = PRO
        date < 1936.3.1
        date > 1936.2.1
    }

	immediate = {
		hidden_effect = {
			set_country_flag = PRO_elections_flag
			if = {
				limit = {
					focus_progress = {
						focus = PRO_assassination_of_the_prime_minister
						progress > 0
					}
					NOT = { has_completed_focus = PRO_assassination_of_the_prime_minister }
				}
				complete_national_focus = PRO_assassination_of_the_prime_minister
				add_political_power = -35
			}
			if = {
				limit = {
					focus_progress = {
						focus = PRO_conservative_majority
						progress > 0
					}
					NOT = { has_completed_focus = PRO_conservative_majority }
				}
				complete_national_focus = PRO_1936_elections
				complete_national_focus = PRO_conservative_majority
				add_political_power = -35
			}
			if = {
				limit = {
					focus_progress = {
						focus = PRO_social_democratic_majority
						progress > 0
					}
					NOT = { has_completed_focus = PRO_social_democratic_majority }
				}
				complete_national_focus = PRO_1936_elections
				complete_national_focus = PRO_social_democratic_majority
				add_political_power = -35
			}
		}
	}

	# Assassination
	option = {
		name = pro.1.a
		trigger = {
			NOT = {
				has_completed_focus = PRO_assassination_of_the_prime_minister
			}
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.1
		}
		if = {
			limit = {
				NOT = {
					has_completed_focus = PRO_assassination_of_the_prime_minister
				}
			}
		}
		#custom_effect_tooltip = SPR_republican_garrison_control_decisions_tt
	}

	# Conservative
	option = {
		name = pro.1.b
		trigger = {
			NOT = {
				has_completed_focus = PRO_conservative_majority
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		if = {
			limit = {
				NOT = {
					has_completed_focus = PRO_conservative_majority
				}
			}
		}
		#custom_effect_tooltip = SPR_republican_garrison_control_decisions_tt
	}

	# Social Democratic
	option = {
		name = pro.1.c
		trigger = {
			NOT = {
				has_completed_focus = PRO_social_democratic_majority
			}
		}
		add_popularity = {
			ideology = democratic_socialism
			popularity = 0.1
		}
		if = {
			limit = {
				NOT = {
					has_completed_focus = PRO_social_democratic_majority
				}
			}
		}
		#custom_effect_tooltip = SPR_republican_garrison_control_decisions_tt
	}
}

# imperial deal
country_event = {
	id = pro.2
	title = pro.2.t
	desc = pro.2.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {
    }

	# Constitutional monarchy
	option = {
		name = pro.2.a
		hidden_effect = {
			set_country_flag = pro_const_monarch
		}
	}

	# full monarch
	option = {
		name = pro.2.b
		
		add_popularity = {
			ideology = autocracy
			popularity = 0.15
		}
		set_politics = { ruling_party = autocracy elections_allowed = no }
		hidden_effect = {
			set_country_flag = pro_abs_monarch
		}
	}
}

#should we do imperial  conference?
country_event = {
	id = pro.3
	title = pro.3.t
	desc = pro.3.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {

    }

	#yes
	option = {
		name = pro.3.a
		ai_chance = {
			base = 100
		}
		KAN = {
			country_event = { id = pro.4 days = 15 } 
			}
	}

	#no
	option = {
		name = pro.3.b
			add_political_power = -50
	}
}

#hirihito response. should we do imperial  conference?
country_event = {
	id = pro.4
	title = pro.4.t
	desc = pro.4.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {

    }

	#yes. hirihito comes to tokyo
	option = {
		name = pro.4.a
		ai_chance = {
			base = 100
		}
		
		PRO = {
			country_event = { id = pro.7 days = 15 } 
			}
	}

	#no
	option = {
		name = pro.4.b
		PRO = {
			country_event = { id = pro.6 days = 15 } 
			}
	}
}

#hirihito declines
country_event = {
	id = pro.6
	title = pro.6.t
	desc = pro.6.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {

    }

	#do nothing
	option = {
		name = pro.6.a

	}

	#take action
	option = {
		name = pro.6.b
		
		create_wargoal = {
			type = annex_everything
			target = KAN
		}
	}
}

#hirihito accepts meeting
country_event = {
	id = pro.7
	title = pro.7.t
	desc = pro.7.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {

    }

	#ask kan for alliance/union
	option = {
		name = pro.7.a
		ai_chance = {
			base = 100
		}
		KAN = {
			country_event = { id = pro.8 days = 15 } 
		}
	}
	#send hirihito home with war hearts
	option = {
		name = pro.7.b
		add_opinion_modifier = { target = KAN modifier = large_increase }
			KAN = {
				add_opinion_modifier = { target = PRO modifier = large_increase }
			}
	}
}

#hirihito decides ally or union
country_event = {
	id = pro.8
	title = pro.8.t
	desc = pro.8.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {

    }

	#puppet
	option = {
		name = pro.8.a
		ai_chance = {
			base = 100
		}
		
		PRO = {
				set_autonomy = {
					target = KAN
					autonomous_state = autonomy_puppet
					freedom_level = 0.2
				}
			}
					
		PRO = {
			country_event = { id = pro.9 days = 15 } 
		}
	}
	
	#gets annexed
	option = {
		name = pro.8.b
		ai_chance = {
			base = 0
		}
		PRO = {
			annex_country = { target = KAN transfer_troops = yes }
		}
		PRO = {
			country_event = { id = pro.9 days = 15 } 
		}
	}
	
	#ally
	option = {
		name = pro.8.c
		PRO = {
			country_event = { id = pro.10 days = 15 } 
		}
	}
	
	#decline
	option = {
		name = pro.8.d
		PRO = {
			country_event = { id = pro.6 days = 15 } 
		}
	}
}

#hirihito accepts union
country_event = {
	id = pro.9
	title = pro.9.t
	desc = pro.9.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {

    }

	#puppet
	option = {
		name = pro.9.a
SHO = {
			country_event = { id = pro.14 days = 7 } 
		}
KAN = { add_ideas = PRO_vassalization }
	}

}

#hirihito accepts alliance
country_event = {
	id = pro.10
	title = pro.10.t
	desc = pro.10.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {

    }

	# create fac
	option = {
		name = pro.10.a
		set_rule = { can_create_factions = yes }
		create_faction = "Japanese Order"
		PRO = { add_to_faction = KAN }
		SHO = {
			country_event = { id = pro.14 days = 7 } 
		}
	}

}

#offer of non aggression
country_event = {
	id = pro.11
	title = pro.11.t
	desc = pro.11.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {

    }

	#yes
	option = {
		name = pro.11.a
		ai_chance = {
			base = 100
		}
		diplomatic_relation = { country = PRO relation = non_aggression_pact }
	}
	
	#no
	option = {
		name = pro.11.b
			KAN = {
				add_opinion_modifier = { target = PRO modifier = large_decrease }
			}
	}

}

#proposereunion
country_event = {
	id = pro.12
	title = pro.12.t
	desc = pro.12.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {

    }

	#yes
	option = {
		name = pro.12.a
		ai_chance = {
			base = 100
		}
		PRO = {
			country_event = { id = pro.13 days = 7 } 
		}
	}
	
	#no
	option = {
		name = pro.12.b
			PRO = {
				add_opinion_modifier = { target = EZO modifier = large_decrease }
			}
	}

}

country_event = {
	id = pro.13
	title = pro.13.t
	desc = pro.13.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {

    }

	#yeeey
	option = {
		name = pro.13.a
		ai_chance = {
			base = 100
		}
	EZO = {
			every_unit_leader = {
				set_nationality = PRO
			}
		}
		annex_country = { target = EZO transfer_troops = yes }
	TOH = {
			country_event = { id = pro.14 days = 7 } 
		}
	}


}

country_event = {
	id = pro.14
	title = pro.14.t
	desc = pro.14.desc
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	fire_only_once = yes

    trigger = {

    }

	option = {
		name = pro.14.a
		ai_chance = {
			base = 100
		}
	add_ideas = PRO_prepare_for_attack
	add_manpower = 50000
	add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 3000
			}
	division_template = {
	name = "Tokubetsu Keibitai" 			
	division_names_group = JAP_INF_01
									
	regiments = {
		infantry = { x = 0 y = 0 }
		infantry = { x = 0 y = 1 }
		infantry = { x = 0 y = 2 }
		infantry = { x = 1 y = 0 }
}
}
	random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
	random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
	random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
    random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
	random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
	random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}
random_controlled_state  = {
					create_unit = {
						division = "name = \"Hohei Shidan\" division_template = \"Hohei Shidan\" start_experience_factor = 1.0" 
						owner = ROOT
					}
				}				
	}


}