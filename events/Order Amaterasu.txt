###########################
#Order of Amaterasu events#
###########################

add_namespace = amaterasu

country_event = {
	id = amaterasu.1
	title = amaterasu.1.t
	desc = amaterasu.1.desc
	picture = GFX_report_event_usa_heavy_cruiser

	is_triggered_only = yes

	option = { # Invade the Island
		name = amaterasu.1.a
		ai_chance = {
			base = 0.75
		}

		transfer_state = 15
		navy_experience = 5
		custom_effect_tooltip = AMO_destroy_ship_event
		hidden_effect = {
			destroy_ships = {
				type = destroyer
				count = 1
				#prefer_name = "Ebisu"
			}
		}
	}

	option = { # Offer refuge
		name = amaterasu.1.b
		ai_chance = {
			base = 0.25
		}

		add_manpower = 10000
	}

}

country_event = {
	id = amaterasu.2
	title = amaterasu.2.t
	desc = amaterasu.2.desc
	picture = GFX_report_event_usa_heavy_cruiser #FIXME

	trigger = {
		original_tag = AMO
		date > 1936.01.05
	}
	fire_only_once = yes


	immediate = {
		102 = {
			teleport_armies = {
				limit = {
					original_tag = SHO
				}
				to_state = 114
			}
		}
	}
	option = {
		name = amaterasu.2.a
		ai_chance = {
			base = 1
		}
		add_ideas = AMO_fight_last_man
		102 = {
			add_core_of = AMO
		}

		15 = {
			add_core_of = AMO
		}


		declare_war_on = {
			target = SHO
			type = take_claimed_state
		}

		transfer_state = 102
		transfer_state = 15
		
		country_event = amaterasu.3
		SHO = {
			country_event = shogunate.43
		}

		hidden_effect = {
			division_template = {
				name = "Knights Brigade"
				is_locked = yes
				division_names_group = JAP_INF_01
				priority = 0
				template_counter = 0
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
				}
				support = { 
					
				} 
			}
			102 = {
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
				}
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
				}
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
				}
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
				}
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
				}
			}
		}
	}
}

country_event = {
	id = amaterasu.3
	title = amaterasu.3.t
	desc = amaterasu.3.desc
	picture = GFX_report_event_usa_heavy_cruiser #FIXME

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = amaterasu.3.a

		ai_chance = {
			base = 1
		}

		
		hidden_effect = {
			set_victory_points = {
				province = 386
				value = 20
			}
			set_province_name = {
				id = 386
				name = "Fortress A"
			}
			set_province_controller = 386
			129 = {
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
					prioritize_location = 386
				}
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
					prioritize_location = 386
				}
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
					prioritize_location = 386
				}
			}

			set_victory_points = {
				province = 2764
				value = 20
			}
			set_province_name = {
				id = 2764
				name = "Fortress B"
			}
			set_province_controller = 2764
			106 = {
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
					prioritize_location = 2764
				}
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
					prioritize_location = 2764
				}
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
					prioritize_location = 2764
				}
			}

			set_victory_points = {
				province = 3009
				value = 20
			}
			set_province_name = {
				id = 3009
				name = "Fortress C"
			}
			set_province_controller = 3009
			67 = {
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
					prioritize_location = 3009
				}
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
					prioritize_location = 3009
				}
				create_unit = {
					division = "name = \"Brigade of Holy Knights\" division_template = \"Knights Brigade\" start_experience_factor = 0.5 start_equipment_factor = 1"
					owner = AMO
					prioritize_location = 3009
				}
			}

		}
	}
}

