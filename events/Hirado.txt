add_namespace = hirado
add_namespace = hirado_foreign_influence

country_event = { #hirado_island_event_iki
	id = hirado.1
	title = hirado.1.t
	desc = hirado.1.desc
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = { 
		name = hirado.1.a
		ai_chance = {
			base = 60
		}
	
		HIR = { 
			transfer_state = 14
			transfer_state = 11
			add_state_core = 14
			add_state_core = 11
		}
		
		hidden_effect = {
			HIR = { country_event = { id = hirado.2 hours = 6 } }
		}
	}
	option = { 
		name = hirado.1.b
		ai_chance = {
			base = 40
		}
	
		HIR = { 
			add_state_claim = 11
			add_state_claim = 14
			declare_war_on = {
				type = take_state_focus
				target = KYU
			}
		}
		hidden_effect = {
			HIR = { country_event = { id = hirado.3 hours = 6 } }
		}
	}
}

news_event = { #hiradowins
	id = hirado.2
	title = hirado.2.t
	desc = hirado.2.desc
	picture = GFX_report_event_japanese_army_parade
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = { 
		name = hirado.2.a
		ai_chance = {
			base = 100
		}
		add_stability = 0.10
		KYU = {
			add_stability = 0.15
		}
	}
}

news_event = { #hiradolose
	id = hirado.3
	title = hirado.3.t
	desc = hirado.3.desc
	picture = GFX_report_event_japanese_army_parade
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = { 
		name = hirado.3.a
		ai_chance = {
			base = 100
		}
		add_stability = -0.10
		KYU = {
			add_stability = -0.15
		}
	}
}

country_event = { #hirado_island_event_goto
	id = hirado.4
	title = hirado.4.t
	desc = hirado.4.desc
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = { 
		name = hirado.4.a
		ai_chance = {
			base = 60
		}
	
		HIR = { 
			transfer_state = 19
			transfer_state = 39
			add_state_core = 19
			add_state_core = 39
		}
		hidden_effect = {
			HIR = { country_event = { id = hirado.2 hours = 6 } }
		}
	}
	option = { 
		name = hirado.4.b
		ai_chance = {
			base = 40
		}
	
		HIR = { 
			add_state_claim = 19
			add_state_claim = 39
			declare_war_on = {
				type = take_state_focus
				target = KYU
			}
		}
		hidden_effect = {
			HIR = { country_event = { id = hirado.3 hours = 6 } }
		}
	}
}

country_event = { #hirado_island_event_jeju
	id = hirado.5
	title = hirado.5.t
	desc = hirado.5.desc
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = { 
		name = hirado.5.a
		ai_chance = {
			base = 60
		}
	
		HIR = { 
			transfer_state = 170
			add_state_core = 170
		}
		hidden_effect = {
			HIR = { country_event = { id = hirado.6 hours = 6 } }
		}
	}
	option = { 
		name = hirado.5.b
		ai_chance = {
			base = 40
		}
	
		HIR = { 
			add_state_claim = 170
			declare_war_on = {
				type = take_state_focus
				target = JOS
			}
		}
		hidden_effect = {
			HIR = { country_event = { id = hirado.6 hours = 6 } }
		}
	}
}

news_event = { #hiradowins
	id = hirado.6
	title = hirado.6.t
	desc = hirado.6.desc
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = { 
		trigger = {
			HIR = { owns_state = 170 }
		}
		name = hirado.6.a
		ai_chance = {
			base = 100
		}
		add_stability = 0.10
		JOS = {
			add_stability = 0.15
		}
	}
	
	option = { 
		trigger = {
			HIR = { NOT = { owns_state = 170 } }
		}
		name = hirado.6.b
		ai_chance = {
			base = 100
		}
		add_stability = -0.10
		JOS = {
			add_stability = -0.15
		}
	}
}

country_event = { #hirado deal juntas for islands
	id = hirado.7
	title = hirado.7.t
	desc = hirado.7.desc
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = { 
		trigger = {
			tag = KYU
		}
		name = hirado.7.a #iki tsushima
		ai_chance = {
			base = 50
		}
		
		add_stability = 0.10
		HIR = {
			add_stability = 0.10
			set_country_flag = sell_iki_and_Tshushima_Islands
		}
		custom_effect_tooltip = sell_iki_and_Tshushima_Islands
	}
	
	option = { 
		trigger = {
			tag = KYU
		}
		name = hirado.7.b
		ai_chance = {
			base = 50
		}
		add_stability = 0.10
		HIR = {
			add_stability = 0.10
			set_country_flag = sell_goto_and_koshikijima_Islands
		}
		custom_effect_tooltip = sell_goto_and_koshikijima_Islands
	}
	
	option = { 
		trigger = {
			tag = CHU
			CHU = { 
				AND = {
					has_government = neutrality  
					NOT = {has_completed_focus = CHU_Teiichi_Suzuki_path}
				}
			}
		}
		name = hirado.7.c
		ai_chance = {
			base = 50
		}
		add_stability = 0.10
		HIR = {
			add_stability = 0.10
			set_country_flag = sell_oki_island
		}
		custom_effect_tooltip = sell_oki_island
	}
	
	option = { 
		name = hirado.7.d
		ai_chance = {
			base = 50
		}
		add_opinion_modifier = {
			target = ROOT
			modifier = holds_our_claims
		}
		ROOT = {
			add_opinion_modifier = {
				target = HIR
				modifier = holds_our_claims
			}
		}
		add_stability = -0.10
		HIR = {
			add_stability = -0.10
		}
	}
}

country_event = { #hirado take OKI
	id = hirado.8
	title = hirado.8.t
	desc = hirado.8.desc
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = { 
		trigger = {
			tag = AMC
		}
		name = hirado.8.a #accept
		ai_chance = {
			base = 50
		}
		add_stability = 0.10
		OKI = {
			transfer_navy = {
				target = AMC
			}
		}
		HIR = {
			add_stability = 0.10
			annex_country = { target = OKI transfer_troops = yes }
		}
	}
	
	option = { 
		trigger = {
			tag = AMC
		}
		name = hirado.8.e #okinawa take puppet
		ai_chance = {
			base = 50
		}
		add_stability = 0.10
		OKI = {
			transfer_navy = {
				target = AMC
			}
			hidden_effect = {
				set_variable = { dual_leader_id = 62 }
					create_country_leader = {
						name = "Conrad Helfrich"
						desc = ""
						picture = "portrait_OKI_conrad_helfrich.dds"
						expire = "1965.1.1"
						ideology = liberalism
						traits = {  }
					}
				HIR = {remove_unit_leader = 1011}
			}
		}
		HIR = {
			add_stability = 0.10
			puppet = OKI
		}
	}
	
	option = { 
		trigger = {
			tag = AMC
		}
		name = hirado.8.h #okinawa
		ai_chance = {
			base = 50
		}
		add_stability = 0.10
		OKI = {
			country_event = { id = hirado.8 }
		}
	}
	
	option = { 
		trigger = {
			tag = AMC
		}
		name = hirado.8.b #denied
		ai_chance = {
			base = 50
		}
		add_opinion_modifier = {
			target = ROOT
			modifier = holds_our_claims
		}
		ROOT = {
			add_opinion_modifier = {
				target = HIR
				modifier = holds_our_claims
			}
		}
		add_war_support = 0.10
		HIR = {
			add_war_support = 0.05
			add_stability = -0.10
			declare_war_on = {
				type = take_state_focus
				target = ROOT
			}
		}
	}
	
	option = { 
		trigger = {
			tag = OKI
		}
		name = hirado.8.c #accept
		ai_chance = {
			base = 50
		}
		OKI = {
			transfer_navy = {
				target = AMC
			}
		}
		HIR = {
			annex_country = { target = OKI transfer_troops = yes }
		}
	}
	
	option = { 
		trigger = {
			tag = OKI
		}
		name = hirado.8.g #puppet
		ai_chance = {
			base = 50
		}
		OKI = {
			transfer_navy = {
				target = AMC
			}
			hidden_effect = {
				set_variable = { dual_leader_id = 62 }
					create_country_leader = {
						name = "Conrad Helfrich"
						desc = ""
						picture = "portrait_OKI_conrad_helfrich.dds"
						expire = "1965.1.1"
						ideology = liberalism
						traits = {  }
					}
				HIR = {remove_unit_leader = 1011}
			}
		}
		HIR = {
			puppet = OKI
		} 
	}
	
	option = { 
		trigger = {
			tag = OKI
		}
		name = hirado.8.d #denied
		ai_chance = {
			base = 50
		}
		HIR = {
			declare_war_on = {
				target = OKI
				type = take_every_state
			}
		}
	}
}

country_event = {
    id = hirado_foreign_influence.1
	title = hirado_foreign_influence.1.t
	desc = hirado_foreign_influence.1.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	fire_only_once = no

	option = {
		ai_chance = {
			base = 75
		}
		name="We shall not be apart of their affairs."
		KOB = { country_event = KOB_foreign_influence.3 }
	}

	option = {
		ai_chance = {
			base = 25
		}
		name="Perhaps, this could be a new beginning of a long lasting friendship"
		KOB = { country_event = KOB_foreign_influence.4 }
		HIR = {
			diplomatic_relation = {
				country = KOB
				relation = docking_rights
			}
			give_guarantee = KOB
		}
		KOB = {
			diplomatic_relation = {
				country = HIR
				relation = docking_rights
			}
			give_guarantee = HIR
		}
	}
}
