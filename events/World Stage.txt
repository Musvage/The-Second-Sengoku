### EVENTS for diplomatic and military plays in the WORLD STAGE
															   #and we are merely players
add_namespace = worldstage									   #performers and portrayers
															   #each anothers audience outside the gilded cage										   
### MONGOLIA MEDDLING

# ROC completes 'ROC_aid_mongolia'
news_event = {
	id = worldstage.1
	title = worldstage.1.t
	desc = worldstage.1.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	option = {
		name = worldstage.1.axis
		trigger = {
			OR = { tag = ROC has_government = fascism }
		}
	}
	option = {
		name = worldstage.1.komin
		trigger = {
			OR = { tag = FER has_government = communism }
		}
	}
	option = {
		name = worldstage.1.other
		trigger = {
			NOT = {
				has_government = fascism
				has_government = communism
				tag = ROC
				tag = FER
			}
		}
	}
}

# ROC wins in Mongolia
news_event = {
	id = worldstage.2
	title = worldstage.2.t
	desc = worldstage.2.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	immediate = {
		log = "test event 'ROC wins in Mongolia', this = [THIS.GetName]"
		add_to_variable = { global.world_stage_power_chi = 5 }
	}
	
	option = {
		name = worldstage.2.axis
		trigger = {
			OR = { has_government = fascism tag = ROC }
		}
		effect_tooltip = {
			custom_effect_tooltip = CHI_strength_trickleback_tt
			custom_effect_tooltip = SOV_strength_trickleback_tt
			add_world_stage_power_chi_5 = yes
		}
	}
	option = {
		name = worldstage.2.komin
		trigger = {
			OR = { has_government = communism tag = FER }
		}
		effect_tooltip = {
			custom_effect_tooltip = CHI_strength_trickleback_tt
			custom_effect_tooltip = SOV_strength_trickleback_tt
			add_world_stage_power_chi_5 = yes
		}
	}
	option = {
		name = worldstage.2.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
				tag = ROC
				tag = FER
			}
		}
		effect_tooltip = {
			custom_effect_tooltip = CHI_strength_trickleback_tt
			custom_effect_tooltip = SOV_strength_trickleback_tt
			add_world_stage_power_chi_5 = yes
		}
	}
}

# SOV wins in Mongolia
news_event = {
	id = worldstage.3
	title = worldstage.3.t
	desc = worldstage.3.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	immediate = {
		add_to_variable = { global.world_stage_power_sov = 5 }
	}
	
	option = {
		name = worldstage.3.axis
		trigger = {
			has_government = fascism
		}
		effect_tooltip = {
			custom_effect_tooltip = CHI_strength_trickleback_tt
			custom_effect_tooltip = SOV_strength_trickleback_tt
			add_world_stage_power_sov_5 = yes
		}
	}
	option = {
		name = worldstage.3.komin
		trigger = {
			has_government = communism
		}
		effect_tooltip = {
			custom_effect_tooltip = CHI_strength_trickleback_tt
			custom_effect_tooltip = SOV_strength_trickleback_tt
			add_world_stage_power_sov_5 = yes
		}
	}
	option = {
		name = worldstage.3.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		effect_tooltip = {
			custom_effect_tooltip = CHI_strength_trickleback_tt
			custom_effect_tooltip = SOV_strength_trickleback_tt
			add_world_stage_power_sov_5 = yes
		}
	}
}

# Spanish Civil War - Start
news_event = {
	id = worldstage.4
	title = worldstage.4.t
	desc = worldstage.4.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	immediate = {
		set_global_flag = world_stage_theater_spanish_cw_is_active
		log = "worldstage.4: [THIS.GetName]"
	}
	
	option = {
		name = worldstage.4.axis
		trigger = {
			has_government = fascism
		}
		custom_effect_tooltip = world_stage_tt_spanish_cw_start
	}
	option = {
		name = worldstage.4.komin
		trigger = {
			has_government = communism
		}
		custom_effect_tooltip = world_stage_tt_spanish_cw_start
	}
	option = {
		name = worldstage.4.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		custom_effect_tooltip = world_stage_tt_spanish_cw_start
	}
}

# Spanish Civil War - Italian Help
news_event = {
	id = worldstage.5
	title = worldstage.5.t
	desc = worldstage.5.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	immediate = {
		add_to_variable = { global.FAL_strength_spain_bonus = 5 }
	}
	
	option = {
		name = worldstage.5.axis
		trigger = {
			has_government = fascism
		}
		effect_tooltip = {
			add_to_variable = {
				global.FAL_strength_spain_bonus = 5
				tooltip = world_stage_add_help_fal_power
			}
		}
	}
	option = {
		name = worldstage.5.komin
		trigger = {
			has_government = communism
		}
		effect_tooltip = {
			add_to_variable = {
				global.FAL_strength_spain_bonus = 5
				tooltip = world_stage_add_help_fal_power
			}
		}
	}
	option = {
		name = worldstage.5.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		effect_tooltip = {
			add_to_variable = {
				global.FAL_strength_spain_bonus = 5
				tooltip = world_stage_add_help_fal_power
			}
		}
	}
}

# Spanish Civil War - International Brigades
news_event = {
	id = worldstage.6
	title = worldstage.6.t
	desc = worldstage.6.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	immediate = {
		add_to_variable = { global.REP_strength_spain_bonus = 5 }
	}
	
	option = {
		name = worldstage.6.axis
		trigger = {
			has_government = fascism
		}
		effect_tooltip = {
			add_to_variable = {
				global.FAL_strength_spain = 5
				tooltip = world_stage_add_help_rep_power
			}
		}
	}
	option = {
		name = worldstage.6.komin
		trigger = {
			has_government = communism
		}
		effect_tooltip = {
			add_to_variable = {
				global.FAL_strength_spain = 5
				tooltip = world_stage_add_help_rep_power
			}
		}
	}
	option = {
		name = worldstage.6.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		effect_tooltip = {
			add_to_variable = {
				global.FAL_strength_spain = 5
				tooltip = world_stage_add_help_rep_power
			}
		}
	}
}

# Spanish Civil War - German Assistance
news_event = {
	id = worldstage.7
	title = worldstage.7.t
	desc = worldstage.7.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	# immediate: none, effect handled by focus
	
	option = {
		name = worldstage.7.axis
		trigger = {
			has_government = fascism
		}
		effect_tooltip = {
			add_to_variable = {
				global.FAL_strength_spain_bonus = 10
				tooltip = world_stage_add_help_fal_power
			}
		}
	}
	option = {
		name = worldstage.7.komin
		trigger = {
			has_government = communism
		}
		effect_tooltip = {
			add_to_variable = {
				global.FAL_strength_spain_bonus = 10
				tooltip = world_stage_add_help_fal_power
			}
		}
	}
	option = {
		name = worldstage.7.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		effect_tooltip = {
			add_to_variable = {
				global.FAL_strength_spain_bonus = 10
				tooltip = world_stage_add_help_fal_power
			}
		}
	}
}

# Spanish Civil War - Republican Desertion
news_event = {
	id = worldstage.8
	title = worldstage.8.t
	desc = worldstage.8.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	immediate = {
		add_to_variable = { global.FAL_strength_spain = 1 }
		add_to_variable = { global.REP_strength_spain = -1 }
	}
	
	option = {
		name = worldstage.8.axis
		trigger = {
			has_government = fascism
		}
		effect_tooltip = {
			custom_effect_tooltip = country_name_falange
			add_to_variable = {
				global.FAL_strength_spain = 1
				tooltip = world_stage_add_local_power
			}
			custom_effect_tooltip = country_name_republica
			add_to_variable = {
				global.REP_strength_spain = -1
				tooltip = world_stage_add_local_power
			}
		}
	}
	option = {
		name = worldstage.8.komin
		trigger = {
			has_government = communism
		}
		effect_tooltip = {
			custom_effect_tooltip = country_name_falange
			add_to_variable = {
				global.FAL_strength_spain = 1
				tooltip = world_stage_add_local_power
			}
			custom_effect_tooltip = country_name_republica
			add_to_variable = {
				global.REP_strength_spain = -1
				tooltip = world_stage_add_local_power
			}
		}
	}
	option = {
		name = worldstage.8.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		effect_tooltip = {
			custom_effect_tooltip = country_name_falange
			add_to_variable = {
				global.FAL_strength_spain = 1
				tooltip = world_stage_add_local_power
			}
			custom_effect_tooltip = country_name_republica
			add_to_variable = {
				global.REP_strength_spain = -1
				tooltip = world_stage_add_local_power
			}
		}
	}
}

# Spanish Civil War - Republican Infighting 
news_event = {
	id = worldstage.9
	title = worldstage.9.t
	desc = worldstage.9.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	immediate = {
		add_to_variable = { global.REP_strength_spain = -1 }
	}
	
	option = {
		name = worldstage.9.axis
		trigger = {
			has_government = fascism
		}
		effect_tooltip = {
			custom_effect_tooltip = country_name_republica
			add_to_variable = {
				global.REP_strength_spain = -1
				tooltip = world_stage_add_local_power
			}
		}
	}
	option = {
		name = worldstage.9.komin
		trigger = {
			has_government = communism
		}
		effect_tooltip = {
			custom_effect_tooltip = country_name_republica
			add_to_variable = {
				global.REP_strength_spain = -1
				tooltip = world_stage_add_local_power
			}
		}
	}
	option = {
		name = worldstage.9.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		effect_tooltip = {
			custom_effect_tooltip = country_name_republica
			add_to_variable = {
				global.REP_strength_spain = -1
				tooltip = world_stage_add_local_power
			}
		}
	}
}

# Spanish Civil War - Guernica
news_event = {
	id = worldstage.10
	title = worldstage.10.t
	desc = worldstage.10.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	immediate = {
		add_to_variable = { global.REP_strength_spain = -1 }
	}
	
	option = {
		name = worldstage.10.axis
		trigger = {
			has_government = fascism
		}
		if = {
			limit = { has_country_flag = world_stage_spanish_cw_helped_falange }
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = air_doctrine
			}
		}
		effect_tooltip = {
			custom_effect_tooltip = country_name_republica
			add_to_variable = {
				global.REP_strength_spain = -1
				tooltip = world_stage_add_local_power
			}
		}
	}
	option = {
		name = worldstage.10.komin
		trigger = {
			has_government = communism
		}
		effect_tooltip = {
			custom_effect_tooltip = country_name_republica
			add_to_variable = {
				global.REP_strength_spain = -1
				tooltip = world_stage_add_local_power
			}
		}
	}
	option = {
		name = worldstage.10.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		effect_tooltip = {
			custom_effect_tooltip = country_name_republica
			add_to_variable = {
				global.REP_strength_spain = -1
				tooltip = world_stage_add_local_power
			}
		}
	}
}

# Spanish Civil War - Another Round
country_event = {
	id = worldstage.11
	title = worldstage.11.t
	desc = worldstage.11.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	option = {
		name = worldstage.11.axis
		trigger = {
			has_government = fascism
		}
		if = {
			limit = { has_country_flag = world_stage_spanish_cw_helped_falange }
			army_experience = 5
		}
	}
	option = {
		name = worldstage.11.komin
		trigger = {
			has_government = communism
		}
		if = {
			limit = { has_country_flag = world_stage_spanish_cw_helped_republica }
			army_experience = 5
		}
	}
	option = {
		name = worldstage.11.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		if = {
			limit = { has_country_flag = world_stage_spanish_cw_helped_republica }
			army_experience = 5
		}
		if = {
			limit = { has_country_flag = world_stage_spanish_cw_helped_falange }
			army_experience = 5
		}
	}
}

# Spanish Civil War - Falange Wins
country_event = {
	id = worldstage.12
	title = worldstage.12.t
	desc = worldstage.12.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	option = {
		name = worldstage.12.axis
		trigger = {
			has_government = fascism
		}
		if = {
			limit = { has_country_flag = world_stage_spanish_cw_helped_falange }
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = air_doctrine
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = navy_doctrine
			}
		}
	}
	option = {
		name = worldstage.12.komin
		trigger = {
			has_government = communism
		}
		# GETS EXILED REPUBLICAN GENERALS
	}
	option = {
		name = worldstage.12.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		if = {
			limit = { has_country_flag = world_stage_spanish_cw_helped_falange }
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = air_doctrine
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = navy_doctrine
			}
		}
	}
}

# Spanish Civil War - Rep√∫blica Wins
country_event = {
	id = worldstage.13
	title = worldstage.13.t
	desc = worldstage.13.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	option = {
		name = worldstage.13.axis
		trigger = {
			has_government = fascism
		}
		# GETS EXILED FALANGIST GENERALS
	}
	option = {
		name = worldstage.13.komin
		trigger = {
			has_government = communism
		}
		if = {
			limit = { has_country_flag = world_stage_spanish_cw_helped_republica }
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = air_doctrine
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = navy_doctrine
			}
		}
	}
	option = {
		name = worldstage.13.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		if = {
			limit = { has_country_flag = world_stage_spanish_cw_helped_republica }
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = air_doctrine
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				category = navy_doctrine
			}
		}
	}
}

# Spanish Civil War - Soviet Assistance
news_event = {
	id = worldstage.14
	title = worldstage.14.t
	desc = worldstage.14.d 
	picture = GFX_news_great_depression_over

	is_triggered_only = yes

	major = yes
	
	# immediate: none, effect handled by focus
	
	option = {
		name = worldstage.14.axis
		trigger = {
			has_government = fascism
		}
		effect_tooltip = {
			add_to_variable = {
				global.REP_strength_spain_bonus = 10
				tooltip = world_stage_add_help_rep_power
			}
		}
	}
	option = {
		name = worldstage.14.komin
		trigger = {
			has_government = communism
		}
		effect_tooltip = {
			add_to_variable = {
				global.REP_strength_spain_bonus = 10
				tooltip = world_stage_add_help_rep_power
			}
		}
	}
	option = {
		name = worldstage.14.other
		trigger = {
			NOT = {
				has_government = communism
				has_government = fascism
			}
		}
		effect_tooltip = {
			add_to_variable = {
				global.REP_strength_spain_bonus = 10
				tooltip = world_stage_add_help_rep_power
			}
		}
	}
}