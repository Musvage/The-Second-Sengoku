add_namespace = ostasien
add_namespace = ostasiencthulhu
add_namespace = REI_foreign_influence

country_event = {	### Lud dies
	id = ostasien.1
	title = ostasien.1.t
	desc = ostasien.1.d
	picture = GFX_report_event_lud_is_dead

	is_triggered_only = yes

	option = {
		name = ostasien.1.a
		set_variable = { dual_leader_id = 19 }
	}
}

country_event = {	### REI_matsuyama_pact PROPOSE
	id = ostasien.2
	title = ostasien.2.t
	desc = ostasien.2.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes

	option = {
		name = ostasien.2.a
		ai_chance = { factor = 0 }
		SHI = {
			give_military_access = REI
			add_stability = 0.05
			add_opinion_modifier = {
				target = REI
				modifier = REI_matsuyama_pact_opinion
			}
			add_ai_strategy = {
				type = alliance
				id = REI
				value = 100
			}
		}
		REI = {
			give_military_access = SHI
			add_stability = 0.05
			add_opinion_modifier = {
				target = SHI
				modifier = REI_matsuyama_pact_opinion
			}
			hidden_effect = { news_event = ostasien.3 }
			add_ai_strategy = {
				type = alliance
				id = SHI
				value = 100
			}
		}
	}
	option = {
		name = ostasien.2.b
		ai_chance = { factor = 0 }
		hidden_effect = { news_event = ostasien.4 }
	}
}

country_event = {	### REI_matsuyama_pact ACCEPT
	id = ostasien.3
	title = ostasien.3.t
	desc = ostasien.3.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes

	option = {
		name = ostasien.3.a
		effect_tooltip = {
			SHI = {
				give_military_access = REI
				add_stability = 0.05
				add_opinion_modifier = {
					target = REI
					modifier = REI_matsuyama_pact_opinion
				}
			}
			REI = {
				give_military_access = SHI
				add_stability = 0.05
				add_opinion_modifier = {
					target = SHI
					modifier = REI_matsuyama_pact_opinion
				}
			}
		}
	}
}

country_event = {	### REI_matsuyama_pact REFUSE
	id = ostasien.4
	title = ostasien.4.t
	desc = ostasien.4.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes

	option = {
		name = ostasien.4.a
	}
}


country_event = {	### REI_stand_with_seto
	id = ostasien.5
	title = ostasien.5.t
	desc = ostasien.5.d
	picture = GFX_report_event_seto_islands

	is_triggered_only = yes
	
	major = yes

	option = {
		name = ostasien.5.a
		trigger = { tag = IMS }
		IMS = {
			add_political_power = 150
			add_equipment_to_stockpile = {
				type = infantry_equipment_traditional
				amount = 1000
				producer = REI
			}
		}
		effect_tooltip = {
			REI = {
				add_named_threat = {
					threat = 1
					name = REI_threat_stand_with_seto
				}
			}
		}
	}
	option = {
		name = ostasien.5.b
		trigger = { NOT = { tag = IMS } }
		effect_tooltip = {
			IMS = {
				add_political_power = 150
				add_equipment_to_stockpile = {
					type = infantry_equipment_traditional
					amount = 1000
					producer = REI
				}
			}
			REI = {
				add_named_threat = {
					threat = 1
					name = REI_threat_stand_with_seto
				}
			}
		}
	}
}

country_event = {	### REI_diffuse_IMS_crisis
	id = ostasien.6
	title = ostasien.6.t
	desc = ostasien.6.d
	picture = GFX_report_event_seto_islands

	is_triggered_only = yes
	
	major = yes

	option = {
		trigger = { tag = SHI }
		name = ostasien.6.a
		add_political_power = 150
		effect_tooltip = {
			REI = {
				add_named_threat = {
					threat = -1
					name = REI_threat_diffuse_crisis
				}
			}
		}
	}
	option = {
		trigger = { NOT = { tag = SHI } }
		name = ostasien.6.b
		effect_tooltip = {
			SHI = { add_political_power = 150 }
			REI = {
				add_named_threat = {
					threat = -1
					name = REI_threat_diffuse_crisis
				}
			}
		}
	}
}

country_event = { # Annex Austria
	id = ostasien.7
	title = ostasien.7.t
	desc = ostasien.7.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	major = yes

	option = {
		trigger = { tag = REI }
		name = ostasien.7.a
	}
	option = {
		trigger = { NOT = { tag = REI } }
		name = ostasien.7.b
	}
}

country_event = { # Annex Czechs
	id = ostasien.8
	title = ostasien.8.t
	desc = ostasien.8.desc
	picture = GFX_report_event_cze_divided_nation

	is_triggered_only = yes
	
	major = yes

	option = {
		trigger = { tag = REI }
		name = ostasien.8.a
	}
	option = {
		trigger = { not = { tag = REI } }
		name = ostasien.8.b
	}
}

country_event = { # Fading Chancellor
	id = ostasien.9
	title = ostasien.9.t
	desc = ostasien.9.desc
	picture = GFX_report_event_lud_manifesto

	is_triggered_only = yes

	option = {
		name = ostasien.9.a
	}
}

country_event = { # Who will Lud support?
	id = ostasien.10
	title = ostasien.10.t
	desc = ostasien.10.desc
	picture = GFX_report_event_lud_is_dead

	fire_only_once = yes
	is_triggered_only = yes

	option = { # The Emperor and Nazi
		name = ostasien.10.a
		complete_national_focus = REI_nazi_and_emperor
	}

	option = { # The status quo
		name = ostasien.10.b
		complete_national_focus = REI_general_staff
	}

	option = { # The Fringe groups
		name = ostasien.10.c
		complete_national_focus = REI_cthule_putsch
	}
}

country_event = { # Molotov-Ribentrop
	id = ostasien.11
	title = ostasien.11.t
	desc = ostasien.11.desc
	picture = GFX_report_event_molotov_ribentrop_handshake

	is_triggered_only = yes
	
	major = yes

	option = {
		trigger = { OR = {  tag = REI tag = FER } }
		name = ostasien.11.a
	}
	option = {
		trigger = { not = { tag = REI tag = FER } }
		name = ostasien.11.b
	}
}

### foreign influenec, possibly depricated
country_event = {
    id = REI_foreign_influence.1
	title = REI_foreign_influence.1.t
	desc = REI_foreign_influence.1.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	fire_only_once = no

	option = {
		ai_chance = {
			base = 90
		}
		name="We shall not be apart of their affairs."
		KOB = { country_event = KOB_foreign_influence.3 }
	}

	option = {
		ai_chance = {
			base = 10
		}
		name="Perhaps, this could be a new beginning of a long lasting friendship"
		KOB = { country_event = KOB_foreign_influence.4 }
		REI = {
			diplomatic_relation = {
				country = KOB
				relation = docking_rights
			}
			give_guarantee = KOB
		}
		KOB = {
			diplomatic_relation = {
				country = REI
				relation = docking_rights
			}
			give_guarantee = REI
		}
	}
}

##### CTHULHU EVENTS

country_event = {	# The Necronomicon was found
	id = ostasiencthulhu.1
	title = ostasiencthulhu.1.t
	desc = ostasiencthulhu.1.d
	picture = GFX_report_event_rene_belloq

	fire_only_once = yes
	
	mean_time_to_happen = { days = 30 }
	
	trigger = {
		original_tag = REI
		has_idea_with_trait = REI_crypto_archaeologist
	}

	option = {
		name = ostasiencthulhu.1.a
		trigger = { tag = REI }
		custom_effect_tooltip = allow_arasaka_branch_tt	# same tooltip as Arasaka
		set_global_flag = religion_cthulhu_allowed
		mark_focus_tree_layout_dirty = yes
	}
	option = {
		name = ostasiencthulhu.1.b
		trigger = { tag = REI }
		retire_character = REI_rene_belloq
	}
	option = {
		name = ostasiencthulhu.1.c
		trigger = { NOT = { tag = REI } }
	}
}

country_event = {	# Germany Turns Cthulhist
	id = ostasiencthulhu.2
	title = ostasiencthulhu.2.t
	desc = ostasiencthulhu.2.d
	picture = GFX_report_event_rene_belloq_cult

	is_triggered_only = yes

	option = {
		name = ostasiencthulhu.2.a
		trigger = { tag = REI }
		effect_tooltip = {
			REI = { set_religion_cthulhu = yes }
		}
	}
	option = {
		name = ostasiencthulhu.2.b
		trigger = { NOT = { tag = REI } }
		effect_tooltip = {
			REI = { set_country_religion = 7 }
		}
	}
}

country_event = {	# Boon 1: research
	id = ostasiencthulhu.3
	title = ostasiencthulhu.3.t
	desc = ostasiencthulhu.3.d
	picture = GFX_religion_news_cthulhu

	is_triggered_only = yes
	
	option = {
		name = ostasiencthulhu.3.a
		add_research_slot = 1
	}
}

country_event = {	# Boon 2: national spirit
	id = ostasiencthulhu.4
	title = ostasiencthulhu.4.t
	desc = ostasiencthulhu.4.d
	picture = GFX_report_event_cthulhu_spirit
	
	is_triggered_only = yes

	option = {
		name = ostasiencthulhu.4.a
		add_ideas = REI_idea_cthulhu_spirit
	}
}

country_event = {	# Boon 3: everyone else gets mad
	id = ostasiencthulhu.5
	title = ostasiencthulhu.5.t
	desc = ostasiencthulhu.5.d
	picture = GFX_report_event_madness

	is_triggered_only = yes
	
	option = {
		name = ostasiencthulhu.5.a
		trigger = { tag = REI }
		effect_tooltip = {
			every_other_country = {
				if = {
					limit = { NOT = { tag = REI is_in_faction_with = REI } }
					add_stability = -0.2
				}
			}
		}
	}
	option = {
		name = ostasiencthulhu.5.b
		trigger = { NOT = { tag = REI } }
		add_stability = -0.2
	}
}

country_event = {	# Boon 4: dagon warriors
	id = ostasiencthulhu.6
	title = ostasiencthulhu.6.t
	desc = ostasiencthulhu.6.d
	picture = GFX_report_event_dagon

	is_triggered_only = yes

	option = {
		name = ostasiencthulhu.6.a
		custom_effect_tooltip = REI_dagonerregiment_tt
		set_country_flag = allows_dagonerregiment
		hidden_effect = {
			division_template = {
				name = "Dagonerregiment"
				division_names_group = REI_DAGON_01
				regiments = {
					marine  = { x = 0 y = 0 }
					marine  = { x = 0 y = 1 }
					marine  = { x = 0 y = 2 }
					marine  = { x = 1 y = 0 }
					marine  = { x = 1 y = 1 }
					marine  = { x = 1 y = 2 }
				}
				priority = 1
			}
			capital_scope = {
				create_unit = {
						division = "name = \"1. Dagonerregiment\" division_template = \"Dagonerregiment\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = ROOT
				}
			}
		}
	}
}

### DEPRICATED

#country_event = { # Choose new Chancellor	### DEPRICATED?
#	id = ostasien.8
#	title = ostasien.8.t
#	desc = ostasien.8.desc
#	picture = GFX_report_event_generic_read_write
#	is_triggered_only = yes
#	option = { # Goering
#		name = ostasien.8.a
#		set_country_flag = REI_militarist_victory
#	}
#	option = { # Schleicher
#		name = ostasien.8.b
#		set_country_flag = REI_militarist_victory
#	}
#	option = { # Mackensen
#		name = ostasien.8.c
#		set_country_flag = REI_monarchist_victory
#	}
#	option = { # Raeder
#		name = ostasien.8.d
#		set_country_flag = REI_monarchist_victory
#	}
#	option = { # Keitel
#		name = ostasien.8.e
#		set_country_flag = REI_fascist_victory
#	}
#	option = { # Blomberg
#		name = ostasien.8.f
#		set_country_flag = REI_fascist_victory
#	}	
#}