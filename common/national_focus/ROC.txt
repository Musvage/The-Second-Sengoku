focus_tree = {
	id = ROC_tree
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = ROC
		}
	}
	
	### Temporary Provisions branch
	
	focus = {
		id = ROC_temporary_provisions
		icon = GFX_focus_ROC_temporary_provisions
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		mutually_exclusive = { focus = ROC_aditional_articles }
		
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		bypass = { hidden_trigger = { NOT = { has_global_flag = ROC_temporary_provisions_completed } } }
		available = { hidden_trigger = { NOT = { has_global_flag = ROC_aditional_articles_completed } } }
		
		completion_reward = {
			set_global_flag = ROC_temporary_provisions_completed
			add_ideas = ROC_idea_security_state
		}
	}
	
	# WHAMPOA CLIQUE
	
	focus = {
		id = ROC_whampoa_clique
		icon = GFX_focus_ROC_whampoa_clique
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		mutually_exclusive = { focus = ROC_favourable_treatment focus = ROC_execute_puyi_alt }
		prerequisite = { focus = ROC_temporary_provisions }
		
		relative_position_id = ROC_temporary_provisions
		x = -11
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		bypass = { hidden_trigger = { has_global_flag = ROC_whampoa_clique_completed } }
	 
		completion_reward = {
			set_global_flag = ROC_whampoa_clique_completed
			add_timed_idea = { idea = ROC_idea_whampoa_clique days = 1095 }
		}
	}
	
	focus = {
		id = ROC_march_on_beijing
		icon = GFX_focus_ROC_march_on_beijing
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		prerequisite = { focus = ROC_whampoa_clique }
		
		relative_position_id = ROC_whampoa_clique
		x = -2
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			fascism > 0.33
			autocracy < 0.5
			neutrality < 0.5
			democratic < 0.5
			democratic_socialism < 0.5
			communism < 0.5
			NOT = { has_government = fascism }
		}
		
		bypass = {
			has_government = fascism
			hidden_trigger = { has_global_flag = ROC_march_on_beijing_completed }
		}
	 
		completion_reward = {
			set_global_flag = ROC_march_on_beijing_completed
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
		}
	}
	
	focus = {
		id = ROC_replace_governors
		icon = GFX_focus_ROC_direct_administration
		search_filters = { FOCUS_FILTER_STABILITY }
		
		mutually_exclusive = { focus = ROC_accomodate_warlords }
		prerequisite = { focus = ROC_march_on_beijing }
		
		relative_position_id = ROC_march_on_beijing
		x = -1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		available = { hidden_trigger = { NOT = { has_global_flag = ROC_accomodate_warlords_completed } } }
		
		ai_will_do = {
			factor = 10
		}
	 
		completion_reward = {
			set_global_flag = ROC_replace_governors_completed
			add_ideas = ROC_idea_iron_fist
		}
	}
	
	focus = {
		id = ROC_accomodate_warlords
		icon = GFX_focus_ROC_warlords
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		
		mutually_exclusive = { focus = ROC_replace_governors }
		prerequisite = { focus = ROC_march_on_beijing }
		
		relative_position_id = ROC_march_on_beijing
		x = 1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		bypass = { hidden_trigger = { has_global_flag = ROC_accomodate_warlords_completed } }
		available = { hidden_trigger = { NOT = { has_global_flag = ROC_replace_governors_completed }} }
		
		completion_reward = {
			set_global_flag = ROC_accomodate_warlords_completed
			add_ideas = ROC_idea_warlord_support
		}
	}
	
	focus = {
		id = ROC_help_white_russians
		icon = GFX_focus_ROC_protect_russians
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RELIGION }
		
		prerequisite = { focus = ROC_imperial_ambitions }
		
		relative_position_id = ROC_imperial_ambitions
		x = -2
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
	 
		completion_reward = {
			add_ideas = ROC_idea_help_white_russians
			ROC = {
				add_opinion_modifier = {
					target = FER
					modifier = ROC_white_russian_opinion
				}
			}
			FER = {
				add_opinion_modifier = {
					target = ROC
					modifier = ROC_white_russian_opinion_other
				}
			}
		}
	}
	
	focus = {
		id = ROC_militarised_society
		icon = GFX_focus_ROC_militarised_society
		search_filters = { FOCUS_FILTER_WORLD FOCUS_FILTER_MANPOWER }
		
		prerequisite = { focus = ROC_replace_governors focus = ROC_accomodate_warlords }
		
		relative_position_id = ROC_replace_governors
		x = 1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		text_icon = worldstage_style
		
		available = {
			OR = {
				has_government = fascism
				has_government = autocracy
				has_government = neutrality
			}
		}
	 
		completion_reward = {
			set_global_flag = ROC_militarised_society_completed
			add_ideas = ROC_idea_militarised_society
			hidden_effect = {
				var:world_stage_metropolis = {
					add_to_variable = {
						var = world_stage_power
						value = 5
					}
				}
			}
			effect_tooltip = {
				add_to_variable = {
					var = world_stage_power
					value = 5
					tooltip = add_world_stage_power_no_scope_tt
				}
			}
		}
	}
	
	# Articles of Favourable Treatment (or not...)
	
	focus = {
		id = ROC_favourable_treatment
		icon = GFX_focus_ROC_favourable_treatment
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		
		mutually_exclusive = { focus = ROC_whampoa_clique focus = ROC_execute_puyi focus = ROC_execute_puyi_alt }
		prerequisite = { focus = ROC_temporary_provisions }
		
		relative_position_id = ROC_temporary_provisions
		x = -5
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = { hidden_trigger = { NOT = { has_global_flag = ROC_whampoa_clique_completed } } }
		
		completion_reward = {
			#add_ideas = ROC_idea_favourable_treatment	# removed in favor of the man himself
			add_political_power = 100
			effect_tooltip = {
				ROC_emperor_puyi = {
					add_advisor_role = {
						advisor = {
							slot = political_advisor
							cost = 150
							idea_token = ROC_emperor_puyi
							traits = {
								coalition_with_autocracy_char
							}
						}
						activate = no
					}
				}
				custom_effect_tooltip = coalition_with_autocracy_desc
			}
		}
	}
	
	focus = {
		id = ROC_execute_puyi
		icon = GFX_focus_ROC_execute_puyi
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		mutually_exclusive = { focus = ROC_favourable_treatment }
		prerequisite = { focus = ROC_temporary_provisions }
		
		relative_position_id = ROC_temporary_provisions
		x = -3
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				has_completed_focus = ROC_march_on_beijing
			}
			modifier = {
				add = 10
				autocracy > 0.1
			}
		}
		
		available = {
			NOT = {
				has_government = autocracy
				has_idea_with_trait = persuasive_monarchist
				autocracy < 0.01
			}
		}
		
		allow_branch = {
			NOT = { has_country_flag = allow_lo_pan_branch }
		}
	 
		completion_reward = {
			hidden_effect = { news_event = republic_of_china.3 }
			set_temp_variable = { pop_democratic = party_popularity_100@democratic }
			set_temp_variable = { pop_communism = party_popularity_100@communism }
			set_temp_variable = { pop_fascism = party_popularity_100@fascism }
			set_temp_variable = { pop_soc_dem = party_popularity_100@democratic_socialism }
			set_temp_variable = { pop_neutrality = party_popularity_100@neutrality }
			set_temp_variable = { pop_monarchy = party_popularity_100@autocracy }
			set_temp_variable = { pop_change = party_popularity_100@autocracy  }
			
			multiply_temp_variable = { pop_change = 0.75 }
			set_temp_variable = { pop_change_half = pop_change }
			multiply_temp_variable = { pop_change_half = 0.005 }
			add_to_temp_variable = { pop_fascism = pop_change_half }
			add_to_temp_variable = { pop_neutrality = pop_change_half }
			subtract_from_temp_variable = { pop_monarchy = pop_change }
			
			## error catcher
			set_temp_variable = { error_catcher = 100 }
			subtract_from_temp_variable = { error_catcher = pop_democratic }
			subtract_from_temp_variable = { error_catcher = pop_communism }
			subtract_from_temp_variable = { error_catcher = pop_fascism }
			subtract_from_temp_variable = { error_catcher = pop_neutrality }
			subtract_from_temp_variable = { error_catcher = pop_monarchy }
			subtract_from_temp_variable = { error_catcher = pop_soc_dem }
			add_to_temp_variable = { pop_monarchy = error_catcher }	# it makes sure all pop's add up to 100
			
			effect_tooltip = {
				multiply_temp_variable = { pop_change = 0.01 }
				add_popularity = {
					ideology = fascism
					popularity = var:pop_change_half
				}
				add_popularity = {
					ideology = neutrality
					popularity = var:pop_change_half
				}
				multiply_temp_variable = { pop_change = -1 }
				add_popularity = {
					ideology = autocracy
					popularity = var:pop_change
				}
				multiply_temp_variable = { pop_change = -100 }
			}
			
			hidden_effect = {
				set_popularities = {
					democratic = var:pop_democratic
					democratic_socialism = var:pop_soc_dem
					autocracy = var:pop_monarchy
					neutrality = var:pop_neutrality
					fascism = var:pop_fascism
					communism = var:pop_communism
				}
			}
			#multiply_temp_variable = { pop_change = 10 }
			#add_political_power = var:pop_change
			custom_effect_tooltip = ROC_execute_puyi_tt
			### Start eastergg branch
			hidden_effect = {
				if = {
					limit = {
						NOT = { has_completed_focus = ROC_whampoa_clique }
						has_global_flag = eastereggs_enabled	#has_game_rule = { rule = allow_easteregg_characters option = EASTERGG_ALLOWED }
						has_religion_4 = yes
					}
					set_country_flag = allow_lo_pan_branch
					unlock_national_focus = ROC_execute_puyi_alt
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}
	
	focus = {
		id = ROC_execute_puyi_alt
		icon = GFX_focus_ROC_execute_puyi
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		mutually_exclusive = { focus = ROC_favourable_treatment focus = ROC_whampoa_clique }
		prerequisite = { focus = ROC_temporary_provisions }
		
		relative_position_id = ROC_temporary_provisions
		x = -3
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		allow_branch = {
			has_country_flag = allow_lo_pan_branch
		}
		
		available = {
			NOT = {
				has_government = autocracy
				has_idea_with_trait = persuasive_monarchist
				autocracy < 0.01
			}
		}
	 
		completion_reward = {
			# no effects here!
		}
	}
	
	focus = {
		id = ROC_traditionalism
		icon = GFX_focus_ROC_reject_modernity
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RELIGION }
		
		prerequisite = { focus = ROC_favourable_treatment }
		
		relative_position_id = ROC_favourable_treatment
		x = 1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		allow_branch = {
			NOT = { has_country_flag = allow_lo_pan_branch }
		}
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			has_religion_5 = yes
			NOT = {
				has_government = communism
				has_government = democratic
				has_government = democratic_socialism
			}
		}
	 
		completion_reward = {
			add_ideas = ROC_idea_reverse_modernization
		}
	}
	
	focus = {
		id = ROC_traditionalism_alt
		icon = GFX_focus_ROC_reject_modernity
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RELIGION }
		
		prerequisite = { focus = ROC_execute_puyi_alt }
		
		relative_position_id = ROC_favourable_treatment
		x = 2
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		allow_branch = {
			has_country_flag = allow_lo_pan_branch
		}
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			has_religion_4 = yes
			NOT = {
				has_government = communism
				has_government = democratic
				has_government = democratic_socialism
			}
		}
	 
		completion_reward = {
			add_ideas = ROC_idea_reverse_modernization_alt
		}
	}
	
	focus = {
		id = ROC_red_swastika_society
		icon = GFX_focus_ROC_red_swastika
		search_filters = { FOCUS_FILTER_STABILITY }
		
		prerequisite = { focus = ROC_traditionalism }
		
		relative_position_id = ROC_traditionalism
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
	 
		completion_reward = {
			add_ideas = ROC_idea_red_swastika_society
		}
	}
	
	focus = {
		id = ROC_red_swastika_society_alt
		icon = GFX_focus_ROC_red_swastika
		search_filters = { FOCUS_FILTER_STABILITY }
		
		prerequisite = { focus = ROC_traditionalism_alt }
		
		relative_position_id = ROC_traditionalism_alt
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
	 
		completion_reward = {
			add_ideas = ROC_idea_red_swastika_society
		}
	}
	
	focus = {
		id = ROC_green_eyed_bride
		icon = GFX_focus_PRO_social_democratic_majority	### MISSING GFX! (or not)
		search_filters = {  }
		
		prerequisite = { focus = ROC_traditionalism_alt }
		
		relative_position_id = ROC_traditionalism_alt
		x = -1
		y = 2
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			has_religion_4 = yes
		}
	 
		completion_reward = {
			# event for Lo Pan's bride
			add_ideas = ROC_idea_miao_yin
		}
	}
	
	focus = {
		id = ROC_curse_of_no_flesh
		icon = GFX_focus_ROC_lift_curse
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		prerequisite = { focus = ROC_green_eyed_bride }
		
		relative_position_id = ROC_green_eyed_bride
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			has_religion_4 = yes
		}
	 
		completion_reward = {
			# unlocks Lo Pan
			ROC_lo_pan = {
				add_country_leader_role = {
					country_leader={
						ideology = autocracy_supernatural
						expire = "1999.1.1.12"
						id = 62971	# 5 first numbers of MD5 hashing of 'Lo Pan'
					}
					promote_leader = yes
				}
			}
			set_politics = {
				ruling_party = autocracy
				elections_allowed = no
			}
			set_party_name = { 
				ideology = autocracy
				long_name = ROC_lo_pan_court 
				name = ROC_lo_pan_court 
			}
			hidden_effect = { remove_ideas = ROC_idea_miao_yin }
		}
	}
	
	focus = {
		id = ROC_lo_pan_clairvoyance
		icon = GFX_focus_ROC_lo_pan_clairvoyance
		search_filters = { FOCUS_FILTER_SPY }
		
		prerequisite = { focus = ROC_curse_of_no_flesh }
		
		relative_position_id = ROC_curse_of_no_flesh
		x = -2
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			has_country_leader = {
				id = 62971	# Lo Pan
			}
		}
	 
		completion_reward = {
			if = {
				limit = {
					has_country_leader = {
						id = 62971	# Lo Pan
						ruling_only = yes
					}
				}
				add_country_leader_trait = ROC_clairvoyance
				hidden_effect = {
					var:world_stage_metropolis = {
						add_to_variable = {
							var = world_stage_power
							value = 10
						}
					}
				}
				effect_tooltip = {
					add_to_variable = {
						var = world_stage_power
						value = 10
						tooltip = add_world_stage_power_no_scope_tt
					}
				}
			}
		}
	}
	
	focus = {
		id = ROC_lo_pan_arcane_knowledge
		icon = GFX_focus_ROC_lo_pan_arcane
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		prerequisite = { focus = ROC_curse_of_no_flesh }
		
		relative_position_id = ROC_curse_of_no_flesh
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			has_country_leader = {
				id = 62971	# Lo Pan
			}
		}
	 
		completion_reward = {
			if = {
				limit = {
					has_country_leader = {
						id = 62971	# Lo Pan
						ruling_only = yes
					}
				}
				add_country_leader_trait = ROC_arcane_knowledge
				hidden_effect = {
					var:world_stage_metropolis = {
						add_to_variable = {
							var = world_stage_power
							value = 10
						}
					}
				}
				effect_tooltip = {
					add_to_variable = {
						var = world_stage_power
						value = 10
						tooltip = add_world_stage_power_no_scope_tt
					}
				}
			}
		}
	}
	
	focus = {
		id = ROC_lo_pan_thunder_lightning_storm
		icon = GFX_focus_ROC_lo_powers
		search_filters = { FOCUS_FILTER_MILITARY }
		
		prerequisite = { focus = ROC_curse_of_no_flesh }
		
		relative_position_id = ROC_curse_of_no_flesh
		x = 2
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			has_country_leader = {
				id = 62971	# Lo Pan
			}
		}
	 
		completion_reward = {
			if = {
				limit = {
					has_country_leader = {
						id = 62971	# Lo Pan
						ruling_only = yes
					}
				}
				add_country_leader_trait = ROC_thunder_lightning_storm
				hidden_effect = {
					var:world_stage_metropolis = {
						add_to_variable = {
							var = world_stage_power
							value = 10
						}
					}
				}
				effect_tooltip = {
					add_to_variable = {
						var = world_stage_power
						value = 10
						tooltip = add_world_stage_power_no_scope_tt
					}
				}
			}
		}
	}
	
	# Imperial Ambitions
	
	focus = {
		id = ROC_imperial_ambitions
		icon = GFX_focus_ROC_imperial_ambitions
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		
		prerequisite = { focus = ROC_whampoa_clique focus = ROC_favourable_treatment focus = ROC_execute_puyi_alt }
		
		relative_position_id = ROC_favourable_treatment
		x = -3
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		available = {
			custom_trigger_tooltip = {
				tooltip = china_has_world_stage_power_30
				106 = { check_variable = { world_stage_power > 29 } }
			}
			has_world_stage_coalition_allies = no
			world_stage_has_capitulated = no
		}
		
		ai_will_do = {
			factor = 10
		}
		
		bypass = { hidden_trigger = { has_global_flag = ROC_imperial_ambitions_completed } }
	 
		completion_reward = {
			# antagonize the Allied nations
			set_global_flag = ROC_imperial_ambitions_completed
			every_other_country = {
				limit = { OR = { has_world_stage_coalition_allies = yes has_world_stage_coalition_leagueofnations = yes } }
				add_opinion_modifier = {
					target = ROC
					modifier = ROC_opinion_imperial_ambitions
				}
			}
			add_war_support = 0.1
		}
	}
	
	# Antikominternpakt
	
	focus = {
		id = ROC_antikominternpakt
		icon = GFX_focus_ROC_antikominternpakt
		search_filters = { FOCUS_FILTER_DIPLOMACY FOCUS_FILTER_WORLD FOCUS_FILTER_POLITICAL }
		
		prerequisite = { focus = ROC_imperial_ambitions }
		
		relative_position_id = ROC_imperial_ambitions
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		text_icon = worldstage_style
		
		ai_will_do = {
			factor = 10
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = has_world_stage_coalition_axis_tt	# this seems cluncky, but we are using a custom trigger to hide the ROC_antikominternpakt_completed
				OR = {
					has_world_stage_coalition_axis = yes
					has_global_flag = ROC_antikominternpakt_completed
				}
			}
		}
		
		available = {
			world_stage_has_capitulated = no
			custom_trigger_tooltip = {
				tooltip = world_stage_germany_did_not_capitulate_trigger
				101 = { NOT = { has_state_flag = metropolis_capitulated } }
			}
		}
	 
		completion_reward = {
			# sides with germany on wwii
			set_global_flag = ROC_antikominternpakt_completed
			add_political_power = 150
			news_event = republic_of_china.2
			if = {
				limit = { has_global_flag = league_of_nations_exists }	# therefore, Pact of Steel exists
				world_stage_join_pactofsteel = yes
			} else = {
				world_stage_join_axis = yes								# this is a bit redundant but I'll keep this way as a fail-safe
			}
			if = {
				limit = { REI = { exists = yes has_war = no } }
				ROC = { give_guarantee = REI }
			}
			if = {
				limit = { ROC = { exists = yes has_war = no } }
				REI = { give_guarantee = ROC }
			}
			if = {
				limit = { has_idea = SS_lon_member }
				remove_ideas = SS_lon_member
			}
			set_global_flag = china_aligned_axis					# MAYBE THIS IS UNCESSARY / OLD CODE, CHECK LATER --- TODO TO-DO TO DO
		}
	}
	
	focus = {
		id = ROC_joint_exercises
		icon = GFX_focus_ROC_joint_exercises
		search_filters = { FOCUS_FILTER_MILITARY }
		
		prerequisite = { focus = ROC_antikominternpakt }
		
		relative_position_id = ROC_antikominternpakt
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
	 
		completion_reward = {	
			ROC = {
				army_experience = 20
				navy_experience = 20
				air_experience = 20
			}
			every_other_country = {
				limit = { is_in_faction_with = ROC }
				army_experience = 10
				navy_experience = 10
				air_experience = 10
			}
			# fire costmetic event
		}
	}
	
	focus = {
		id = ROC_tech_collab
		icon = GFX_focus_REI_german_engineering	### MISSING GFX! (or not)
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		prerequisite = { focus = ROC_joint_exercises }
		
		relative_position_id = ROC_joint_exercises
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
	 
		completion_reward = {
			effect_tooltip = {
				add_tech_bonus = {
					name = land_equipment_bonus
					bonus = 1.0
					uses = 1
					category = land_equipment_category
				}
			}
			hidden_effect = {
				add_tech_bonus = {
					name = land_equipment_bonus
					bonus = 1.0
					uses = 1
					category = armor
					category = artillery
					category = infantry_weapons
					category = cat_mechanized_equipment
					category = mot_rockets
				}
			}
			add_tech_bonus = {
				name = naval_equipment_bonus
				bonus = 1.0
				uses = 1
				category = naval_equipment
			}
			add_tech_bonus = {
				name = air_equipment_bonus
				bonus = 1.0
				uses = 1
				category = air_equipment
			}
		}
	}
	
	focus = {
		id = ROC_siberian_offensive			# Northern Offensive
		icon = GFX_focus_ROC_siberian_offensive
		search_filters = { FOCUS_FILTER_WORLD }
		
		prerequisite = { focus = ROC_antikominternpakt }
		
		relative_position_id = ROC_antikominternpakt
		x = -2
		y = 1
		cost = 10
		
		text_icon = worldstage_style
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			has_global_flag = world_stage_world_war_2_is_active
			has_global_flag = sovietunion_joined_ww2
			has_world_stage_coalition_axis = yes
			custom_trigger_tooltip = {
				tooltip = china_has_world_stage_power_25
				106 = { check_variable = { world_stage_power > 24 } }
			}
			OR = {
				custom_trigger_tooltip = { 18 = { check_variable = { theater_owner_coalition = 3 } } tooltip = theater_tibet_controlled_axis }
				custom_trigger_tooltip = { 2 = { check_variable = { theater_owner_coalition = 3 } } tooltip = theater_mongolia_controlled_axis }
			}
			custom_trigger_tooltip = {
				
			}
			world_stage_has_capitulated = no
		}
		cancelable = no
		
		will_lead_to_war_with = FER
		
		completion_reward = {
			set_global_flag = ROC_siberian_offensive_completed
			add_named_threat = { 
				threat = 25
				name = ROC_threat_siberian_offensive
			}
			hidden_effect = {
				106 = { set_temp_variable = { chi_forces_value = world_stage_power } }
				multiply_temp_variable = { chi_forces_value = 0.75 }
				round_temp_variable = chi_forces_value
				clamp_temp_variable = { var = chi_forces_value min = 25 max = 50 }
				104 = { set_temp_variable = { sov_forces_value = world_stage_power } }
				multiply_temp_variable = { sov_forces_value = 0.25 }
				round_temp_variable = sov_forces_value
				clamp_temp_variable = { var = sov_forces_value min = 1 max = 50 }
			}
			# at this point, we expect that Mongolia will be aligned to someone, so we dont have to do a "across Belgium + throat singing"
			if = {
				limit = { 2 = { check_variable = { theater_owner_coalition = 3 } } }	# MONGOLIA IS AXIS, so the offensive goes straigth to Siberia
				custom_effect_tooltip = metropolis_scope_china_space
				subtract_from_variable = {	# this operation's tooltip IS the deployment tooltip, actual deployment is hidden to avoid the wrong scope appering in the focus effect
					106.world_stage_power = chi_forces_value
					tooltip = world_stage_deploy_power_siberia_space
				}
				custom_effect_tooltip = metropolis_scope_sovietunion_space
				subtract_from_variable = {	# this operation's tooltip IS the deployment tooltip, actual deployment is hidden to avoid the wrong scope appering in the focus effect
					104.world_stage_power = sov_forces_value
					tooltip = world_stage_deploy_power_siberia_space
				}
				hidden_effect = {
					22 = {	# Siberia proxy
						set_state_flag = theater_is_active
						set_variable = { world_stage_power_deployed_by^106 = chi_forces_value }
						set_variable = { world_stage_power_deployed_by^104 = sov_forces_value }
						set_variable = { coalition_side_attack = 3 }
						world_stage_state_update_current_day = yes
					}
				}
				# we are assuming that ROC is on the offensive here
				custom_effect_tooltip = theater_scope_siberia
				custom_effect_tooltip = world_stage_activate_theater_tt
				add_to_variable = {
					22.attacker_strategic_advantage = 0.5
					tooltip = world_stage_add_strategic_advantage_attacker
				}
			} else = {																# MONGOLIA IS KOMINTER/ALLIES, so the offensive starts in Mongolia
				custom_effect_tooltip = metropolis_scope_china_space
				subtract_from_variable = {	# this operation's tooltip IS the deployment tooltip, actual deployment is hidden to avoid the wrong scope appering in the focus effect
					106.world_stage_power = chi_forces_value
					tooltip = world_stage_deploy_power_mongolia_space
				}
				custom_effect_tooltip = metropolis_scope_sovietunion_space
				subtract_from_variable = {	# this operation's tooltip IS the deployment tooltip, actual deployment is hidden to avoid the wrong scope appering in the focus effect
					104.world_stage_power = sov_forces_value
					tooltip = world_stage_deploy_power_mongolia_space
				}
				hidden_effect = {
					2 = {	# Mongolia proxy
						set_state_flag = theater_is_active
						set_variable = { world_stage_power_deployed_by^106 = chi_forces_value }
						set_variable = { world_stage_power_deployed_by^104 = sov_forces_value }
						set_variable = { coalition_side_attack = 3 }
						world_stage_state_update_current_day = yes
					}
				}
				# we are assuming that ROC is on the offensive here
				custom_effect_tooltip = theater_scope_mongolia
				custom_effect_tooltip = world_stage_activate_theater_tt
				add_to_variable = {
					2.attacker_strategic_advantage = 0.5
					tooltip = world_stage_add_strategic_advantage_attacker
				}
			}
			declare_war_on = { target = ALY type = annex_everything }
			if = {
				limit = { has_global_variable = sovietunion_joined_ww2 }
				news_event = republic_of_china.81
				declare_war_on = { target = ALY type = annex_everything }
				if = { limit = { NOT = { country_exists = ALY } } declare_war_on = { target = FER type = annex_everything } }	# mostly for tooltips
			} else = {
				news_event = republic_of_china.8 
				declare_war_on = { target = FER type = annex_everything }	# if/limits here seem redundant but it display the tooltips better
			}
			if = {
				limit = { NOT = { has_global_variable = china_joined_ww2 } }
				custom_effect_tooltip = china_will_join_axis_ww2
				set_global_flag = china_joined_ww2
				hidden_effect = { 106 = { set_state_flag = worldstage_AI_active } }
			}
			if = {
				limit = { NOT = { has_global_variable = sovietunion_joined_ww2 } }
				custom_effect_tooltip = sovietunion_will_join_allies_ww2
				set_global_flag = sovietunion_joined_ww2
				hidden_effect = { 104 = { set_state_flag = worldstage_AI_active } }
			}
		}
	}
	
	focus = {
		id = ROC_denounce_treaties
		icon = GFX_focus_ROC_denounce_treaties
		search_filters = { FOCUS_FILTER_WORLD FOCUS_FILTER_WAR_SUPPORT }
		
		prerequisite = { focus = ROC_antikominternpakt }
		
		relative_position_id = ROC_antikominternpakt
		x = 2
		y = 1
		cost = 10
		
		text_icon = worldstage_style
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		bypass = { hidden_trigger = { has_global_flag = ROC_denounce_treaties_completed } }
		
		available = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = china_has_world_stage_power_30
					106 = { check_variable = { world_stage_power > 29 } }
				}
				has_global_flag = world_stage_world_war_2_is_active
			}
			if = {
				limit = { has_global_flag = league_of_nations_exists }
				has_world_stage_coalition_leagueofnations = no
			} else = {
				has_world_stage_coalition_allies = no
			}
			world_stage_has_capitulated = no
		}
	 
		completion_reward = {
			set_global_flag = ROC_denounce_treaties_completed
			# seize off map trade ports in China (off map British and Portuguese)		
			if = { limit = { has_government = autocracy } add_ideas = ROC_idea_nationalist_wave_autocracy }
			else_if = { limit = { has_government = neutrality } add_ideas = ROC_idea_nationalist_wave_neutrality }
			else = { add_ideas = ROC_idea_nationalist_wave_fascism }
			# Macau
			if = {
				limit = {	# we gotta check to see whether or not PRT and ROC are on the same side
					OR = {
						AND = {
							106 = { check_variable = { world_stage_coalition = 3 } }
							108 = { check_variable = { world_stage_coalition = 3 } }
						}
						AND = {
							106 = { check_variable = { world_stage_coalition = 6 } }
							108 = { check_variable = { world_stage_coalition = 6 } }
						}
					}
				}
				hidden_effect = { news_event = republic_of_china.41 }	# EVENT FOR ONLY HONG KONG'S ANNEXATION
			} else = {
				hidden_effect = { news_event = republic_of_china.4 }	# EVENT FOR BOTH ANNEXATIONS
				if = {
					limit = { country_exists = PRT }
					PRT = { effect_tooltip = { country_event = worldstage.73 } }
				} else = {
					hidden_effect = {
						if = {
							limit = {
								108 = { check_variable = { world_stage_coalition = 4 } }
								NOT = { PRT = { has_country_flag = will_join_allies } }	# if it's already decided, player won't choose twice
							}					
							set_global_flag = delayed_event_worldstage74
						} else = { news_event = worldstage.74 }
					}
				}	# Off-map Portugal joins the war
				custom_effect_tooltip = ROC_denounce_treaties_tt_macau
				custom_effect_tooltip = metropolis_scope_portugal_space
				hidden_effect = { 108 = { add_to_variable = { world_stage_power = -1 } } }
				effect_tooltip = {
					add_to_variable = {
						var = world_stage_power
						value = 1
						tooltip = remove_world_stage_power_no_scope_tt
					}
				}
				hidden_effect = { PRT = { add_opinion_modifier = { target = ROC modifier = ROC_seized_macau } } remove_opinion_modifier = { target = PRT modifier = ROC_holds_macau } }
			}
			# Hong Kong
			custom_effect_tooltip = ROC_denounce_treaties_tt_hong_kong
			custom_effect_tooltip = metropolis_scope_england_space
			hidden_effect = { 102 = { add_to_variable = { world_stage_power = -1 } } }
			effect_tooltip = {
				add_to_variable = {
					var = world_stage_power
					value = 1
					tooltip = remove_world_stage_power_no_scope_tt
				}
			}
			hidden_effect = { OSA = { add_opinion_modifier = { target = ROC modifier = ROC_seized_hong_kong } } remove_opinion_modifier = { target = OSA modifier = ROC_holds_hong_kong } }
			if = {
				limit = { has_global_flag = world_stage_world_war_2_is_active }
				custom_effect_tooltip = china_will_join_axis_ww2
				add_named_threat = { 
					threat = 10
					name = ROC_threat_denounce_treaties
				}
				clr_global_variable = modus_vivendi_pacific
				hidden_effect = { country_event = worldstage.80 }
				declare_war_on = { target = ALY type = annex_everything }
			} else = {
				add_named_threat = { 
					threat = 1
					name = ROC_threat_denounce_treaties
				}
			}
			if = {
				limit = { NOT = { has_global_variable = china_joined_ww2 } has_global_flag = world_stage_world_war_2_is_active }
				custom_effect_tooltip = china_will_join_axis_ww2
				set_global_flag = china_joined_ww2
				hidden_effect = { 106 = { set_state_flag = worldstage_AI_active } }
			}
		}
	}
	
	focus = {
		id = ROC_taiwan
		icon = GFX_focus_ROC_liberate_taiwan
		search_filters = { FOCUS_FILTER_WORLD }
		
		prerequisite = { focus = ROC_denounce_treaties }
		
		relative_position_id = ROC_denounce_treaties
		x = 0
		y = 1
		cost = 10
		
		text_icon = worldstage_style
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		bypass = { hidden_trigger = { has_global_flag = ROC_taiwan_completed } }
		
		will_lead_to_war_with = MUS
		will_lead_to_war_with = SUS
		
		available = {
			custom_trigger_tooltip = { 106 = { check_variable = { world_stage_power > 14 } } tooltip = china_has_world_stage_power_15 }
			has_global_flag = world_stage_world_war_2_is_active
			NOT = {
				is_in_faction_with = AMC
				is_in_faction_with = OKI
			}
			world_stage_has_capitulated = no
		}
	 
		completion_reward = {
			set_global_flag = ROC_taiwan_completed
			add_named_threat = {
				threat = 25
				name = ROC_threat_taiwan
			}
			hidden_effect = {
				106 = { set_temp_variable = { chi_forces_value = world_stage_power } }
				multiply_temp_variable = { chi_forces_value = 0.75 }
				round_temp_variable = chi_forces_value
				clamp_temp_variable = { var = chi_forces_value min = 15 max = 30 }
				105 = { set_temp_variable = { usa_forces_value = world_stage_power } }
				multiply_temp_variable = { usa_forces_value = 0.25 }
				round_temp_variable = usa_forces_value
				clamp_temp_variable = { var = usa_forces_value min = 1 max = 50 }
				33 = { set_state_flag = theater_is_active }	
				33 = { add_to_variable = { world_stage_power_deployed_by^106 = chi_forces_value }  }
				33 = { add_to_variable = { world_stage_power_deployed_by^105 = usa_forces_value }  }
				33 = { set_variable = { coalition_side_attack = 3 } }
				33 = { world_stage_state_update_current_day = yes }
			}
			# at this point, we expect that Mongolia will be aligned to someone, so we dont have to do a "across Belgium + throat singing"
			custom_effect_tooltip = metropolis_scope_china_space
			subtract_from_variable = {	# this operation's tooltip IS the deployment tooltip, actual deployment is hidden to avoid the wrong scope appering in the focus effect
				106.world_stage_power = chi_forces_value
				tooltip = world_stage_deploy_power_taiwan_space
			}
			custom_effect_tooltip = metropolis_scope_usa_space
			subtract_from_variable = {	# this operation's tooltip IS the deployment tooltip, actual deployment is hidden to avoid the wrong scope appering in the focus effect
				104.world_stage_power = usa_forces_value
				tooltip = world_stage_deploy_power_taiwan_space
			}
			custom_effect_tooltip = theater_scope_taiwan
			custom_effect_tooltip = world_stage_activate_theater_tt
			if = {
				limit = { NOT = { has_global_flag = unitedstates_joined_ww2 } }
				news_event = republic_of_china.10
				declare_war_on = {
					target = MUS
					type = annex_everything
				}
				custom_effect_tooltip = usa_will_join_allies_ww2
				hidden_effect = { news_event = { id = worldstage.77 hours = 6 } hidden_effect = { 104 = { set_state_flag = worldstage_AI_active } } }
			} else = {
				declare_war_on = {	# this effects happens 2 times so the tooltip looks better
					target = MUS
					type = annex_everything
				}
				news_event = republic_of_china.11
			}
			if = {
				limit = { NOT = { has_global_variable = china_joined_ww2 } }
				custom_effect_tooltip = china_will_join_axis_ww2
				set_global_flag = china_joined_ww2
				hidden_effect = { 106 = { set_state_flag = worldstage_AI_active } }
			}
		}
	}
	
	focus = {
		id = ROC_east_indies
		icon = GFX_focus_ROC_liberate_east_indies
		search_filters = { FOCUS_FILTER_WORLD }
		
		prerequisite = { focus = ROC_denounce_treaties }
		
		relative_position_id = ROC_denounce_treaties
		x = 1
		y = 1
		cost = 10
		
		text_icon = worldstage_style
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		allow_branch = { always = no }	### TODO TO-DO TO DO: this will be re-added when HIR or ROC get a rework
		
		available = {
			world_stage_has_capitulated = no
		}
	 
		completion_reward = {
			add_named_threat = {
				threat = 10
				name = ROC_threat_east_indies
			}
		}
	}
	
	### Rurals Reconstruction Branch
	
	focus = {
		id = ROC_rural_reconstruction
		icon = GFX_focus_ROC_rural_reconstruction
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WORLD }
		
		prerequisite = { focus = ROC_temporary_provisions }
		
		text_icon = worldstage_style
		
		relative_position_id = ROC_temporary_provisions
		x = -1
		y = 1
		offset = {
			x = 1
			y = 0
			trigger = {
				has_country_flag = allow_lo_pan_branch
			}
		}
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		bypass = { hidden_trigger = { has_global_flag = ROC_rural_reconstruction_completed } }
	 
		completion_reward = {
			set_global_flag = ROC_rural_reconstruction_completed
			add_offsite_building = { type = industrial_complex level = 4 }
			hidden_effect = {
				var:world_stage_metropolis = {
					add_to_variable = {
						var = world_stage_power
						value = 5
					}
				}
			}
			effect_tooltip = {
				add_to_variable = {
					var = world_stage_power
					value = 5
					tooltip = add_world_stage_power_no_scope_tt
				}
			}
		}
	}
	
	focus = {
		id = ROC_price_controls
		icon = GFX_focus_ROC_price_control
		search_filters = { FOCUS_FILTER_STABILITY }
		
		prerequisite = { focus = ROC_rural_reconstruction }
		
		relative_position_id = ROC_rural_reconstruction
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_stability = 0.1
		}
	}
	
	focus = {
		id = ROC_favour_local_production	# boycott of foreign products
		icon = GFX_focus_generic_industrial_complex	### MISSING GFX! (or not)
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		prerequisite = { focus = ROC_price_controls }
		
		relative_position_id = ROC_price_controls
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 2.0
				uses = 2
				category = industry
			}
		}
	}
	
	focus = {
		id = ROC_research_1
		icon = GFX_focus_ROC_tech_china
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		prerequisite = { focus = ROC_favour_local_production }
		
		relative_position_id = ROC_favour_local_production
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_research_slot = 1
		}
	}

	### Communications Clique Branch
	
	focus = {
		id = ROC_communications_clique
		icon = GFX_focus_ROC_communications_clique
		search_filters = { FOCUS_FILTER_WORLD FOCUS_FILTER_RESEARCH }
		
		mutually_exclusive = { focus = ROC_support_federalisation }
		prerequisite = { focus = ROC_aditional_articles focus = ROC_temporary_provisions }
		
		relative_position_id = ROC_rural_reconstruction
		x = 5
		y = 0
		cost = 10
		
		text_icon = worldstage_style
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			controls_state = 228
		}
		
		bypass = { hidden_trigger = { has_global_flag = ROC_communications_clique_completed } }
		
		completion_reward = {
			set_global_flag = ROC_communications_clique_completed
			# strengthens China in WWII, bonus to railways
			hidden_effect = {
				var:world_stage_metropolis = {
					add_to_variable = {
						var = world_stage_power
						value = 5
					}
				}
			}
			effect_tooltip = {
				add_to_variable = {
					var = world_stage_power
					value = 5
					tooltip = add_world_stage_power_no_scope_tt
				}
			}
			add_tech_bonus = {
				name = train_tech_bonus
				bonus = 2.0
				uses = 1
				category = train_tech
			}
			#build_railway = {
			#	level = 1
			#	build_only_on_allied = no
			#	controller_priority = {	base = 2 }
			#	fallback = yes
			#	path = { }
			#	start_province = 
			#	target_province = 
			#}
			#custom_effect_tooltip = "(City X - City Y)"
		}
	}
	
	focus = {
		id = ROC_hanyang_arsenal
		icon = GFX_focus_ROC_hanyang_arsenal
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WORLD }
		
		prerequisite = { focus = ROC_communications_clique }
		
		text_icon = worldstage_style
		
		relative_position_id = ROC_communications_clique
		x = -3
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		bypass = { hidden_trigger = { has_global_flag = ROC_hanyang_arsenal_completed } }
		
		completion_reward = {
			set_global_flag = ROC_hanyang_arsenal_completed
			add_offsite_building = { type = arms_factory level = 4 }
			hidden_effect = {
				var:world_stage_metropolis = {
					add_to_variable = {
						var = world_stage_power
						value = 5
					}
				}
			}
			effect_tooltip = {
				add_to_variable = {
					var = world_stage_power
					value = 5
					tooltip = add_world_stage_power_no_scope_tt
				}
			}
		}
	}
	
	focus = {
		id = ROC_silver_currency	# focus on foreign trade
		icon = GFX_focus_ROC_silver_currency
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		mutually_exclusive = { focus = ROC_monopolize_currency }
		prerequisite = { focus = ROC_communications_clique }
		
		relative_position_id = ROC_communications_clique
		x = -1
		y = 1
		cost = 10
		
		available = {
			NOT = { has_idea = free_trade }
		}
		
		bypass = {
			has_idea = free_trade
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			swap_ideas = {
				add_idea = free_trade
				remove_idea = limited_exports
			}
		}
	}
	
	focus = {
		id = ROC_monopolize_currency	# focus on domestic market
		icon = GFX_focus_ROC_monopolize_currency
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		
		mutually_exclusive = { focus = ROC_silver_currency }
		prerequisite = { focus = ROC_communications_clique }
		
		relative_position_id = ROC_communications_clique
		x = 1
		y = 1
		cost = 10
		
		available = {
			NOT = { has_idea = closed_economy }
		}
		
		bypass = {
			has_idea = closed_economy
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_political_power = 150
			swap_ideas = {
				add_idea = closed_economy
				remove_idea = limited_exports
			}
		}
	}
	
	focus = {
		id = ROC_beijing_railway
		icon = GFX_focus_ROC_beijing_railway
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_WORLD }
		
		prerequisite = { focus = ROC_communications_clique }
		
		text_icon = worldstage_style
		
		relative_position_id = ROC_communications_clique
		x = 3
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			controls_state = 5
			#NOT = { has_country_flag = lose_access_to_trade_resources_fengtian }	## TODO TO-DO TO DO fix this later, I guess we gotta check if we have access to resources from node
		}
		
		bypass = { hidden_trigger = { has_global_flag = ROC_beijing_railway_completed } }
		
		completion_reward = {
			set_global_flag = ROC_beijing_railway_completed
			hidden_effect = {
				var:world_stage_metropolis = {
					add_to_variable = {
						var = world_stage_power
						value = 5
					}
				}
			}
			effect_tooltip = {
				add_to_variable = {
					var = world_stage_power
					value = 5
					tooltip = add_world_stage_power_no_scope_tt
				}
			}
			228 = {
				add_building_construction = {
					type = infrastructure
					level = 1								#add railroad
					instant_build = yes
				}
				custom_effect_tooltip = ROC_communications_clique_tt
			}
			hidden_effect = {	# increases available resource from 'mainland China'
				add_to_variable = { global.tc_base_fengtian_chromium = 4 }	# goes up to 16
				add_to_variable = { global.tc_base_fengtian_steel = 30 }	# goes up to 119
				add_to_variable = { global.tc_base_fengtian_tungsten = 20 }	# goes up to 82
				check_trade_cities = yes
			}
		}
	}
	
	focus = {
		id = ROC_camco
		icon = GFX_focus_ROC_camco
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_WORLD }
		
		prerequisite = { focus = ROC_hanyang_arsenal }
		
		text_icon = worldstage_style
		
		relative_position_id = ROC_hanyang_arsenal
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		bypass = { hidden_trigger = { has_global_flag = ROC_camco_completed } }
		
		completion_reward = {
			set_global_flag = ROC_camco_completed
			hidden_effect = {
				var:world_stage_metropolis = {
					add_to_variable = {
						var = world_stage_power
						value = 5
					}
				}
			}
			effect_tooltip = {
				add_to_variable = {
					var = world_stage_power
					value = 5
					tooltip = add_world_stage_power_no_scope_tt
				}
			}
			add_offsite_building = { type = arms_factory level = 2 }
			add_tech_bonus = {
				name = air_equipment_bonus
				bonus = 2.0
				uses = 2
				category = air_equipment
			}
		}
	}
	
	focus = {
		id = ROC_war_tax
		icon = GFX_focus_ROC_war_tax
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		prerequisite = { focus = ROC_monopolize_currency focus = ROC_silver_currency }
		
		relative_position_id = ROC_silver_currency
		x = 0
		y = 1
		cost = 10
		
		available = {
			has_idea = civilian_economy
			has_war_support > 0.25
			threat > 0.25
		}
		
		bypass = {
			NOT = { has_idea = civilian_economy }
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			swap_ideas = {
				remove_idea = civilian_economy
				add_idea = partial_economic_mobilisation
			}
		}
	}
	
	focus = {
		id = ROC_conscription_laws
		icon = GFX_focus_ROC_conscription_law
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		prerequisite = { focus = ROC_monopolize_currency focus = ROC_silver_currency }
		
		relative_position_id = ROC_monopolize_currency
		x = 0
		y = 1
		cost = 10
		
		available = {
			OR = {
				has_idea = volunteer_only
				has_idea = disarmed_nation
			}
			has_war_support > 0.25
			threat > 0.25
		}
		
		bypass = {
			NOT = {
				has_idea = volunteer_only
				has_idea = disarmed_nation
			}
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			if = {
				limit = {
					has_idea = volunteer_only
				}
				swap_ideas = {
					remove_idea = volunteer_only
					add_idea = extensive_conscription
				}
			}
			if = {
				limit = {
					has_idea = disarmed_nation
				}
				swap_ideas = {
					remove_idea = volunteer_only
					add_idea = limited_conscription
				}
			}
		}
	}
	
	focus = {
		id = ROC_requests
		icon = GFX_focus_ROC_requests
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WORLD FOCUS_FILTER_MILITARY }
		
		prerequisite = { focus = ROC_beijing_railway }
		
		relative_position_id = ROC_beijing_railway
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		text_icon = worldstage_style
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			OR = { has_war = yes threat > 0.5 }
			controls_state = 5
			#has_country_flag = lose_access_to_trade_resources_fengtian	# TODO TO-DO TO DO get correct trigger later
			world_stage_has_capitulated = no
		}
		
		completion_reward = {
			# adds decisions to get resources/arms/manpower <---- post release content, maybe
			set_temp_variable = { manpower_bonus = 106.world_stage_power }
			set_temp_variable = { equip_bonus_rifle = 106.world_stage_power }
			set_temp_variable = { equip_bonus_truck = 106.world_stage_power }
			set_temp_variable = { equip_bonus_tank = 106.world_stage_power }
			set_temp_variable = { equip_bonus_plane = 106.world_stage_power }
			multiply_temp_variable = { manpower_bonus = 500 }
			multiply_temp_variable = { equip_bonus_rifle = 50 }
			multiply_temp_variable = { equip_bonus_truck = 10 }
			multiply_temp_variable = { equip_bonus_tank = 5 }	# or planes without BBA
			multiply_temp_variable = { equip_bonus_plane = 2.5 }	# planes with BBA
			add_to_temp_variable = { equip_bonus_plane = 0.01 }	# just so they round up... up
			add_manpower = var:manpower_bonus
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = var:equip_bonus_rifle
				producer = ROC
			}
			if = {
				limit = {check_variable = { 106.world_stage_power > 39.9 } }
				add_equipment_to_stockpile = {
					type = motorized_equipment_0
					amount = var:equip_bonus_truck
					producer = ROC
				}
			} else = { custom_effect_tooltip = ROC_requests_unlock_1 }
			if = {
				limit = {check_variable = { 106.world_stage_power > 49.9 } }
				if = {
					limit = { has_dlc = "No Step Back" }
					add_equipment_to_stockpile = {
						type = light_tank_chassis_0
						amount = var:equip_bonus_tank
						producer = ROC
						variant_name = "Renault FT"
					}
				} else = {	# vanilla tank
					add_equipment_to_stockpile = {
						type = gw_tank_equipment
						amount = var:equip_bonus_tank
						producer = ROC
					}
				}
				if = {
					limit = { has_dlc = "By Blood Alone" }
					add_equipment_to_stockpile = {
						type = small_plane_airframe_0
						amount = var:equip_bonus_plane
						producer = ROC
						variant_name = "Ki-10"			#### TODO TO-DO TO DO get correct variants later
					}
					add_equipment_to_stockpile = {
						type = small_plane_airframe_0
						amount = var:equip_bonus_plane
						producer = ROC
						variant_name = "Ki-2"
					}
				} else = {	# vanilla plnae
					add_equipment_to_stockpile = {
						type = fighter_equipment_0
						amount = var:equip_bonus_tank
						producer = ROC
					}
				}
			} else = { custom_effect_tooltip = ROC_requests_unlock_2 }
			custom_effect_tooltip = ROC_requests_tt
		}
	}
	
	focus = {
		id = ROC_call_army	# Beiyang Northeastern Army
		icon = GFX_focus_ROC_call_beiyang_army
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY FOCUS_FILTER_WORLD }
		
		prerequisite = { focus = ROC_requests }
		
		relative_position_id = ROC_requests
		x = -1
		y = 1
		cost = 10
		
		text_icon = worldstage_style
		
		available = {
			OR = {
				controls_state = 233
				controls_state = 228
				controls_state = 235
				controls_state = 232
				controls_state = 231
				controls_state = 253
			}
			OR = { has_war = yes threat > 0.5 }
			world_stage_has_capitulated = no
			# ROC has > X power in WWII
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			hidden_effect = { country_event = republic_of_china.5 }
			hidden_effect = {
				var:world_stage_metropolis = {
					add_to_variable = {
						var = world_stage_power
						value = -10
					}
				}
			}
			effect_tooltip = {
				add_to_variable = {
					var = world_stage_power
					value = 10
					tooltip = remove_world_stage_power_no_scope_tt
				}
			}
			effect_tooltip = {
				create_corps_commander = {
					name = "Alexander von Falkenhausen"
				}
			}
			custom_effect_tooltip = ROC_call_army_tt	# custom-made swap idea tooltip
			hidden_effect = {
				swap_ideas = {
					remove_idea = ROC_idea_limited_army
					add_idea = ROC_idea_limited_army_2
				}
			}
			hidden_effect = {
				division_template = {
					name = "Beiyang Infantry Brigade"
					is_locked = no
					division_names_group = ROC_BEIYANG_01	### ADD PROPER ROC NAMES LATER
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
						infantry = { x = 0 y = 4 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						artillery_brigade = { x = 1 y = 2 }
						artillery_brigade = { x = 1 y = 3 }
					}
					support = {
						engineer = { x = 0 y = 0 }
					}
					priority = 1
				}
				division_template = {
					name = "Beiyang Cavalry Brigade"
					is_locked = no
					division_names_group = ROC_BEIYANG_01	### ADD PROPER ROC NAMES LATER
					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 0 y = 2 }
						cavalry = { x = 0 y = 3 }
						cavalry = { x = 0 y = 4 }
						cavalry = { x = 1 y = 0 }
						cavalry = { x = 1 y = 1 }
						mot_artillery_brigade = { x = 1 y = 2 }
						mot_artillery_brigade = { x = 1 y = 3 }
					}
					support = {
						recon = { x = 0 y = 0 }
					}
					priority = 1
				}
			}
			random_controlled_state = {
				prioritize = { 5 }
				limit = {
					OR = {
						state = 5
						state = 233
						state = 228
						state = 235
						state = 232
						state = 231
						state = 253
					}
				}
				custom_effect_tooltip = ROC_call_army_tt_1
				custom_effect_tooltip = ROC_call_army_tt_2
				hidden_effect = {
					create_unit = {
						division = "name = \"1. Beiyang Brigade\" division_template = \"Beiyang Infantry Brigade\" start_experience_factor = 0.66 start_equipment_factor = 1"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"2. Beiyang Brigade\" division_template = \"Beiyang Infantry Brigade\" start_experience_factor = 0.66 start_equipment_factor = 1"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"3. Beiyang Brigade\" division_template = \"Beiyang Infantry Brigade\" start_experience_factor = 0.66 start_equipment_factor = 1"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"4. Beiyang Brigade\" division_template = \"Beiyang Infantry Brigade\" start_experience_factor = 0.66 start_equipment_factor = 1"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"5. Beiyang Brigade\" division_template = \"Beiyang Cavalry Brigade\" start_experience_factor = 0.66 start_equipment_factor = 1"
						owner = ROOT
					}
				}
			}
		}
	}
	
	focus = {
		id = ROC_call_air_force	# Beiyang Air Fleet / Flying Eagles?
		icon = GFX_focus_ROC_flying_eagles
		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_WORLD }
		
		prerequisite = { focus = ROC_requests }
		
		text_icon = worldstage_style
		
		relative_position_id = ROC_requests
		x = 0
		y = 2
		cost = 10
		
		available = {
			# ROC has > X power in WWII
			any_controlled_state = {
				air_base > 0
			}
			OR = { has_war = yes threat > 0.5 }
			world_stage_has_capitulated = no
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			hidden_effect = { country_event = republic_of_china.7 }
			hidden_effect = {
				var:world_stage_metropolis = {
					add_to_variable = {
						var = world_stage_power
						value = -5
					}
				}
			}
			effect_tooltip = {
				add_to_variable = {
					var = world_stage_power
					value = 5
					tooltip = remove_world_stage_power_no_scope_tt
				}
			}
			if = {
				limit = { has_dlc = "By Blood Alone" }
				hidden_effect = {
					add_equipment_to_stockpile = {
						type = small_plane_airframe_1
						amount = 32
						variant_name = "MAMC 109"
					}
					add_equipment_to_stockpile = {
						type = small_plane_cas_airframe_1
						amount = 32
						variant_name = "Jurchen 87"
					}
					add_equipment_to_stockpile = {
						type = medium_plane_airframe_1
						amount = 32
						variant_name = "CAMCO 111"
					}
				}
				custom_effect_tooltip = ROC_call_air_force_bba_1
				custom_effect_tooltip = ROC_call_air_force_bba_2
				custom_effect_tooltip = ROC_call_air_force_bba_3
			} else = {
				if = {
					limit = { has_tech = fighter1 }
					add_equipment_to_stockpile = {
						type = fighter_equipment_1
						amount = 32
						producer = ROC
					}
				} else = {
					add_equipment_to_stockpile = {
						type = fighter_equipment_0
						amount = 32
						producer = ROC
					}
				}
				if = {
					limit = { has_tech = CAS2 }
					add_equipment_to_stockpile = {
						type = CAS_equipment_2
						amount = 32
						producer = ROC
					}
				} else = {
					add_equipment_to_stockpile = {
						type = CAS_equipment_1
						amount = 32
						producer = ROC
					}
				}
				if = {
					limit = { has_tech = early_bomber }
					add_equipment_to_stockpile = {
						type = tac_bomber_equipment_0
						amount = 24
						producer = ROC
					}
				}
				if = {
					limit = { has_tech = scout_plane1 }
					add_equipment_to_stockpile = {
						type = scout_plane_equipment_1
						amount = 12
						producer = ROC
					}
					
				}
			}
		}
	}
	
	focus = {
		id = ROC_call_navy	# Beiyang Fleet
		icon = GFX_focus_ROC_call_beiyang_navy
		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_WORLD }
		
		text_icon = worldstage_style
		
		prerequisite = { focus = ROC_requests }
		
		relative_position_id = ROC_requests
		x = 1
		y = 1
		cost = 10
		
		available = {
			# ROC has > X power in WWII
			any_controlled_state = {
				is_coastal = yes
			}
			OR = { has_war = yes threat > 0.5 }
			world_stage_has_capitulated = no
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			hidden_effect = { country_event = republic_of_china.6 }
			hidden_effect = {
				var:world_stage_metropolis = {
					add_to_variable = {
						var = world_stage_power
						value = -5
					}
				}
			}
			effect_tooltip = {
				add_to_variable = {
					var = world_stage_power
					value = 5
					tooltip = remove_world_stage_power_no_scope_tt
				}
			}
			hidden_effect = {
				if = {
					limit = { has_dlc = "Man the Guns" }
					if = {
						limit = { controls_province = 927 }
						load_oob = "ROC_call_navy_A_mtg"
					} else_if = {
						limit = { controls_province = 11762 }
						if = {
							any_province_building_level = {
								province = { id = 11762 limit_to_border = no }
								building = naval_base
								level < 1
							}
							181 = {
								add_building_construction = {
									type = naval_base
									level = 1
									instant_build = yes
									province = 11762
								}
							}
						}
						load_oob = "ROC_call_navy_B_mtg"
					} else = {
						# combat detachment
						add_equipment_production = { equipment = { type = ship_hull_heavy_1 version_name = "Beiyang Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 4000
						add_equipment_production = { equipment = { type = ship_hull_cruiser_1 version_name = "Ninghai Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 600
						add_equipment_production = { equipment = { type = ship_hull_cruiser_1 version_name = "Ninghai Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 600
						add_equipment_production = { equipment = { type = ship_hull_cruiser_1 version_name = "Ninghai Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 600
						add_equipment_production = { equipment = { type = ship_hull_light_1 version_name = "Guangdong Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = ship_hull_light_1 version_name = "Guangdong Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = ship_hull_light_1 version_name = "Guangdong Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = ship_hull_light_1 version_name = "Guangdong Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = ship_hull_light_1 version_name = "Guangdong Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						# auxiliary
						add_equipment_production = { equipment = { type = ship_hull_cruiser_coastal_defense_ship version_name = "Hairong Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 1800
						add_equipment_production = { equipment = { type = ship_hull_light_1 version_name = "Jianwei Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = ship_hull_light_1 version_name = "Jianwei Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = ship_hull_light_1 version_name = "Jianwei Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = ship_hull_light_1 version_name = "Jianwei Class" } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
					}
				} else = {
					if = {
						limit = { controls_province = 927 }
						load_oob = "ROC_call_navy_A_legacy"
					} else_if = {
						limit = { controls_province = 11762 }
						if = {
							any_province_building_level = {
								province = { id = 11762 limit_to_border = no }
								building = naval_base
								level < 1
							}
							181 = {
								add_building_construction = {
									type = naval_base
									level = 1
									instant_build = yes
									province = 11762
								}
							}
						}
						load_oob = "ROC_call_navy_B_legacy"
					} else = {
						# combat detachment
						add_equipment_production = { equipment = { type = battleship_1 } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 400
						add_equipment_production = { equipment = { type = light_cruiser } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 600
						add_equipment_production = { equipment = { type = light_cruiser } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 600
						add_equipment_production = { equipment = { type = light_cruiser } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 600
						add_equipment_production = { equipment = { type = destroyer_1 } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = destroyer_1 } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = destroyer_1 } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = destroyer_1 } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = destroyer_1 } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						# auxiliary
						add_equipment_production = { equipment = { type = light_cruiser } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 600
						add_equipment_production = { equipment = { type = destroyer_1 } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = destroyer_1 } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = destroyer_1 } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
						add_equipment_production = { equipment = { type = destroyer_1 } requested_factories = 1 progress = 1 amount = 1 } add_manpower = 250
					}
				}
			}
			custom_effect_tooltip = ROC_call_navy_oob_main
			custom_effect_tooltip = ROC_call_navy_oob_aux
		}
	}
	
	focus = {
		id = ROC_national_mobilisation
		icon = GFX_focus_ROC_national_mobilization
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
		
		prerequisite = { focus = ROC_conscription_laws }
		prerequisite = { focus = ROC_war_tax }
		
		relative_position_id = ROC_war_tax
		x = 1
		y = 1
		cost = 10
		
		available = {
			has_idea = ROC_idea_limited_laws
			has_war_support > 0.33
			threat > 0.33
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			remove_ideas = ROC_idea_limited_laws
		}
	}
	
	### Aditional Articles Branch
	
	focus = {
		id = ROC_aditional_articles
		icon = GFX_focus_ROC_aditional_articles
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		mutually_exclusive = { focus = ROC_temporary_provisions }
		
		relative_position_id = ROC_temporary_provisions
		x = 7
		y = 0
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available = {
			custom_trigger_tooltip = { tooltip = requires_ROC_expansion always = no }	### CHINESE DLC
			hidden_trigger = { NOT = { has_global_flag = ROC_temporary_provisions_completed } }
		}
		
		bypass = { hidden_trigger = { NOT = { has_global_flag = ROC_aditional_articles_completed } } }
		
		completion_reward = {
			add_timed_idea = { idea = ROC_idea_aditional_articles days = 730 }
			custom_effect_tooltip = elections_will_be_held_tt
			hidden_effect = {
				set_politics = {
					ruling_party = var:current_party_ideology_group
					elections_allowed = yes
					election_frequency = 48
				}
			}
		}
	}
	
	focus = {
		id = ROC_support_federalisation
		icon = GFX_focus_ROC_federal_china
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
		
		mutually_exclusive = { focus = ROC_communications_clique }
		prerequisite = { focus = ROC_aditional_articles }
		
		relative_position_id = ROC_aditional_articles
		x = 4
		y = 1
		cost = 10
		
		available = {
			has_idea = ROC_idea_limited_laws
		}
		
		bypass = {
			NOT = {
				has_idea = ROC_idea_limited_laws
			}
		}
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			remove_ideas = ROC_idea_limited_laws
			remove_ideas = ROC_idea_limited_army
		}
	}
	
	# Independent Foreign Policy Branch
	
	focus = {
		id = ROC_autonomous_diplomacy
		icon = GFX_focus_ROC_autonomous_diplomacy
		search_filters = { FOCUS_FILTER_DIPLOMACY }
		
		mutually_exclusive = { focus = ROC_join_komintern focus = ROC_join_allies }
		prerequisite = { focus = ROC_support_federalisation }
		
		relative_position_id = ROC_support_federalisation
		x = 0
		y = 4
		cost = 10
		
		available_if_capitulated = yes
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_completed_focus = ROC_mao_returns
					has_completed_focus = ROC_three_principles
					has_completed_focus = ROC_confucian_administration
				}
			}
		}
		
		completion_reward = {
			set_rule = { can_create_factions = yes }
			set_rule = { can_decline_call_to_war = yes }
			set_rule = { can_join_factions = yes }
			set_rule = { can_send_volunteers = yes }
			set_rule = { can_not_declare_war = no }
		}
	}
	
	focus = {
		id = ROC_demand_gando
		icon = GFX_focus_ROC_demand_gando
		search_filters = {  }
		
		mutually_exclusive = { focus = ROC_befriend_korea }
		prerequisite = { focus = ROC_autonomous_diplomacy }
		
		relative_position_id = ROC_autonomous_diplomacy
		x = -3
		y = 1
		cost = 10
		
		allow_branch = { always = no } 
		available = {
			NOT = {
				controls_state = 217
				owns_state = 217
				controls_state = 218
				owns_state = 218
			}
		}
		
#		bypass = {
#			OR = {
#				controls_state = 217
#				owns_state = 217
#			}
#			OR = {
#				controls_state = 218
#				owns_state = 218
#			}
#		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			
		}
	}
	
	focus = {
		id = ROC_befriend_korea
		icon = GFX_focus_generic_diplomacy_korea
		search_filters = {  }
		
		mutually_exclusive = { focus = ROC_demand_gando }
		prerequisite = { focus = ROC_autonomous_diplomacy }
		
		relative_position_id = ROC_autonomous_diplomacy
		x = -1
		y = 1
		cost = 10
		
		available = {
	
		}
		allow_branch = { always = no } 
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			
		}
	}
	
	focus = {
		id = ROC_befriend_kansai
		icon = GFX_focus_generic_diplomacy_kansai
		search_filters = {  }
		
		mutually_exclusive = { focus = ROC_weaken_japan }
		prerequisite = { focus = ROC_autonomous_diplomacy }
		
		relative_position_id = ROC_autonomous_diplomacy
		x = 1
		y = 1
		cost = 10
		
		available = {
	
		}
		allow_branch = { always = no } 
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			
		}
	}
	
	focus = {
		id = ROC_weaken_japan
		icon = GFX_focus_ROC_weaken_japan
		search_filters = {  }
		
		mutually_exclusive = { focus = ROC_befriend_kansai }
		prerequisite = { focus = ROC_autonomous_diplomacy }
		
		relative_position_id = ROC_autonomous_diplomacy
		x = 3
		y = 1
		cost = 10
		
		available = {
	
		}
		allow_branch = { always = no } 
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			
		}
	}
	
	# Full Manchu Branch
	
	focus = {
		id = ROC_rescue_puyi
		icon = GFX_focus_ROC_puyi_escapes
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		prerequisite = { focus = ROC_autonomous_diplomacy }
		
		relative_position_id = ROC_autonomous_diplomacy
		x = -1
		y = 1
		cost = 10
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)

		bypass = {
			has_government = autocracy
		}

		available = {
			NOT = { has_government = autocracy }
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_timed_idea = { idea = ROC_idea_support_for_puyi days = 365 }
		}
	}
	
	focus = {
		id = ROC_manchu_nationalism
		icon = GFX_focus_ROC_manchurian_nationalism
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		prerequisite = { focus = ROC_autonomous_diplomacy }
		
		relative_position_id = ROC_autonomous_diplomacy
		x = 1
		y = 1
		cost = 10
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available = {
			NOT = { has_completed_focus = ROC_mao_returns}
			NOT = { has_completed_focus = ROC_three_principles }
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_political_power = 150
		}
	}
	
	focus = {
		id = ROC_full_manchu	# Manchu Restoration
		icon = GFX_focus_ROC_manchurian_restoration
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		prerequisite = { focus = ROC_rescue_puyi }
		prerequisite = { focus = ROC_manchu_nationalism }
		
		relative_position_id = ROC_rescue_puyi
		x = -2
		y = 1
		cost = 10
		
		available = {
			autocracy > 0.5
			NOT = { has_completed_focus = ROC_mao_returns}
			NOT = { has_completed_focus = ROC_three_principles }
		}
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			custom_effect_tooltip = ROC_full_manchu_tt
			set_global_flag = ROC_goes_full_machu
			remove_world_stage_power_chi_25 = yes
			set_variable = { world_stage_coalition = 4 }	# these two variables separate tag ROC from "off-map-tag" CHI
			set_variable = { world_stage_metropolis = 114 }
			set_politics = {
				ruling_party = autocracy
				elections_allowed = no
			}
			5 = { set_state_name = "Mukden" }
			promote_character = ROC_emperor_puyi
			hidden_effect = {
				set_variable = { global.worldstage_asia_map_frame = 2 }
				set_cosmetic_tag = ROC_MAN
				# down with Beiyang star, long live the Orchid Seal!
				ROC_xi_qia = {
					set_leader_portrait = GFX_Portrait_ROC_Xi_Qia_alt
				}
				ROC_yu_zhishan = {
					set_leader_portrait = GFX_Portrait_ROC_Yu_Zhishan_alt
				}
				set_country_leader_portrait = {
					ideology = fascism
					portrait = GFX_Portrait_ROC_Yu_Zhishan_alt
				}
				ROC_zhang_zuolin = {
					set_leader_portrait = GFX_Portrait_ROC_Zhang_Zuolin_alt
				}
				set_country_leader_portrait = {
					ideology = neutrality
					portrait = GFX_Portrait_ROC_Zhang_Zuolin_alt
				}
				# rename parties
				set_party_name = { 
					ideology = communism 
					long_name = ROC_MAN_communism_party_long
					name = ROC_MAN_communism_party
				}
				set_party_name = { 
					ideology = democratic_socialism
					long_name = ROC_MAN_democratic_socialism_party_long
					name = ROC_MAN_democratic_socialism_party
				}
				set_party_name = { 
					ideology = neutrality 
					long_name = ROC_MAN_neutrality_party_long
					name = ROC_MAN_neutrality_party
				}
				if = {
					limit = { has_completed_focus = ROC_concordia_association }
					set_party_name = { 
						ideology = democratic
						long_name = ROC_MAN_concordia_long
						name = ROC_MAN_concordia
					}
				}
				if = {
					limit = { has_completed_focus = ROC_purge_concordia }
					set_party_name = { 
						ideology = fascism 
						long_name = ROC_MAN_concordia_long
						name = ROC_MAN_concordia
					}
				}
			}
		}
	}
	
	focus = {
		id = ROC_purge_concordia
		icon = GFX_focus_ROC_purge_concordia
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }
		
		mutually_exclusive = { focus = ROC_concordia_association }
		prerequisite = { focus = ROC_manchu_nationalism }
		
		relative_position_id = ROC_manchu_nationalism
		x = -1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_ideas = ROC_idea_national_unity
			hidden_effect = {
				if = {
					limit = { has_completed_focus = ROC_full_manchu }
					set_party_name = { 
						ideology = fascism
						long_name = ROC_MAN_concordia_long
						name = ROC_MAN_concordia
					}
				}
			}
		}
	}
	
	focus = {
		id = ROC_concordia_association
		icon = GFX_focus_ROC_concordia_association
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }
		
		mutually_exclusive = { focus = ROC_purge_concordia }
		prerequisite = { focus = ROC_manchu_nationalism }
		
		relative_position_id = ROC_manchu_nationalism
		x = 1
		y = 1
		cost = 10
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_ideas = ROC_idea_pan_asian
			hidden_effect = {
				if = {
					limit = { has_completed_focus = ROC_full_manchu }
					set_party_name = { 
						ideology = democratic
						long_name = ROC_MAN_concordia_long
						name = ROC_MAN_concordia
					}
				}
			}
		}
	}
	
	focus = {
		id = ROC_three_upper_banners	# Muster the Three Upper Banners
		icon = GFX_focus_ROC_three_upper_banners
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY }
		
		prerequisite = { focus = ROC_full_manchu }
		
		relative_position_id = ROC_full_manchu
		x = -2
		y = 1
		cost = 10
		
		available = {
			has_government = autocracy
		}
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			effect_tooltip = {
				create_field_marshal = {
					name = "Emperor Puyi"
				}
			}
			hidden_effect = {
				division_template = {
					name = "Upper Banner"
					is_locked = no
					division_names_group = ROC_BANNER_01	### ADD PROPER ROC NAMES LATER
					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 0 y = 2 }
						mot_artillery_brigade = { x = 0 y = 3 }
						cavalry = { x = 1 y = 0 }
						cavalry = { x = 1 y = 1 }
						cavalry = { x = 1 y = 2 }
						mot_artillery_brigade = { x = 1 y = 3 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
					}
					priority = 2
				}
			}
			capital_scope = {
				custom_effect_tooltip = ROC_three_upper_banners_tt
				hidden_effect = {
					create_unit = {
						division = "name = \"Kubuhe Suwayan Gsa\" division_template = \"Upper Banner\" start_experience_factor = 0.75 start_equipment_factor = 1"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"Gulu Suwayan Gsa\" division_template = \"Upper Banner\" start_experience_factor = 0.75 start_equipment_factor = 1"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"Gulu anggiyan Gsa\" division_template = \"Upper Banner\" start_experience_factor = 0.75 start_equipment_factor = 1"
						owner = ROOT
					}
				}
			}
		}
	}
	
	focus = {
		id = ROC_five_lower_banners	# Muster the Fiver Lower Banners
		icon = GFX_focus_ROC_five_lower_banners
		search_filters = { FOCUS_FILTER_MILITARY FOCUS_FILTER_MANPOWER }
		
		prerequisite = { focus = ROC_full_manchu }
		
		relative_position_id = ROC_full_manchu
		x = 2
		y = 1
		cost = 10
		
		available = {
			has_government = autocracy
		}
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			hidden_effect = {
				division_template = {
					name = "Lower Banner"
					is_locked = no
					division_names_group = ROC_BANNER_02	### ADD PROPER ROC NAMES LATER
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						artillery_brigade = { x = 0 y = 3 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						artillery_brigade = { x = 1 y = 3 }
					}
					support = {
						engineer = { x = 0 y = 0 }
					}
					priority = 1
				}
			}
			random_controlled_state = {
				limit = {
					OR = {
						is_in_home_area = yes
					}
				}
				custom_effect_tooltip = ROC_five_lower_banners_tt
				hidden_effect = {
					create_unit = {
						division = "name = \"Gulu Fulgiyan Gsa\" division_template = \"Lower Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = ROOT
					}
				}
			}
			random_controlled_state = {
				limit = {
					OR = {
						is_in_home_area = yes
					}
				}
				custom_effect_tooltip = ROC_five_lower_banners_tt
				hidden_effect = {
					create_unit = {
						division = "name = \"Kubuhe anggiyan Gsa\" division_template = \"Lower Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = ROOT
					}
				}
			}
			random_controlled_state = {
				limit = {
					OR = {
						is_in_home_area = yes
					}
				}
				custom_effect_tooltip = ROC_five_lower_banners_tt
				hidden_effect = {
					create_unit = {
						division = "name = \"Kubuhe Fulgiyan Gsa\" division_template = \"Lower Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = ROOT
					}
				}
			}
			random_controlled_state = {
				limit = {
					OR = {
						is_in_home_area = yes
					}
				}
				custom_effect_tooltip = ROC_five_lower_banners_tt
				hidden_effect = {
					create_unit = {
						division = "name = \"Gulu Lamun Gsa\" division_template = \"Lower Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = ROOT
					}
				}
			}
			random_controlled_state = {
				limit = {
					OR = {
						is_in_home_area = yes
					}
				}
				custom_effect_tooltip = ROC_five_lower_banners_tt
				hidden_effect = {
					create_unit = {
						division = "name = \"Kubuhe Lamun Gsa\" division_template = \"Lower Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = ROOT
					}
				}
			}
		}
	}
	
	focus = {
		id = ROC_boy_scouts
		icon = GFX_focus_ROC_boy_scouts
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		prerequisite = { focus = ROC_manchu_nationalism }
		
		relative_position_id = ROC_manchu_nationalism
		x = 3
		y = 1
		cost = 10
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
				has_government = autocracy
			}
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_ideas = ROC_idea_boy_scouts
		}
	}
	
	focus = {
		id = ROC_hoankyoku	# Hoankyoku
		icon = GFX_focus_generic_expand_police_forces_locked		### MISSING GFX! (or not) -> note from myself from the future: no, it's fine
		search_filters = { FOCUS_FILTER_SPY }
		
		prerequisite = { focus = ROC_boy_scouts }
		
		relative_position_id = ROC_boy_scouts
		x = 0
		y = 1
		cost = 10
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
				has_government = autocracy
			}
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			if = {
				limit = { has_intelligence_agency = no }
				create_intelligence_agency = yes
			} else = {
				if = {
					limit = {
						NOT = {
							has_idea_with_trait = security_chief_head_of_intelligence_woman_2
							has_idea_with_trait = security_chief_head_of_intelligence_woman_3
							has_idea_with_trait = security_chief_military_police_1
							has_idea_with_trait = security_chief_agent_of_terror_1
							has_idea_with_trait = security_chief_counter_intelligence_vanilla_1
							has_idea_with_trait = security_chief_counter_intelligence_lar_1
							has_idea_with_trait = security_chief_political_commissar_1
						}
					}
					add_ideas = ROC_xianyu
				} else = { add_political_power = 200 }
			}
			add_trait = {
				 character = ROC_xianyu
				 slot = security_chief
				 trait = security_chief_head_of_intelligence_woman_3
			}
			hidden_effect = {
				remove_trait = {
					 character = ROC_xianyu
					 slot = security_chief
					 trait = security_chief_head_of_intelligence_woman_3
				}
			}
		}
	}
	
	focus = {
		id = ROC_folk_religion
		icon = GFX_focus_ROC_folk_religion
		search_filters = { FOCUS_FILTER_RELIGION FOCUS_FILTER_STABILITY }
		
		prerequisite = { focus = ROC_concordia_association focus = ROC_purge_concordia }
		
		relative_position_id = ROC_purge_concordia
		x = 1
		y = 1
		cost = 10
		
		available = {
			has_religion_5 = yes
		}
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_ideas = ROC_idea_folk_religion
			add_stability = 0.05
		}
	}
	
	focus = {
		id = ROC_reinstate_nobility
		icon = GFX_focus_ROC_nobility
		search_filters = { FOCUS_FILTER_RELIGION FOCUS_FILTER_STABILITY }
		
		prerequisite = { focus = ROC_full_manchu }
		
		relative_position_id = ROC_full_manchu
		x = 0
		y = 1
		cost = 10
		
		available = {
			has_government = autocracy
		}
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_political_power = 150
			add_popularity = {
				ideology = autocracy
				popularity = 0.05
			}
		}
	}
	
	focus = {
		id = ROC_mandate_of_heaven
		icon = GFX_focus_ROC_mandate_of_heaven
		search_filters = { FOCUS_FILTER_RELIGION FOCUS_FILTER_STABILITY }
		
		prerequisite = { focus = ROC_reinstate_nobility }
		
		relative_position_id = ROC_reinstate_nobility
		x = 0
		y = 1
		cost = 10
		
		available = {
			has_government = autocracy
		}
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			if = {
				limit = {
					has_country_leader = {
						id = 5765	# Puyi
						ruling_only = yes
					}
				}
				add_country_leader_trait = ROC_mandate_of_heaven
			}
		}
	}
	
	# Mao Branch
	
	focus = {
		id = ROC_mao_returns
		icon = GFX_focus_ROC_mao_returns
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		mutually_exclusive = { focus = ROC_three_principles focus = ROC_confucian_administration }
		prerequisite = { focus = ROC_aditional_articles }
		
		relative_position_id = ROC_aditional_articles
		x = 7
		y = 1
		cost = 10
		
		text_icon = locked_style	# combine this with the grey icons to get the "requires DLC" looks (DLC being a future SS update)
		
		available = {
			NOT = { has_completed_focus = ROC_full_manchu }
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_timed_idea = { idea = ROC_idea_support_for_mao days = 365 }
		}
	}
	
	focus = {
		id = ROC_pardon_officers
		icon = GFX_focus_ROC_pardon_officers
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		prerequisite = { focus = ROC_mao_returns }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_mao_returns
		x = -1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			if = {
				limit = { has_completed_focus = ROC_full_manchu }
				NOT = { has_completed_focus = ROC_full_manchu }
			}
		}
		
		completion_reward = {
			add_timed_idea = { idea = ROC_idea_pardon_officers days = 730 }
		}
	}
	
	focus = {
		id = ROC_legalize_unions
		icon = GFX_focus_TOH_party_unity_locked	### MISSING GFX! (or not)
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		prerequisite = { focus = ROC_mao_returns }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_mao_returns
		x = 1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			if = {
				limit = { has_completed_focus = ROC_full_manchu }
				NOT = { has_completed_focus = ROC_full_manchu }
			}
		}
		
		completion_reward = {
			add_timed_idea = { idea = ROC_idea_union_support days = 730 }
		}
	}
	
	focus = {
		id = ROC_communist_revolution
		icon = GFX_focus_ROC_seize_capital
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		mutually_exclusive = { focus = ROC_social_democratic_reforms }
		prerequisite = { focus = ROC_pardon_officers }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_pardon_officers
		x = 0
		y = 1
		cost = 10
		
		available = {
			communism > 0.33
			neutrality < 0.5
			fascism < 0.5
			autocracy < 0.5
			NOT = { has_government = communism }
			if = {
				limit = { has_completed_focus = ROC_full_manchu }
				NOT = { has_completed_focus = ROC_full_manchu }
			}
			
		}
		
		bypass = {
			has_government = communism
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			set_politics = {
				ruling_party = communism
					elections_allowed = no
			}
		}
	}
	
	focus = {
		id = ROC_young_pioneers
		icon = GFX_focus_ROC_young_pioneer
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		prerequisite = { focus = ROC_communist_revolution }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_communist_revolution
		x = 0
		y = 1
		cost = 10
		
		available = {
			has_government = communism
			if = {
				limit = { has_completed_focus = ROC_full_manchu }
				NOT = { has_completed_focus = ROC_full_manchu }
			}
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_ideas = ROC_idea_young_pioneers
		}
	}
	
	focus = {
		id = ROC_social_democratic_reforms
		icon = GFX_focus_ROC_democratic_socialist_reform
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		mutually_exclusive = { focus = ROC_communist_revolution }
		prerequisite = { focus = ROC_legalize_unions }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_legalize_unions
		x = 0
		y = 1
		cost = 10
		
		available = {
			democratic_socialism > 0.33
			neutrality < 0.5
			fascism < 0.5
			autocracy < 0.5
			NOT = { has_government = democratic_socialism }
			if = {
				limit = { has_completed_focus = ROC_full_manchu }
				NOT = { has_completed_focus = ROC_full_manchu }
			}
		}
		
		bypass = {
			has_government = democratic_socialism
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			set_politics = {
				ruling_party = democratic_socialism
					elections_allowed = yes
					election_frequency = 48
			}
		}
	}
	
	focus = {
		id = ROC_welfare
		icon = GFX_focus_ROC_welfare
		search_filters = { FOCUS_FILTER_STABILITY }
		
		prerequisite = { focus = ROC_social_democratic_reforms }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_social_democratic_reforms
		x = 0
		y = 1
		cost = 10

		available = {
			has_government = democratic_socialism
			if = {
				limit = { has_completed_focus = ROC_full_manchu }
				NOT = { has_completed_focus = ROC_full_manchu }
			}
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_ideas = ROC_idea_walfare
		}
	}
	
	focus = {
		id = ROC_join_komintern
		icon = GFX_focus_ROC_join_komintern
		search_filters = { FOCUS_FILTER_DIPLOMACY FOCUS_FILTER_WORLD }
		
		mutually_exclusive = { focus = ROC_autonomous_diplomacy focus = ROC_join_allies }
		prerequisite = { focus = ROC_communist_revolution focus = ROC_social_democratic_reforms }
		
		text_icon = locked_style	# combine this with the grey icons
		#text_icon = worldstage_style
		
		relative_position_id = ROC_communist_revolution
		x = 1
		y = 2
		cost = 10
		
		available = {
			has_global_flag = world_stage_world_war_2_is_active
			is_in_faction = no
			if = {
				limit = { has_completed_focus = ROC_full_manchu }
				NOT = { has_completed_focus = ROC_full_manchu }
			}
		}
		
	#	bypass = {
			# WWII started and ROC is commie and it's at war with REI
	#	}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			if = {
				limit = {
					any_other_country = { has_world_stage_coalition_komintern = yes is_faction_leader = yes }
				}
				random_country = {
					limit = { has_world_stage_coalition_komintern = yes is_faction_leader = yes }
					add_to_faction = ROC
				}
			} else = { create_faction = "Comintern" }
			world_stage_join_komintern = yes
			#custom_effect_tooltip = siberia_offensive_allowed
			set_country_flag = can_play_siberia set_country_flag = can_play_urals set_country_flag = can_play_russia
		}
	}
	
	# Three Principles Branch
	
	focus = {
		id = ROC_three_principles
		icon = GFX_focus_ROC_three_principles
		search_filters = { FOCUS_FILTER_STABILITY }
		
		mutually_exclusive = { focus = ROC_mao_returns focus = ROC_confucian_administration }
		prerequisite = { focus = ROC_aditional_articles }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_mao_returns
		x = 4
		y = 0
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			NOT = { has_completed_focus = ROC_full_manchu  }
		}
		
		completion_reward = {
			add_ideas = ROC_idea_three_principles
			set_politics = {
				ruling_party = democratic
					elections_allowed = yes
					election_frequency = 48
			}
		}
	}
	
	focus = {
		id = ROC_confucian_administration	# Maintain Confucian Values
		icon = GFX_focus_ROC_confucianism
		search_filters = { FOCUS_FILTER_RELIGION }
		
		mutually_exclusive = { focus = ROC_three_principles focus = ROC_mao_returns }
		prerequisite = { focus = ROC_aditional_articles }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_three_principles
		x = 2
		y = 0
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			has_religion_5 = yes
		}
		
		completion_reward = {
			add_ideas = ROC_idea_confucian_administration
		}
	}
	
	focus = {
		id = ROC_reestablish_keju
		icon = GFX_focus_ROC_keju
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		
		prerequisite = { focus = ROC_confucian_administration }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_confucian_administration
		x = 0
		y = 2
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			has_religion_5 = yes
		}
		
		completion_reward = {
			add_ideas = ROC_idea_keju
		}
	}
	
	focus = {
		id = ROC_cult_of_confucius
		icon = GFX_focus_ROC_cult_confucius
		search_filters = { FOCUS_FILTER_RELIGION FOCUS_FILTER_ANNEXATION }
		
		prerequisite = { focus = ROC_confucian_administration }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_confucian_administration
		x = 1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}

		available = {
			has_religion_5 = yes
		}
		
		completion_reward = {
			add_ideas = ROC_idea_confucian_administration_2
		}
	}
	
	focus = {
		id = ROC_five_yuan
		icon = GFX_focus_ROC_five_yuan
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		prerequisite = { focus = ROC_three_principles focus = ROC_confucian_administration }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_three_principles
		x = 1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_political_power = 150
		}
	}
	
	focus = {
		id = ROC_westernized_administration	# New Culture Movement
		icon = GFX_focus_ROC_westernized_administration
		search_filters = { FOCUS_FILTER_RELIGION FOCUS_FILTER_POLITICAL }
		
		prerequisite = { focus = ROC_three_principles }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_three_principles
		x = -1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			if = {
				limit = { has_completed_focus = ROC_full_manchu }
				NOT = { has_completed_focus = ROC_full_manchu }
			}
		}
		
		completion_reward = {
			add_ideas = ROC_idea_westernized_administration
			#every_other_country = {
			#	limit = { has_government = democratic }
				# diplo bonus
			#}
		}
	}
	
	focus = {
		id = ROC_sun_yat_sen_university
		icon = GFX_focus_ROC_sun_yat_sen_university
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		prerequisite = { focus = ROC_westernized_administration }
		
		text_icon = locked_style	# combine this with the grey icons
		
		relative_position_id = ROC_westernized_administration
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		available = {
			if = {
				limit = { has_completed_focus = ROC_full_manchu }
				NOT = { has_completed_focus = ROC_full_manchu }
			}
		}
		
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = ROC_join_allies
		icon = GFX_focus_ROC_join_allies
		search_filters = { FOCUS_FILTER_DIPLOMACY FOCUS_FILTER_WORLD }
		
		mutually_exclusive = { focus = ROC_join_komintern focus = ROC_autonomous_diplomacy }
		prerequisite = { focus = ROC_five_yuan focus = ROC_westernized_administration }
		
		text_icon = locked_style	# combine this with the grey icons
		#text_icon = worldstage_style
		
		relative_position_id = ROC_five_yuan
		x = -1
		y = 3
		cost = 10
		
		available = {
			has_global_flag = world_stage_world_war_2_is_active
			is_in_faction = no
		}
		
		bypass = {
			# WWII started and ROC is not commie and it's at war with OSA
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			if = {
				limit = {
					any_other_country = { has_world_stage_coalition_allies = yes is_faction_leader = yes }
				}
				random_country = {
					limit = { has_world_stage_coalition_allies = yes is_faction_leader = yes }
					add_to_faction = ROC
				}
			} else = { create_faction = coalition_name_allies_short }
			world_stage_join_allies = yes
			custom_effect_tooltip = afrikakorps_allowed	# not quite but close enough
			set_country_flag = can_play_lybia set_country_flag = can_play_egypt
		}
	}
	
	### Local Branch
	
	focus = {
		id = ROC_falkenhausean_reforms
		icon = GFX_focus_ROC_falkenhausean_reforms
		search_filters = { FOCUS_FILTER_MILITARY }
		
		relative_position_id = ROC_three_principles
		x = 7
		y = -1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.33
				uses = 1
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				name = naval_doc_bonus
				cost_reduction = 0.33
				uses = 1
				category = naval_doctrine
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.33
				uses = 1
				category = air_doctrine
			}
		}
	}
	
	focus = {
		id = ROC_aid_mongolia
		icon = GFX_focus_REI_help_mongolia	#GFX_focus_ROC_aid_mongolia
		search_filters = { FOCUS_FILTER_WORLD FOCUS_FILTER_MILITARY }
		
		prerequisite = { focus = ROC_falkenhausean_reforms }
		
		relative_position_id = ROC_falkenhausean_reforms
		x = -2
		y = 1
		cost = 10
		
		text_icon = worlstage_style
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}

		available = {
			NOT = { has_government = communism }
			NOT = { has_government = democratic_socialism }
			custom_trigger_tooltip = {
				tooltip = world_stage_mongolia_exists
				2 = { check_variable = { theater_owner = 116 } }
			}
		}
		cancel_if_invalid = yes
	 
		completion_reward = {
			set_global_flag = CHI_won_mongolia
			country_event = { id = worldstage.2 days = 1 }
			army_experience = 15
		}
	}
	
	focus = {
		id = ROC_south_manchurian_railway
		icon = GFX_focus_ROC_south_manchurian_railway
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		relative_position_id = ROC_falkenhausean_reforms
		x = 4
		y = 0
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 1.0
				uses = 1
				category = construction_tech
			}
			show_ideas_tooltip = ROC_manchuria_railway
		}
	}
	
	focus = {
		id = ROC_whampoa_academy
		icon = GFX_focus_ROC_whampoa_academy
		search_filters = { FOCUS_FILTER_MILITARY }
		dynamic = yes
		
		prerequisite = { focus = ROC_falkenhausean_reforms }
		
		relative_position_id = ROC_falkenhausean_reforms
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_ideas = ROC_idea_whampoa_academy
		}
	}
	
	focus = {
		id = ROC_mukden_arsenal
		icon = GFX_focus_ROC_mukden_arsenal
		search_filters = { FOCUS_FILTER_INDUSTRY }
		dynamic = yes
		
		prerequisite = { focus = ROC_falkenhausean_reforms focus = ROC_south_manchurian_railway }
		
		relative_position_id = ROC_falkenhausean_reforms
		x = 2
		y = 1
		cost = 10
		
		available = {
			any_controlled_state = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			random_controlled_state = {
				prioritize  = { 5 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_controlled_state = {
				prioritize  = { 5 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_controlled_state = {
				prioritize  = { 5 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_controlled_state = {
				prioritize  = { 5 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}
	
	focus = {
		id = ROC_fushun_coal_mines	#
		icon = GFX_focus_ROC_fushun_coal_mines
		search_filters = { FOCUS_FILTER_MILITARY }
		
		prerequisite = { focus = ROC_south_manchurian_railway }
		
		relative_position_id = ROC_south_manchurian_railway
		x = 0
		y = 1
		cost = 10
		
		available = {
			controls_state = 228
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_resource = {
				type = steel
				amount = 16
				state = 228
			}
		}
	}
	
	focus = {
		id = ROC_mechanized_units
		icon = GFX_focus_ROC_mech_units
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		prerequisite = { focus = ROC_whampoa_academy }
		
		relative_position_id = ROC_whampoa_academy
		x = -1
		y = 1
		cost = 10

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = CHU_land_doctrin6
				bonus = 2.0
				uses = 1
				category = motorized_equipment
			}
			### spawns experimental division
		}
	}
	
	focus = {
		id = ROC_mamc	# Manchurian Aircraft Manufactoring Company
		icon = GFX_focus_ROC_mamc
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		
		prerequisite = { focus = ROC_mukden_arsenal focus = ROC_whampoa_academy }
		
		relative_position_id = ROC_mukden_arsenal
		x = -1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			random_controlled_state = {
				prioritize  = { 228 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_controlled_state = {
				prioritize  = { 228 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			add_tech_bonus = {
				name = air_equipment_bonus
				bonus = 1.0
				uses = 1
				category = air_equipment
			}
		}
	}
	
	focus = {
		id = ROC_anshan_steelworks		# Anshan Iron & Steel Works
		icon = GFX_focus_generic_industry		### MISSING GFX! (or not)
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		prerequisite = { focus = ROC_fushun_coal_mines }
		
		relative_position_id = ROC_fushun_coal_mines
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			random_controlled_state = {
				prioritize  = { 228 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_controlled_state = {
				prioritize  = { 228 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_controlled_state = {
				prioritize  = { 228 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_controlled_state = {
				prioritize  = { 228 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}
	
	focus = {
		id = ROC_manchurian_shipyards	# Weihaiwei Naval Base
		icon = GFX_focus_generic_dockyards		### MISSING GFX! (not, actually)
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		prerequisite = { focus = ROC_mukden_arsenal }
		prerequisite = { focus = ROC_anshan_steelworks }
		
		relative_position_id = ROC_anshan_steelworks
		x = -1
		y = 1
		cost = 10
		
		available = {
			any_controlled_state = {
				is_coastal = yes
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
			}
		}
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			random_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_coastal = yes
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_coastal = yes
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_coastal = yes
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_coastal = yes
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}
	
	focus = {
		id = ROC_research_2
		icon = GFX_focus_ROC_tech_manchuria
		search_filters = { FOCUS_FILTER_RESEARCH }
		dynamic = yes
		
		prerequisite = { focus = ROC_anshan_steelworks }
		
		relative_position_id = ROC_anshan_steelworks
		x = 1
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = ROC_tank_units
		icon = GFX_focus_ROC_armor_effort
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		prerequisite = { focus = ROC_mechanized_units }
		
		relative_position_id = ROC_mechanized_units
		x = 0
		y = 1
		cost = 10
		
		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 2
				uses = 1
				category = armor
			}
		}
	}
}
#FOCUS_FILTER_SPY
#FOCUS_FILTER_ANNEXATION
#FOCUS_FILTER_DIPLOMACY
#FOCUS_FILTER_EQUIPMENT
#FOCUS_FILTER_INDUSTRY
#FOCUS_FILTER_MANPOWER
#FOCUS_FILTER_MILITARY
#FOCUS_FILTER_POLITICAL
#FOCUS_FILTER_RESEARCH
#FOCUS_FILTER_STABILITY
#FOCUS_FILTER_WAR_SUPPORT
#FOCUS_FILTER_RELIGION
#FOCUS_FILTER_WORLD