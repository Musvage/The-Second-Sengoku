scripted_gui = {

	##### POLITICS MENU INTERFACE #####
	
	SS_worldstage_open = {
		context_type = player_context
		window_name = "SS_worldstage_open_container"
		parent_window_token = politics_tab

		visible = {
			is_ai = no
			OR = {
				NOT = { has_variable = show_SS_worldstage }
				NOT = { check_variable = { show_SS_worldstage = 1 } }
			}
		}

		triggers = {
			worldstage_open_button_click_enabled = {
				OR = {
					NOT = { has_variable = show_SS_worldstage }
					NOT = { check_variable = { show_SS_worldstage = 1 } }
				}
			}
		}

		effects = {
			worldstage_open_button_click = {
				set_variable = { show_SS_trade = 0 }
				set_variable = { show_SS_religion = 0 }
				set_variable = { show_SS_unification = 0 }
				set_variable = { show_SS_worldstage = 1 }
				if = {
					limit = {
						NOT = { has_country_flag = worldstage_menu_show_asia }
						NOT = { has_country_flag = worldstage_menu_show_europe }
						NOT = { has_country_flag = worldstage_menu_show_ledger }
					}
					set_country_flag = worldstage_menu_show_europe
				}
			}
		}
	}

	SS_worldstage_close = {
		context_type = player_context
		window_name = "SS_worldstage_close_container"
		parent_window_token = politics_tab

		visible = {
			is_ai = no
			NOT = { check_variable = { show_SS_worldstage = 0 } }
		}

		triggers = {
			worldstage_open_button_click_enabled = {
				NOT = { check_variable = { show_SS_worldstage = 0 } }
			}
		}

		effects = {
			worldstage_open_button_click = {
				set_variable = { show_SS_worldstage = 0 }
			}
		}

	}
	
	SS_worldstage_base = {
		context_type = player_context
		window_name = "SS_worldstage_container_base"
		parent_window_token = politics_tab
		dirty = show_SS_worldstage

		visible = { check_variable = { show_SS_worldstage = 1 } }
		
		triggers = {
			worldstage_notification_on_button_visible = { NOT = { has_country_flag = hide_worldstage_notification } }
			worldstage_notification_off_button_visible = { has_country_flag = hide_worldstage_notification }
		}
		
		effects = {
			worldstage_notification_on_button_click = { set_country_flag = hide_worldstage_notification log = "BBBB" }
			worldstage_notification_off_button_click = { clr_country_flag = hide_worldstage_notification log = "AAAAAAA" }
		}
	}

	SS_worldstage_europe = {
		context_type = player_context
		window_name = "SS_worldstage_container_europe"
		parent_window_token = politics_tab
		dirty = show_SS_worldstage

		visible = {
			check_variable = { show_SS_worldstage = 1 }
			has_country_flag = worldstage_menu_show_europe
			NOT = { has_country_flag = worldstage_menu_show_ledger }
		}
		
		triggers = {
			map_background_europe_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
			map_detail_finland_visible = { has_global_flag = worldstage_menu_annex_baltic }
			map_detail_baltic_visible = { has_global_flag = worldstage_menu_annex_karelia }
			worldstage_header_europe_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
			worldstage_power_display_visible = {
				has_variable = world_stage_metropolis
				NOT = { check_variable = { world_stage_metropolis = 0 } }	# should be redundant, but just in case...
				NOT = { check_variable = { world_stage_metropolis = 1 } }
			}
			worldstage_power_frame_icon_visible = {
				has_variable = world_stage_metropolis
				NOT = { check_variable = { world_stage_metropolis = 0 } }	# should be redundant, but just in case...
				NOT = { check_variable = { world_stage_metropolis = 1 } }	# non-foreing power
				NOT = { check_variable = { world_stage_metropolis = 11 } }	# internationally recognized Japan
			}
	#		theater_icon_england_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_france_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_germany_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_alsace_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_westphalia_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_netherlands_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_lybia_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_egypt_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_sicily_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_italy_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_alpes_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_austria_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_poland_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_belarus_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_smolensk_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
	#		theater_icon_russia_visible = { NOT = { has_country_flag = worldstage_menu_show_asia } }
			theater_icon_normandy_visible = {
				NOT = { has_country_flag = worldstage_menu_show_asia }
				has_global_flag = world_stage_theater_normandy_is_active
			}
			theater_icon_sealion_visible = {
				NOT = { has_country_flag = worldstage_menu_show_asia }
				has_global_flag = world_stage_theater_sealion_is_active
			}
			# active fronts
			active_front_england_visible = { has_global_flag = world_stage_theater_england_is_active }
			active_front_france_visible = { has_global_flag = world_stage_theater_france_is_active }
			active_front_germany_visible = { has_global_flag = world_stage_theater_germany_is_active }
			active_front_alsace_visible = { has_global_flag = world_stage_theater_alsace_is_active }
			active_front_westphalia_visible = { has_global_flag = world_stage_theater_westphalia_is_active }
			active_front_netherlands_visible = { has_global_flag = world_stage_theater_netherlands_is_active }
			active_front_lybia_visible = { has_global_flag = world_stage_theater_lybia_is_active }
			active_front_egypt_visible = { has_global_flag = world_stage_theater_egypt_is_active }
			active_front_sicily_visible = { has_global_flag = world_stage_theater_sicily_is_active }
			active_front_italy_visible = { has_global_flag = world_stage_theater_italy_is_active }
			active_front_alpes_visible = { has_global_flag = world_stage_theater_alpes_is_active }
			active_front_austria_visible = { has_global_flag = world_stage_theater_austria_is_active }
			active_front_poland_visible = {
				OR = {
					has_global_flag = world_stage_theater_poland_is_active
					has_global_flag = world_stage_theater_poland_is_active_first
					has_global_flag = world_stage_theater_poland_is_active_second
				}
			}
			active_front_belarus_visible = { has_global_flag = world_stage_theater_belarus_is_active }
			active_front_smolensk_visible = { has_global_flag = world_stage_theater_smolensk_is_active }
			active_front_russia_visible = { has_global_flag = world_stage_theater_russia_is_active }
			active_front_normandy_visible = { has_global_flag = world_stage_theater_normandy_is_active }
			active_front_sealion_visible = { has_global_flag = world_stage_theater_sealion_is_active }
		}
		
		properties = {			
			map_background_europe = { frame = var:global.worldstage_europe_map_frame }
			theater_icon_england = { frame = var:global.theater_owner_england }
			theater_icon_france = { frame = var:global.theater_owner_france }
			theater_icon_germany = { frame = var:global.theater_owner_germany }
			theater_icon_alsace = { frame = var:global.theater_owner_alsace }
			theater_icon_westphalia = { frame = var:global.theater_owner_westphalia }
			theater_icon_netherlands = { frame = var:global.theater_owner_netherlands }
			theater_icon_lybia = { frame = var:global.theater_owner_lybia }
			theater_icon_egypt = { frame = var:global.theater_owner_egypt }
			theater_icon_sicily = { frame = var:global.theater_owner_sicily }
			theater_icon_italy = { frame = var:global.theater_owner_italy }
			theater_icon_alpes = { frame = var:global.theater_owner_alpes }
			theater_icon_austria = { frame = var:global.theater_owner_austria }
			theater_icon_poland = { frame = var:global.theater_owner_poland }
			theater_icon_belarus = { frame = var:global.theater_owner_belarus }
			theater_icon_smolensk = { frame = var:global.theater_owner_smolensk }
			theater_icon_russia = { frame = var:global.theater_owner_russia }
			theater_icon_normandy = { frame = var:global.theater_owner_normandy }
			theater_icon_sealion = { frame = var:global.theater_owner_sealion }
			country_icon = { frame = var:world_stage_metropolis }
			faction_icon = { frame = var:world_stage_coalition }
		}
		
		effects = {
			switch_asia_button_click = {
				if = {
					limit = { has_country_flag = worldstage_menu_show_europe }
					clr_country_flag = worldstage_menu_show_europe
				}
				if = {
					limit = { has_country_flag = worldstage_menu_show_ledger }
					clr_country_flag = worldstage_menu_show_ledger
				}
				set_country_flag = worldstage_menu_show_asia
			}
			switch_ledger_button_click = {
				set_country_flag = worldstage_menu_show_ledger
			}
		}
	}
	
	SS_worldstage_asia = {
		context_type = player_context
		window_name = "SS_worldstage_container_asia"
		parent_window_token = politics_tab
		dirty = show_SS_worldstage

		visible = {
			check_variable = { show_SS_worldstage = 1 }
			has_country_flag = worldstage_menu_show_asia
			NOT = { has_country_flag = worldstage_menu_show_ledger }
		}
		
		triggers = {
			map_background_asia_visible = { has_country_flag = worldstage_menu_show_asia }
			worldstage_header_asia_visible = { has_country_flag = worldstage_menu_show_asia }
			worldstage_power_display_visible = {
				has_variable = world_stage_metropolis
				NOT = { check_variable = { world_stage_metropolis = 0 } }	# should be redundant, but just in case...
				NOT = { check_variable = { world_stage_metropolis = 1 } }
			}
			worldstage_power_frame_icon_visible = {
				has_variable = world_stage_metropolis
				NOT = { check_variable = { world_stage_metropolis = 0 } }	# should be redundant, but just in case...
				NOT = { check_variable = { world_stage_metropolis = 1 } }
				NOT = { check_variable = { world_stage_metropolis = 11 } }	# internationally recognized Japan
			}
	#		theater_icon_urals_visible = { has_country_flag = worldstage_menu_show_asia }
	#		theater_icon_siberia_visible = { has_country_flag = worldstage_menu_show_asia }
	#		theater_icon_mongolia_visible = { has_country_flag = worldstage_menu_show_asia }
	#		theater_icon_tibet_visible = { has_country_flag = worldstage_menu_show_asia }
	#		theater_icon_guanxi_visible = { has_country_flag = worldstage_menu_show_asia }
	#		theater_icon_china_visible = { has_country_flag = worldstage_menu_show_asia }
	#		theater_icon_bengal_visible = { has_country_flag = worldstage_menu_show_asia }
	#		theater_icon_india_visible = { has_country_flag = worldstage_menu_show_asia }
	#		theater_icon_indies_visible = { has_country_flag = worldstage_menu_show_asia }
	#		theater_icon_philipines_visible = { has_country_flag = worldstage_menu_show_asia }
			# active front
			active_front_urals_visible = {  has_global_flag = world_stage_theater_urals_is_active }
			active_front_siberia_visible = {  has_global_flag = world_stage_theater_siberia_is_active }
			active_front_mongolia_visible = {  has_global_flag = world_stage_theater_mongolia_is_active }
			active_front_tibet_visible = {  has_global_flag = world_stage_theater_tibet_is_active }
			active_front_guanxi_visible = {  has_global_flag = world_stage_theater_guanxi_is_active }
			active_front_china_visible = {  has_global_flag = world_stage_theater_china_is_active }
			active_front_bengal_visible = {  has_global_flag = world_stage_theater_bengal_is_active }
			active_front_india_visible = {  has_global_flag = world_stage_theater_india_is_active }
			active_front_indies_visible = {  has_global_flag = world_stage_theater_indies_is_active }
			active_front_philipines_visible = {  has_global_flag = world_stage_theater_philipines_is_active }
		}
		
		effects = {
			switch_europe_button_click = {
				if = {
					limit = { has_country_flag = worldstage_menu_show_asia }
					clr_country_flag = worldstage_menu_show_asia
				}
				if = {
					limit = { has_country_flag = worldstage_menu_show_ledger }
					clr_country_flag = worldstage_menu_show_ledger
				}
				set_country_flag = worldstage_menu_show_europe
			}
			switch_ledger_button_click = {
				set_country_flag = worldstage_menu_show_ledger
			}
		}
		
		properties = {
			map_background_asian = { frame = var:global.worldstage_asia_map_frame }
			theater_icon_urals = { frame = var:global.theater_owner_urals }
			theater_icon_siberia = { frame = var:global.theater_owner_siberia }
			theater_icon_mongolia = { frame = var:global.theater_owner_mongolia }
			theater_icon_tibet = { frame = var:global.theater_owner_tibet }
			theater_icon_guanxi = { frame = var:global.theater_owner_guanxi }
			theater_icon_china = { frame = var:global.theater_owner_china }
			theater_icon_bengal = { frame = var:global.theater_owner_bengal }
			theater_icon_india = { frame = var:global.theater_owner_india }
			theater_icon_indies = { frame = var:global.theater_owner_indies }
			theater_icon_philipines = { frame = var:global.theater_owner_philipines }
			country_icon = { frame = var:world_stage_metropolis }
			faction_icon = { frame = var:world_stage_coalition }
		}
	}
	
	SS_worldstage_ledger = {
		context_type = player_context
		window_name = "SS_worldstage_container_ledger"
		parent_window_token = politics_tab
		dirty = show_SS_worldstage

		visible = {
			check_variable = { show_SS_worldstage = 1 }
			has_country_flag = worldstage_menu_show_ledger
		}
		
		effects = {
			switch_europe_button_click = {
				if = {
					limit = { has_country_flag = worldstage_menu_show_asia }
					clr_country_flag = worldstage_menu_show_asia
				}
				if = {
					limit = { has_country_flag = worldstage_menu_show_ledger }
					clr_country_flag = worldstage_menu_show_ledger
				}
				set_country_flag = worldstage_menu_show_europe
			}
			switch_asia_button_click = {
				if = {
					limit = { has_country_flag = worldstage_menu_show_europe }
					clr_country_flag = worldstage_menu_show_europe
				}
				if = {
					limit = { has_country_flag = worldstage_menu_show_ledger }
					clr_country_flag = worldstage_menu_show_ledger
				}
				set_country_flag = worldstage_menu_show_asia
			}
		}
	}
	
	SS_worldstage_notification_on = {
		context_type = player_context
		window_name = "SS_worldstage_notification_on"
		parent_window_token = politics_tab
		dirty = show_SS_worldstage
		
		visible = {
			NOT = { has_country_flag = hide_worldstage_notification }
			check_variable = { show_SS_worldstage = 1 }
		}
		
		effects = {
			worldstage_notification_on_button_click = { set_country_flag = hide_worldstage_notification log = "BBBB" }
		}
	}
	
	SS_worldstage_notification_off= {
		context_type = player_context
		window_name = "SS_worldstage_notification_off"
		parent_window_token = politics_tab
		dirty = show_SS_worldstage
		
		visible = {
			has_country_flag = hide_worldstage_notification
			check_variable = { show_SS_worldstage = 1 }
		}
		
		effects = {
			worldstage_notification_off_button_click = { clr_country_flag = hide_worldstage_notification log = "AAAA" }
		}
	}
}
