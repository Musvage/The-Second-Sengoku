KYU_army_reforms_category = {

	KYU_upgrade_artillery_adviser = {
		
		icon = GFX_decision_generic_ignite_civil_war
		
		custom_cost_trigger = {
			 has_army_experience > 19.99
		}
		
		complete_effect = { hidden_effect = { army_experience = -20 } }
		
		custom_cost_text = KYU_upgrade_officer_cost
		
		allowed = { original_tag = KYU }
		
		available = {
			any_character = { has_trait = army_artillery_0 }
			custom_trigger_tooltip = {
				tooltip = KYU_army_reforms_idle
				NOT = {
					#has_decision = KYU_upgrade_artillery_adviser
					has_decision = KYU_upgrade_cavalry_adviser
					has_decision = KYU_upgrade_logistics_adviser
					has_decision = KYU_upgrade_division_limit_adviser
					has_decision = KYU_upgrade_offensive_adviser
					has_decision = KYU_upgrade_defensive_adviser
				}
			}
		}
		
		visible = { has_completed_focus = KYU_reformed_military_academy  }
		
		
		fire_only_once = yes
		
		remove_effect = {
			random_character = {
				limit = { has_trait = army_artillery_0 }
				hidden_effect = {
					if = { limit = { is_hired_as_advisor = yes } set_character_flag = hire_again PREV = { deactivate_advisor = KYU_adviser_army_artillery } }
					remove_advisor_role = { slot = high_command }
					random_list = {
						2 = {
							add_advisor_role = {
								advisor = {
									slot = high_command
									cost = 50
									idea_token = KYU_adviser_army_artillery
									traits = {
										army_artillery_1
									}
								}
							}
						}
						1 = {
							add_advisor_role = {
								advisor = {
									slot = high_command
									cost = 100
									idea_token = KYU_adviser_army_artillery
									traits = {
										army_artillery_2
									}
								}
							}
						}
					}
				}
				effect_tooltip = { 
					random_list = {
						1 = {
							add_trait = {
								 slot = high_command
								 trait = army_artillery_1
							}
						}
						2 = {
							add_trait = {
								 slot = high_command
								 trait = army_artillery_2
							}
						}
					}
				}
				hidden_effect = { if = { limit = { has_character_flag = hire_again } clr_character_flag = hire_again PREV = { activate_advisor = KYU_adviser_army_artillery } } }
			}
		}
	}
	
	KYU_upgrade_cavalry_adviser = {
		
		icon = GFX_decision_generic_cavalry
		
		custom_cost_trigger = {
			 has_army_experience > 19.99
		}
		
		complete_effect = { hidden_effect = { army_experience = -20 } }
		
		custom_cost_text = KYU_upgrade_officer_cost
		
		allowed = { original_tag = KYU }
		
		available = {
			any_character = { has_trait = army_cavalry_0 }
			custom_trigger_tooltip = {
				tooltip = KYU_army_reforms_idle
				NOT = {
					has_decision = KYU_upgrade_artillery_adviser
					#has_decision = KYU_upgrade_cavalry_adviser
					has_decision = KYU_upgrade_logistics_adviser
					has_decision = KYU_upgrade_division_limit_adviser
					has_decision = KYU_upgrade_offensive_adviser
					has_decision = KYU_upgrade_defensive_adviser
				}
			}
		}
		
		visible = { has_completed_focus = KYU_reformed_military_academy  }
		
		
		fire_only_once = yes
		
		remove_effect = {
			random_character = {
				limit = { has_trait = army_cavalry_0 }
				hidden_effect = {
					if = { limit = { is_hired_as_advisor = yes } set_character_flag = hire_again PREV = { deactivate_advisor = KYU_adviser_cavalry } }
					remove_advisor_role = { slot = high_command }
					random_list = {
						2 = {
							add_advisor_role = {
								advisor = {
									slot = high_command
									cost = 50
									idea_token = KYU_adviser_cavalry
									traits = {
										army_cavalry_1
									}
								}
							}
						}
						1 = {
							add_advisor_role = {
								advisor = {
									slot = high_command
									cost = 100
									idea_token = KYU_adviser_cavalry
									traits = {
										army_cavalry_2
									}
								}
							}
						}
					}
				}
				effect_tooltip = { 
					random_list = {
						2 = {
							add_trait = {
								 slot = high_command
								 trait = army_cavalry_1
							}
						}
						1 = {
							add_trait = {
								 slot = high_command
								 trait = army_cavalry_2
							}
						}
					}
				}
				hidden_effect = { if = { limit = { has_character_flag = hire_again } clr_character_flag = hire_again PREV = { activate_advisor = KYU_adviser_cavalry } } }
			}
		}
	}
	
	KYU_upgrade_logistics_adviser = {
		
		icon = GFX_decision_generic_motorized
		
		custom_cost_trigger = {
			 has_army_experience > 19.99
		}
		
		complete_effect = { hidden_effect = { army_experience = -20 } }
		
		custom_cost_text = KYU_upgrade_officer_cost
		
		allowed = { original_tag = KYU }
		
		available = {
			any_character = { has_trait = army_logistics_0 }
			custom_trigger_tooltip = {
				tooltip = KYU_army_reforms_idle
				NOT = {
					has_decision = KYU_upgrade_artillery_adviser
					has_decision = KYU_upgrade_cavalry_adviser
					#has_decision = KYU_upgrade_logistics_adviser
					has_decision = KYU_upgrade_division_limit_adviser
					has_decision = KYU_upgrade_offensive_adviser
					has_decision = KYU_upgrade_defensive_adviser
				}
			}
		}
		
		visible = { has_completed_focus = KYU_reformed_military_academy  }
		
		
		fire_only_once = yes
		
		remove_effect = {
			random_character = {
				limit = { has_trait = army_logistics_0 }
				hidden_effect = {
					if = { limit = { is_hired_as_advisor = yes } set_character_flag = hire_again PREV = { deactivate_advisor = KYU_adviser_army_logistics } }
					remove_advisor_role = { slot = high_command }
					random_list = {
						2 = {
							add_advisor_role = {
								advisor = {
									slot = high_command
									cost = 50
									idea_token = KYU_adviser_army_logistics
									traits = {
										army_logistics_1
									}
								}
							}
						}
						1 = {
							add_advisor_role = {
								advisor = {
									slot = high_command
									cost = 100
									idea_token = KYU_adviser_army_logistics
									traits = {
										army_logistics_2
									}
								}
							}
						}
					}
				}
				effect_tooltip = { 
					random_list = {
						2 = {
							add_trait = {
								 slot = high_command
								 trait = army_logistics_1
							}
						}
						1 = {
							add_trait = {
								 slot = high_command
								 trait = army_logistics_2
							}
						}
					}
				}
				hidden_effect = { if = { limit = { has_character_flag = hire_again } clr_character_flag = hire_again PREV = { activate_advisor = KYU_adviser_army_logistics } } }
			}
		}
	}
	
	KYU_upgrade_division_limit_adviser = {
		
		icon = GFX_decision_generic_decision
		
		custom_cost_trigger = {
			 has_army_experience > 19.99
		}
		
		complete_effect = { hidden_effect = { army_experience = -20 } }
		
		custom_cost_text = KYU_upgrade_officer_cost
		
		allowed = { original_tag = KYU }
		
		available = {
			any_character = { has_trait = army_division_limit_0 }
			custom_trigger_tooltip = {
				tooltip = KYU_army_reforms_idle
				NOT = {
					has_decision = KYU_upgrade_artillery_adviser
					has_decision = KYU_upgrade_cavalry_adviser
					has_decision = KYU_upgrade_logistics_adviser
					#has_decision = KYU_upgrade_division_limit_adviser
					has_decision = KYU_upgrade_offensive_adviser
					has_decision = KYU_upgrade_defensive_adviser
				}
			}
		}
		
		visible = { has_completed_focus = KYU_reformed_military_academy  }
		
		
		fire_only_once = yes
		
		remove_effect = {
			random_character = {
				limit = { has_trait = army_division_limit_0 }
				hidden_effect = {
					if = { limit = { is_hired_as_advisor = yes } set_character_flag = hire_again PREV = { deactivate_advisor = KYU_army_adviser_division_limit } }
					remove_advisor_role = { slot = high_command }
					random_list = {
						2 = {
							add_advisor_role = {
								advisor = {
									slot = high_command
									cost = 50
									idea_token = KYU_army_adviser_division_limit
									traits = {
										army_logistics_1
									}
								}
							}
						}
						1 = {
							add_advisor_role = {
								advisor = {
									slot = high_command
									cost = 100
									idea_token = KYU_army_adviser_division_limit
									traits = {
										army_division_limit_2
									}
								}
							}
						}
					}
				}
				effect_tooltip = { 
					random_list = {
						2 = {
							add_trait = {
								 slot = high_command
								 trait = army_division_limit_1
							}
						}
						1 = {
							add_trait = {
								 slot = high_command
								 trait = army_division_limit_2
							}
						}
					}
				}
				hidden_effect = { if = { limit = { has_character_flag = hire_again } clr_character_flag = hire_again PREV = { activate_advisor = KYU_army_adviser_division_limit } } }
			}
		}
	}
	
	KYU_upgrade_offensive_adviser = {
		
		icon = GFX_decision_generic_advancing_soldier
		
		custom_cost_trigger = {
			 has_army_experience > 19.99
		}
		
		complete_effect = { hidden_effect = { army_experience = -20 } }
		
		custom_cost_text = KYU_upgrade_officer_cost
		
		allowed = { original_tag = KYU }
		
		available = {
			any_character = { has_trait = army_chief_offensive_0 }
			custom_trigger_tooltip = {
				tooltip = KYU_army_reforms_idle
				NOT = {
					has_decision = KYU_upgrade_artillery_adviser
					has_decision = KYU_upgrade_cavalry_adviser
					has_decision = KYU_upgrade_logistics_adviser
					has_decision = KYU_upgrade_division_limit_adviser
					#has_decision = KYU_upgrade_offensive_adviser
					has_decision = KYU_upgrade_defensive_adviser
				}
			}
		}
		
		visible = { has_completed_focus = KYU_reformed_military_academy  }
		
		
		fire_only_once = yes
		
		remove_effect = {
			random_character = {
				limit = { has_trait = army_chief_offensive_0 }
				hidden_effect = {
					if = { limit = { is_hired_as_advisor = yes } set_character_flag = hire_again PREV = { deactivate_advisor = KYU_adviser_army_offensive } }
					remove_advisor_role = { slot = army_chief }
					random_list = {
						2 = {
							add_advisor_role = {
								advisor = {
									slot = army_chief
									cost = 50
									idea_token = KYU_adviser_army_offensive
									traits = {
										army_chief_offensive_1
									}
								}
							}
						}
						1 = {
							add_advisor_role = {
								advisor = {
									slot = army_chief
									cost = 100
									idea_token = KYU_adviser_offensive
									traits = {
										army_chief_offensive_2
									}
								}
							}
						}
					}
				}
				effect_tooltip = {
					random_list = {
						2 = {
							add_trait = {
								 slot = army_chief
								 trait = army_chief_offensive_1
							}
						}
						1 = {
							add_trait = {
								 slot = army_chief
								 trait = army_chief_offensive_2
							}
						}
					}
				}
				hidden_effect = { if = { limit = { has_character_flag = hire_again } clr_character_flag = hire_again PREV = { activate_advisor = KYU_adviser_army_offensive } } }
			}
		}
	}
	
	KYU_upgrade_defensive_adviser = {
		
		icon = GFX_decision_generic_fortification
		
		custom_cost_trigger = {
			 has_army_experience > 19.99
		}
		
		complete_effect = { hidden_effect = { army_experience = -20 } }
		
		custom_cost_text = KYU_upgrade_officer_cost
		
		allowed = { original_tag = KYU }
		
		available = {
			any_character = { has_trait = army_chief_defensive_0 }
			custom_trigger_tooltip = {
				tooltip = KYU_army_reforms_idle
				NOT = {
					has_decision = KYU_upgrade_artillery_adviser
					has_decision = KYU_upgrade_cavalry_adviser
					has_decision = KYU_upgrade_logistics_adviser
					has_decision = KYU_upgrade_division_limit_adviser
					has_decision = KYU_upgrade_offensive_adviser
					#has_decision = KYU_upgrade_defensive_adviser
				}
			}
		}
		
		visible = { has_completed_focus = KYU_reformed_military_academy  }
		
		
		fire_only_once = yes
		
		remove_effect = {
			random_character = {
				limit = { has_trait = army_chief_defensive_0 }
				hidden_effect = {
					if = { limit = { is_hired_as_advisor = yes } set_character_flag = hire_again PREV = { deactivate_advisor = KYU_adviser_army_defensive } }
					remove_advisor_role = { slot = army_chief }
					random_list = {
						2 = {
							add_advisor_role = {
								advisor = {
									slot = army_chief
									cost = 50
									idea_token = KYU_adviser_army_defensive
									traits = {
										army_chief_defensive_1
									}
								}
							}
						}
						1 = {
							add_advisor_role = {
								advisor = {
									slot = army_chief
									cost = 100
									idea_token = KYU_adviser_defensive
									traits = {
										army_chief_defensive_2
									}
								}
							}
						}
					}
				}
				effect_tooltip = {
					random_list = {
						2 = {
							add_trait = {
								 slot = army_chief
								 trait = army_chief_defensive_1
							}
						}
						1 = {
							add_trait = {
								 slot = army_chief
								 trait = army_chief_defensive_2
							}
						}
					}
				}
				hidden_effect = { if = { limit = { has_character_flag = hire_again } clr_character_flag = hire_again PREV = { activate_advisor = KYU_adviser_army_defensive } } }
			}
		}
	}
}

KYU_category_factured_government = {

	KYU_anti_neutrality_raids = {

    	icon = generic_raid_neutrality

    	visible = {
			NOT = { has_government = neutrality }
		}

		available = {
            neutrality > 0.1
            NOT = {
				has_idea_with_trait = coalition_with_neutrality
				hidden_trigger = { has_idea_with_trait = coalition_with_neutrality_char }
			}
        }
	
		modifier = {
			neutrality_drift = -0.05
			stability_weekly = 0.007
			power_balance_daily = 0.001
		}
	
		days_remove = 120
		cost = var:anti_party_raid_cost?50

		complete_effect = {
			add_stability = -0.1
		}
		
		remove_effect = {
		}
		
		ai_will_do = { base = 1 modifier = { factor = 0 has_stability < 0.33 } }
    }
	
	KYU_anti_autocracy_raids = {

    	icon = generic_raid_autocracy

    	visible = {
			NOT = { has_government = autocracy }
		}

		available = {
            autocracy > 0.1
            NOT = {
				has_idea_with_trait = coalition_with_autocracy
				hidden_trigger = { has_idea_with_trait = coalition_with_autocracy_char }
			}
        }
	
		modifier = {
			autocracy_drift = -0.05
			stability_weekly = 0.007
			power_balance_daily = -0.001
		}
	
		days_remove = 120
		cost = var:anti_party_raid_cost?50

		complete_effect = {
			add_stability = -0.1
		}
		
		remove_effect = {
		}
		
		ai_will_do = { base = 1 modifier = { factor = 0 has_stability < 0.33 } }
    }
	
	KYU_anti_democratic_socialism_raids = {

    	icon = generic_raid_democratic_socialism

    	visible = {
			NOT = { has_government = democratic_socialism }
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}

		available = {
            democratic_socialism > 0.1
			NOT = {
				has_idea_with_trait = coalition_with_democratic_socialism
				hidden_trigger = { has_idea_with_trait = coalition_with_democratic_socialism_char }
			}
        }
	
		modifier = {
			democratic_socialism_drift = -0.05
			stability_weekly = 0.007
			power_balance_daily = -0.001
		}
	
		days_remove = 120
		cost = var:anti_party_raid_cost?50

		complete_effect = {
			add_stability = -0.1
		}
		
		remove_effect = {
		}
		
		ai_will_do = { base = 1 modifier = { factor = 0 has_stability < 0.33 } }
    }
	
	KYU_anti_democratic_socialism_raids_yamamoto = {

    	icon = generic_raid_democratic_socialism

    	visible = {
			NOT = { has_government = democratic_socialism }
			focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 }
		}

		available = {
            democratic_socialism > 0.1
			NOT = {
				has_idea_with_trait = coalition_with_democratic_socialism
				hidden_trigger = { has_idea_with_trait = coalition_with_democratic_socialism_char }
			}
        }
	
		modifier = {
			democratic_socialism_drift = -0.05
			stability_weekly = 0.007
			power_balance_daily = 0.001
		}
	
		days_remove = 120
		cost = var:anti_party_raid_cost?50

		complete_effect = {
			add_stability = -0.1
		}
		
		remove_effect = {
		}
		
		ai_will_do = { base = 1 modifier = { factor = 0 has_stability < 0.33 } }
    }
  
    KYU_anti_fascist_raids = {

    	icon = generic_raid_fascism

    	visible = {
			NOT = { has_government = fascism }
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}

		available = {
            fascism > 0.1
			NOT = { has_completed_focus = KYU_dangerous_coalition }
            NOT = {
				has_idea_with_trait = coalition_with_fascism
				hidden_trigger = { has_idea_with_trait = coalition_with_fascism_char }
			}
        }
	
		modifier = {
			fascism_drift = -0.05
			stability_weekly = 0.007
			power_balance_daily = -0.001
		}
	
		days_remove = 120
		cost = var:anti_party_raid_cost?50

		complete_effect = {
			add_stability = -0.1
		}
		
		remove_effect = {
		}
		
		ai_will_do = { base = 1 modifier = { factor = 0 has_stability < 0.33 } }
    }
	
	KYU_anti_fascist_raids_yamamoto = {

    	icon = generic_raid_fascism

    	visible = {
			NOT = { has_government = fascism }
			focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 }
		}

		available = {
            fascism > 0.1
			NOT = { has_completed_focus = KYU_dangerous_coalition }
            NOT = {
				has_idea_with_trait = coalition_with_fascism
				hidden_trigger = { has_idea_with_trait = coalition_with_fascism_char }
			}
        }
	
		modifier = {
			fascism_drift = -0.05
			stability_weekly = 0.007
			power_balance_daily = 0.001
		}
	
		days_remove = 120
		cost = var:anti_party_raid_cost?50

		complete_effect = {
			add_stability = -0.1
		}
		
		remove_effect = {
		}
		
		ai_will_do = { base = 1 modifier = { factor = 0 has_stability < 0.33 } }
    }

    KYU_anti_democratic_raids = {

    	icon = generic_raid_democratic

    	visible = {
			NOT = { has_government = democratic }
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}

		available = {
            democratic > 0.1
			NOT = {
				has_idea_with_trait = coalition_with_democratic
				hidden_trigger = { has_idea_with_trait = coalition_with_democratic_char }
			}
        }
	
		modifier = {
			democratic_drift = -0.05
			stability_weekly = 0.007
			power_balance_daily = -0.001
		}
	
		days_remove = 120
		cost = var:anti_party_raid_cost?50

		complete_effect = {
			add_stability = -0.1
		}
		
		remove_effect = {
		}
		
		ai_will_do = {
			factor = 0
		}
    }
	
	KYU_anti_democratic_raids_yamamoto = {

    	icon = generic_raid_democratic

    	visible = {
			NOT = { has_government = democratic }
			focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 }
		}

		available = {
            democratic > 0.1
			NOT = {
				has_idea_with_trait = coalition_with_democratic
				hidden_trigger = { has_idea_with_trait = coalition_with_democratic_char }
			}
        }
	
		modifier = {
			democratic_drift = -0.05
			stability_weekly = 0.007
			power_balance_daily = 0.001
		}
	
		days_remove = 120
		cost = var:anti_party_raid_cost?50

		complete_effect = {
			add_stability = -0.1
		}
		
		remove_effect = {
		}
		
		ai_will_do = {
			factor = 0
		}
    }

    KYU_anti_communist_raids = {

    	icon = generic_raid_communism

    	visible = {
			NOT = { has_government = communism }
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}

		available = {
            communism > 0.1
			  NOT = {
				has_idea_with_trait = coalition_with_communism
				hidden_trigger = { has_idea_with_trait = coalition_with_communism_char }
			}
        }
	
		modifier = {
			communism_drift = -0.05
			stability_weekly = 0.007
			power_balance_daily = -0.001
		}
	
		days_remove = 120
		cost = var:anti_party_raid_cost?50

		complete_effect = {
			add_stability = -0.1
		}
		
		remove_effect = {
		}
		
		ai_will_do = {
			factor = 0
		}
    }
	
	KYU_anti_communist_raids_yamamoto = {

    	icon = generic_raid_communism

    	visible = {
			NOT = { has_government = communism }
			focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 }
		}

		available = {
            communism > 0.1
			  NOT = {
				has_idea_with_trait = coalition_with_communism
				hidden_trigger = { has_idea_with_trait = coalition_with_communism_char }
			}
        }
	
		modifier = {
			communism_drift = -0.05
			stability_weekly = 0.007
			power_balance_daily = 0.001
		}
	
		days_remove = 120
		cost = var:anti_party_raid_cost?50

		complete_effect = {
			add_stability = -0.1
		}
		
		remove_effect = {
		}
		
		ai_will_do = {
			factor = 0
		}
    }
	
	KYU_ban_neutrality_party = {

		icon = generic_ban_neutrality

		available = {
			neutrality < 0.2
			NOT = {
				has_idea_with_trait = coalition_with_neutraity
				hidden_trigger = { has_idea_with_trait = coalition_with_neutrality_char }
			}
		}

		visible = {
			NOT = { has_government = neutrality }
			neutrality > 0
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = neutrality
			}
		}
	
		modifier = {
			neutrality_drift = -0.02
		}
	
		days_remove = -1
		cost = var:ban_party_cost?100
		
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@neutrality
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = neutrality
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}				
			}
			custom_effect_tooltip = ban_neutrality_party_tt
			add_stability = ban_ideology_var
			add_power_balance_value = { id = KYU_fractured_government_balance value = 0.05 tooltip_side = KYU_bop_clans_side }
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_ban_democratic_socialism_party = {

		icon = generic_ban_democratic_socialism

		available = {
			democratic_socialism < 0.2
			NOT = {
				has_idea_with_trait = coalition_with_democratic_socialism
				hidden_trigger = { has_idea_with_trait = coalition_with_democratic_socialism_char }
			}
		}

		visible = {
			NOT = { has_government = democratic_socialism }
			democratic_socialism > 0
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = democratic_socialism
			}
		}
	
		modifier = {
			democratic_socialism_drift = -0.02
		}
	
		days_remove = -1
		cost = var:ban_party_cost?100
		
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@democratic_socialism
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = democratic_socialism
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}				
			}
			custom_effect_tooltip = ban_democratic_socialism_party_tt
			add_stability = ban_ideology_var
			add_power_balance_value = { id = KYU_fractured_government_balance value = 0.05 tooltip_side = KYU_bop_government_side }
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_ban_democratic_socialism_party_yamamoto = {

		icon = generic_ban_democratic_socialism

		available = {
			democratic_socialism < 0.2
			NOT = {
				has_idea_with_trait = coalition_with_democratic_socialism
				hidden_trigger = { has_idea_with_trait = coalition_with_democratic_socialism_char }
			}
		}

		visible = {
			NOT = { has_government = democratic_socialism }
			democratic_socialism > 0
			focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 }
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = democratic_socialism
			}
		}
	
		modifier = {
			democratic_socialism_drift = -0.02
		}
	
		days_remove = -1
		cost = var:ban_party_cost?100
		
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@democratic_socialism
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = democratic_socialism
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}				
			}
			custom_effect_tooltip = ban_democratic_socialism_party_tt
			add_stability = ban_ideology_var
			add_power_balance_value = { id = KYU_fractured_government_balance value = 0.05 tooltip_side = KYU_bop_clans_side }
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_ban_autocracy_party = {

		icon = generic_ban_autocracy

		available = {
			autocracy < 0.2
			NOT = {
				has_idea_with_trait = coalition_with_autocracy
				hidden_trigger = { has_idea_with_trait = coalition_with_autocracy_char }
			}
		}

		visible = {
			NOT = { has_government = autocracy }
			autocracy > 0
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = autocracy
			}
		}
	
		modifier = {
			autocracy_drift = -0.02
		}
	
		days_remove = -1
		cost = var:ban_party_cost?100
		
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@autocracy
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = autocracy
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}				
			}
			custom_effect_tooltip = ban_autocracy_party_tt
			add_stability = ban_ideology_var
			add_power_balance_value = { id = KYU_fractured_government_balance value = -0.05 tooltip_side = KYU_bop_government_side }
		}

		ai_will_do = {
			factor = 0
		}
	}
    
	KYU_ban_fascist_party = {

		icon = generic_ban_fascism

		available = {
			fascism < 0.2
			NOT = {
				has_idea_with_trait = coalition_with_fascism
				hidden_trigger = { has_idea_with_trait = coalition_with_fascism_char }
			}
		}

		visible = {
			NOT = { has_government = fascism }
			fascism > 0
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
			NOT = { has_completed_focus = KYU_dangerous_coalition }
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = fascism
			}
		}
	
		modifier = {
			fascism_drift = -0.02
		}
	
		days_remove = -1
		cost = var:ban_party_cost?100
		
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@fascism
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = fascism
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}				
			}
			custom_effect_tooltip = ban_fascist_party_tt
			add_stability = ban_ideology_var
			add_power_balance_value = { id = KYU_fractured_government_balance value = -0.05 tooltip_side = KYU_bop_government_side }
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_ban_fascist_party_yamamoto = {

		icon = generic_ban_fascism

		available = {
			fascism < 0.2
			NOT = {
				has_idea_with_trait = coalition_with_fascism
				hidden_trigger = { has_idea_with_trait = coalition_with_fascism_char }
			}
		}

		visible = {
			NOT = { has_government = fascism }
			fascism > 0
			focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 }
			NOT = { has_completed_focus = KYU_dangerous_coalition }
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = fascism
			}
		}
	
		modifier = {
			fascism_drift = -0.02
		}
	
		days_remove = -1
		cost = var:ban_party_cost?100
		
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@fascism
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = fascism
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}				
			}
			custom_effect_tooltip = ban_fascist_party_tt
			add_stability = ban_ideology_var
			add_power_balance_value = { id = KYU_fractured_government_balance value = 0.05 tooltip_side = KYU_bop_clans_side }
		}

		ai_will_do = {
			factor = 0
		}
	}

	KYU_ban_democratic_party = {

		icon = generic_ban_democratic

		available = {
			democratic < 0.2
			NOT = {
				has_idea_with_trait = coalition_with_democratic
				hidden_trigger = { has_idea_with_trait = coalition_with_democratic_char }
			}
		}

		visible = {
			NOT = { has_government = democratic }
			democratic > 0
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = democratic
			}
		}
	
		modifier = {
			democratic_drift = -0.02
		}
	
		days_remove = -1
		cost = var:ban_party_cost?100
		
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@democratic
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = democratic
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}				
			}
			custom_effect_tooltip = ban_democratic_party_tt
			add_stability = ban_ideology_var
			add_power_balance_value = { id = KYU_fractured_government_balance value = -0.05 tooltip_side = KYU_bop_government_side }
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_ban_democratic_party_yamamoto = {

		icon = generic_ban_democratic

		available = {
			democratic < 0.2
			NOT = {
				has_idea_with_trait = coalition_with_democratic
				hidden_trigger = { has_idea_with_trait = coalition_with_democratic_char }
			}
		}

		visible = {
			NOT = { has_government = democratic }
			democratic > 0
			focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 }
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = democratic
			}
		}
	
		modifier = {
			democratic_drift = -0.02
		}
	
		days_remove = -1
		cost = var:ban_party_cost?100
		
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@democratic
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = democratic
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}				
			}
			custom_effect_tooltip = ban_democratic_party_tt
			add_stability = ban_ideology_var
			add_power_balance_value = { id = KYU_fractured_government_balance value = 0.05 tooltip_side = KYU_bop_clans_side }
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_ban_communist_party = {

		icon = generic_ban_communism

		available = {
			communism < 0.2
			NOT = {
				has_idea_with_trait = coalition_with_communism
				hidden_trigger = { has_idea_with_trait = coalition_with_communism_char }
			}
		}

		visible = {
			NOT = { has_government = communism }
			communism > 0
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = communism
			}
		}
	
		modifier = {
			communism_drift = -0.02
		}
	
		days_remove = -1
		cost = var:ban_party_cost?100
		
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@communism
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = communism
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}				
			}
			custom_effect_tooltip = ban_communist_party_tt
			add_stability = ban_ideology_var
			add_power_balance_value = { id = KYU_fractured_government_balance value = -0.05 tooltip_side = KYU_bop_government_side }
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_ban_communist_party_yamamoto = {

		icon = generic_ban_communism

		available = {
			communism < 0.2
			NOT = {
				has_idea_with_trait = coalition_with_communism
				hidden_trigger = { has_idea_with_trait = coalition_with_communism_char }
			}
		}

		visible = {
			NOT = { has_government = communism }
			communism > 0
			focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 }
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = communism
			}
		}
	
		modifier = {
			communism_drift = -0.02
		}
	
		days_remove = -1
		cost = var:ban_party_cost?100
		
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@communism
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = communism
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}				
			}
			custom_effect_tooltip = ban_communist_party_tt
			add_stability = ban_ideology_var
			add_power_balance_value = { id = KYU_fractured_government_balance value = 0.05 tooltip_side = KYU_bop_clans_side }
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_institute_press_censorship_fascist_state = {

		icon = institute_press_censorship

		available = {
			
		}

		visible = {
			has_government = fascism
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}
	
		modifier = {
			communism_drift = -0.01
			fascism_drift = 0.03
			democratic_drift = -0.01
			neutrality_drift = -0.01
			autocracy_drift = -0.01
			democratic_socialism_drift = -0.01
			power_balance_daily = -0.001
		}
	
		days_remove = 360
		cost = var:press_censorship_cost?150
	
		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_institute_press_censorship_democratic_state = {

		icon = institute_press_censorship

		available = {
			has_war = yes
		}

		visible = {
			has_government = democratic
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}
		
		modifier = {
			communism_drift = -0.01
			fascism_drift = -0.01
			democratic_drift = 0.03
			neutrality_drift = -0.01
			autocracy_drift = -0.01
			democratic_socialism_drift = -0.01
		}
	
		days_remove = 360
		cost = var:press_censorship_cost?150
	
		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_institute_press_censorship_democratic_socialist_state = {

		icon = institute_press_censorship

		available = {
			has_war = yes
		}

		visible = {
			has_government = democratic_socialism
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}
		
		modifier = {
			communism_drift = -0.01
			democratic_drift = -0.01
			fascism_drift = -0.01
			neutrality_drift = -0.01
			autocracy_drift = -0.01
			democratic_socialism_drift = 0.03
		}
	
		days_remove = 360
		cost = var:press_censorship_cost?150
	
		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_institute_press_censorship_communist_state = {

		icon = institute_press_censorship

		available = {
			
		}

		visible = {
			has_government = communism
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}
	
		modifier = {
			communism_drift = 0.03
			fascism_drift = -0.01
			democratic_drift = -0.01
			neutrality_drift = -0.01
			autocracy_drift = -0.01
			democratic_socialism_drift = -0.01
		}
	
		days_remove = 360
		cost = var:press_censorship_cost?150
		
		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_institute_press_censorship_neutrality_state = {

		icon = institute_press_censorship

		available = {
			
		}

		visible = {
			has_government = neutrality
			NOT = { focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 } }
		}
	
		modifier = {
			communism_drift = -0.01
			fascism_drift = -0.01
			democratic_drift = -0.01
			neutrality_drift = 0.03
			autocracy_drift = -0.01
			democratic_socialism_drift = -0.01
			power_balance_daily = -0.001
		}
	
		days_remove = 360
		cost = var:press_censorship_cost?150
		
		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_institute_press_censorship_autocracy_state = {

		icon = institute_press_censorship

		available = {
			
		}

		visible = {
			OR = {
				has_government = autocracy
				focus_progress = { focus = KYU_back_yamamoto_1 progress > 0 }
			}
		}
	
		modifier = {
			communism_drift = -0.01
			fascism_drift = -0.01
			democratic_drift = -0.01
			neutrality_drift = -0.01
			autocracy_drift = 0.03
			democratic_socialism_drift = -0.01
			power_balance_daily = 0.001
		}
	
		days_remove = 360
		cost = var:press_censorship_cost?150
		
		ai_will_do = {
			factor = 0
		}
	}
	
	KYU_political_assassination = {

    	icon = generic_assassination

    	visible = {
			has_completed_focus = KYU_invite_nagano_1
		}

		available = {
            fascism > 0.2
        }
	
		days_remove = 7
		
		fire_only_once = yes

		remove_effect = {
			custom_effect_tooltip = paragraph_tt
			random_list = {
				2 = {
					custom_effect_tooltip = KYU_political_assassination_success
					effect_tooltip = {
						add_power_balance_value = {
							id = KYU_fractured_government_balance
							value = -0.1
							tooltip_side = KYU_bop_government_side
						}
						add_stability = -0.05
					}
					hidden_effect = {
						random_character = {
							limit = {
								NOT = { has_trait = persuasive_monarchist has_trait = democratic_reformer has_trait = fascist_demagogue has_trait = welfare_proponent has_trait = communist_revolutionary }
								NOT = { has_trait = foreign_adviser_clan has_trait = foreign_adviser_OSA has_trait = foreign_adviser_KOB has_trait = foreign_adviser_USA }
								NOT = {
									is_character = PRO_osami_nagano
									is_character = KYU_isoroku_yamamoto
									is_character = KYU_mitsumasa_yonai
									is_character = KYU_bukichi_miki
									is_character = KYU_chobyo_yara
									is_character = KYU_kawano_shigeo
									is_character = KYU_tsuyoshi_yasuzumi
									is_character = KYU_nashimoto_morimasa
									is_character = KYU_Kuni_Asaakira
									is_character = KYU_council_of_daimyos
									is_character = KYU_jinzaburo_masaki
									is_character = KYU_jisaburo_ozawa
									is_character = KYU_mineichi_koga
									is_character = KYU_kondo_shunsuke
									is_character = KYU_haru_nishioka
									is_character = KYU_army_adviser_theorist
									is_character = KYU_army_adviser_specops	# it's not an actual character
								}	# These are unkillable
							}
							KYU = { set_variable = { char_kill_id = PREV } }
							random_list = {
								1 = { KYU = { country_event = kyushu.901 } }
								1 = { KYU = { country_event = kyushu.902 } }
							}
						}
					}
				}
				1 = {
					custom_effect_tooltip = KYU_political_assassination_failure
					effect_tooltip = { add_stability = -0.05 add_political_power = -50 }
					hidden_effect = {
						random_character = {
							limit = {
								NOT = { has_trait = democratic_reformer has_trait = communist_revolutionary has_trait = welfare_proponent has_trait = persuasive_monarchist has_trait = establishment_mouthpiece }
								NOT = { has_trait = foreign_adviser_clan has_trait = foreign_adviser_OSA has_trait = foreign_adviser_KOB has_trait = foreign_adviser_USA }
								NOT = {
									is_character = PRO_osami_nagano
									is_character = KYU_isoroku_yamamoto
									is_character = KYU_mitsumasa_yonai
									is_character = KYU_bukichi_miki
									is_character = KYU_chobyo_yara
									is_character = KYU_kawano_shigeo
									is_character = KYU_nashimoto_morimasa
									is_character = KYU_Kuni_Asaakira
									is_character = KYU_council_of_daimyos
									is_character = KYU_jinzaburo_masaki
									is_character = KYU_jisaburo_ozawa
									is_character = KYU_mineichi_koga
									is_character = KYU_kurashige_hisashie
									is_character = KYU_Hori_Teikichi
									is_character = KYU_army_adviser_theorist
									is_character = KYU_army_adviser_specops	# it's not an actual character
								}	# These are not DLS partisans or cannot be arrested
							}
							KYU = { set_variable = { char_kill_id = PREV } }
							random_list = {
								1 = { KYU = { country_event = kyushu.903 } }
								1 = { KYU = { country_event = kyushu.904 } }
							}
						}
					}
				}
			}
			custom_effect_tooltip = KYU_political_assassination_char
		}
		
		ai_will_do = { base = 1 modifier = { factor = 0 has_stability < 0.33 } }
    }
	
	KYU_bribe_clans = {

    	icon = hol_attract_foreign_investors
		
		allowed = {
			OR = {
				original_tag = KYU
				original_tag = NBS
				original_tag = OTO
				original_tag = UCK
				original_tag = HOS
				original_tag = SAR
				original_tag = KAR
				original_tag = NAI
				original_tag = SMZ
				original_tag = PRT	# give them a chance!
				original_tag = HIR	# give them a chance!
			}
		}

    	visible = {
			any_controlled_state = { has_dynamic_modifier = { modifier = KYU_clan_resistance_modifier } }
		}

		available = {
            any_controlled_state = {
				has_dynamic_modifier = { modifier = KYU_clan_resistance_modifier }
				resistance > 10
			}
        }
	
		days_remove = 120
		days_re_enable = 120
		
		cost = 100

		remove_effect = {
			every_controlled_state = {
				limit = { has_dynamic_modifier = { modifier = KYU_clan_resistance_modifier } }
				add_resistance = -25
			}
		}
				
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				NOT = {
					 any_controlled_state = {
						has_dynamic_modifier = { modifier = KYU_clan_resistance_modifier }
						resistance > 10
					}
				}
			}
			modifier = {
				factor = 100
				 any_controlled_state = {
					has_dynamic_modifier = { modifier = KYU_clan_resistance_modifier }
					resistance > 25
				}
			}
		}
    }
	
	KYU_arm_daimyos = {

    	icon = generic_prepare_civil_war
		
		allowed = {
			original_tag = KYU
		}

    	visible = {
			has_power_balance = { id = KYU_fractured_government_balance }
		}

		available = {
			has_completed_focus = KYU_back_yamamoto_1
			has_equipment = { infantry_equipment > 1999 }
        }
		
		days_remove = 120
		days_re_enable = 120
		
		#

		remove_effect = {
			add_power_balance_value = {
				id = KYU_fractured_government_balance
				value = 0.05
				tooltip_side = KYU_bop_clans_side
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2000
			}
		}
				
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}
    }
	
	KYU_republican_propaganda = {

    	icon = hol_radio_oranje
		
		allowed = {
			original_tag = KYU
		}

    	visible = {
			has_power_balance = { id = KYU_fractured_government_balance }
		}

		available = {
			OR = { has_completed_focus = KYU_back_koga_1 has_completed_focus = KYU_invite_nagano_1 }
			has_war_support > 0.05
        }
		
		days_remove = 120
		days_re_enable = 120
		
		#cost = 100

		remove_effect = {
			add_power_balance_value = {
				id = KYU_fractured_government_balance
				value = -0.05
				tooltip_side = KYU_bop_government_side
			}
			add_war_support = -0.05
		}
				
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}
    }
}