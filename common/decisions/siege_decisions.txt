siege_category = {

	siege_defend_5 = {	# Fengtian
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_5_cost_tt
		
		available = {
			5 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 5
				any_allied_country = { controls_state = 5 }
			}
			any_enemy_country = { controls_province = 9464 }
			any_enemy_country = { controls_province = 6534 }
			any_enemy_country = { controls_province = 9434 }
			any_enemy_country = { controls_province = 5797 }
			any_enemy_country = { controls_province = 9465 }
			any_enemy_country = { controls_province = 2687 }
			any_enemy_country = { controls_province = 9495 }
			any_enemy_country = { controls_province = 9506 }
			any_enemy_country = { controls_province = 6842 }
			check_variable = { global.5_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 5
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.5_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.5_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_5 = { # Fengtian
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_5_cost_tt
		
		available = {
			5 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 5 }
			check_variable = { global.5_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 9464
					any_allied_country = { controls_province = 9464 }
				}
				OR = {
					controls_province = 6534
					any_allied_country = { controls_province = 6534 }
				}
				OR = {
					controls_province = 9434
					any_allied_country = { controls_province = 9434 }
				}
				OR = {
					controls_province = 5797
					any_allied_country = { controls_province = 5797 }
				}
				OR = {
					controls_province = 9465
					any_allied_country = { controls_province = 9465 }
				}
				OR = {
					controls_province = 2687
					any_allied_country = { controls_province = 2687 }
				}
				OR = {
					controls_province = 9495
					any_allied_country = { controls_province = 9495 }
				}
				OR = {
					controls_province = 9506
					any_allied_country = { controls_province = 9506 }
				}
				OR = {
					controls_province = 6842
					any_allied_country = { controls_province = 6842 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 5
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.5_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.5_siege_progress_days] days so far."
			}
		}
	}

	siege_defend_21 = {	# Chiba
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_21_cost_tt
		
		available = {
			21 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 21
				any_allied_country = { controls_state = 21 }
			}
			any_enemy_country = { controls_province = 6220 }
			any_enemy_country = { controls_province = 6227 }
			any_enemy_country = { controls_province = 3632 }
			any_enemy_country = { controls_province = 4805 }
			any_enemy_country = { controls_province = 4028 }
			any_enemy_country = { controls_province = 3046 }
			check_variable = { global.21_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 21
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.21_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.21_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_21 = { # Chiba
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_21_cost_tt
		
		available = {
			21 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 21 }
			check_variable = { global.21_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 6220
					any_allied_country = { controls_province = 6220 }
				}
				OR = {
					controls_province = 6227
					any_allied_country = { controls_province = 6227 }
				}
				OR = {
					controls_province = 3632
					any_allied_country = { controls_province = 3632 }
				}
				OR = {
					controls_province = 4805
					any_allied_country = { controls_province = 4805 }
				}
				OR = {
					controls_province = 4028
					any_allied_country = { controls_province = 4028 }
				}
				OR = {
					controls_province = 3046
					any_allied_country = { controls_province = 3046 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 21
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.21_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.21_siege_progress_days] days so far."
			}
		}
	}

	siege_defend_27 = {	# Kobe
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_27_cost_tt
		
		available = {
			27 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 27
				any_allied_country = { controls_state = 27 }
			}
			any_enemy_country = { controls_province = 11371 }
			any_enemy_country = { controls_province = 5543 }
			any_enemy_country = { controls_province = 11349 }
			any_enemy_country = { controls_province = 4095 }
			any_enemy_country = { controls_province = 11350 }
			check_variable = { global.27_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 27
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.27_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.27_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_27 = { # Kobe
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_27_cost_tt
		
		available = {
			27 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 27 }
			check_variable = { global.27_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 11371
					any_allied_country = { controls_province = 11371 }
				}
				OR = {
					controls_province = 5543
					any_allied_country = { controls_province = 5543 }
				}
				OR = {
					controls_province = 11349
					any_allied_country = { controls_province = 11349 }
				}
				OR = {
					controls_province = 4095
					any_allied_country = { controls_province = 4095 }
				}
				OR = {
					controls_province = 11350
					any_allied_country = { controls_province = 11350 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 27
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.27_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.27_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_29 = {	# Edo
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_29_cost_tt
		
		available = {
			29 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 29
				any_allied_country = { controls_state = 29 }
			}
			any_enemy_country = { controls_province = 6397 }
			any_enemy_country = { controls_province = 301 }
			any_enemy_country = { controls_province = 5884 }
			any_enemy_country = { controls_province = 3509 }
			any_enemy_country = { controls_province = 10928 }
			any_enemy_country = { controls_province = 10931 }
			any_enemy_country = { controls_province = 6656 }
			any_enemy_country = { controls_province = 6887 }
			check_variable = { global.29_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 29
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.29_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.29_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_29 = { # Edo
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_29_cost_tt
		
		available = {
			29 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 29 }
			check_variable = { global.29_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 6397
					any_allied_country = { controls_province = 6397 }
				}
				OR = {
					controls_province = 301
					any_allied_country = { controls_province = 301 }
				}
				OR = {
					controls_province = 5884
					any_allied_country = { controls_province = 5884 }
				}
				OR = {
					controls_province = 3509
					any_allied_country = { controls_province = 3509 }
				}
				OR = {
					controls_province = 10928
					any_allied_country = { controls_province = 10928 }
				}
				OR = {
					controls_province = 10931
					any_allied_country = { controls_province = 10931 }
				}
				OR = {
					controls_province = 6656
					any_allied_country = { controls_province = 6656 }
				}
				OR = {
					controls_province = 6887
					any_allied_country = { controls_province = 6887 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 29
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.29_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.29_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_32 = {	# Kyoto
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_32_cost_tt
		
		available = {
			32 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 32
				any_allied_country = { controls_state = 32 }
			}
			any_enemy_country = { controls_province = 6056 }
			any_enemy_country = { controls_province = 7029 }
			any_enemy_country = { controls_province = 11201 }
			any_enemy_country = { controls_province = 719 }
			any_enemy_country = { controls_province = 11256 }
			any_enemy_country = { controls_province = 11302 }
			any_enemy_country = { controls_province = 5522 }
			any_enemy_country = { controls_province = 1604 }
			check_variable = { global.32_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 32
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.32_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.32_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_32 = { # Kyoto
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_32_cost_tt
		
		available = {
			32 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 32 }
			check_variable = { global.32_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 6056
					any_allied_country = { controls_province = 6056 }
				}
				OR = {
					controls_province = 7029
					any_allied_country = { controls_province = 7029 }
				}
				OR = {
					controls_province = 11201
					any_allied_country = { controls_province = 11201 }
				}
				OR = {
					controls_province = 719
					any_allied_country = { controls_province = 719 }
				}
				OR = {
					controls_province = 11256
					any_allied_country = { controls_province = 11256 }
				}
				OR = {
					controls_province = 11302
					any_allied_country = { controls_province = 11302 }
				}
				OR = {
					controls_province = 5522
					any_allied_country = { controls_province = 5522 }
				}
				OR = {
					controls_province = 1604
					any_allied_country = { controls_province = 1604 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 32
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.32_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.32_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_99 = {	# Osaka
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_99_cost_tt
		
		available = {
			99 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 99
				any_allied_country = { controls_state = 99 }
			}
			any_enemy_country = { controls_province = 11355 }
			any_enemy_country = { controls_province = 6472 }
			any_enemy_country = { controls_province = 11331 }
			any_enemy_country = { controls_province = 2447 }
			any_enemy_country = { controls_province = 11374 }
			any_enemy_country = { controls_province = 11397 }
			check_variable = { global.99_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 99
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.99_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.99_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_99 = { # Osaka
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_99_cost_tt
		
		available = {
			99 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 99 }
			check_variable = { global.99_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 11355
					any_allied_country = { controls_province = 11355 }
				}
				OR = {
					controls_province = 6472
					any_allied_country = { controls_province = 6472 }
				}
				OR = {
					controls_province = 11331
					any_allied_country = { controls_province = 11331 }
				}
				OR = {
					controls_province = 2447
					any_allied_country = { controls_province = 2447 }
				}
				OR = {
					controls_province = 11374
					any_allied_country = { controls_province = 11374 }
				}
				OR = {
					controls_province = 11397
					any_allied_country = { controls_province = 11397 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 99
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.99_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.99_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_140 = {	# Nagasaki
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_140_cost_tt
		
		available = {
			140 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 140
				any_allied_country = { controls_state = 140 }
			}
			any_enemy_country = { controls_province = 1437 }
			any_enemy_country = { controls_province = 11650 }
			any_enemy_country = { controls_province = 5344 }
			check_variable = { global.140_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 140
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.140_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.140_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_140 = { # Nagasaki
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_140_cost_tt
		
		available = {
			140 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 140 }
			check_variable = { global.140_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 1437
					any_allied_country = { controls_province = 1437 }
				}
				OR = {
					controls_province = 11650
					any_allied_country = { controls_province = 11650 }
				}
				OR = {
					controls_province = 5344
					any_allied_country = { controls_province = 5344 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 140
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.140_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.140_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_178 = {	# Hanseong
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_178_cost_tt
		
		available = {
			178 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 178
				any_allied_country = { controls_state = 178 }
			}
			any_enemy_country = { controls_province = 3659 }
			any_enemy_country = { controls_province = 1322 }
			any_enemy_country = { controls_province = 6087 }
			any_enemy_country = { controls_province = 5247 }
			any_enemy_country = { controls_province = 10387 }
			any_enemy_country = { controls_province = 4318 }
			any_enemy_country = { controls_province = 2358 }
			any_enemy_country = { controls_province = 10442 }
			any_enemy_country = { controls_province = 1384 }
			any_enemy_country = { controls_province = 6703 }
			check_variable = { global.178_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 178
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.178_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.178_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_178 = { # Hanseong
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_178_cost_tt
		
		available = {
			178 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 178 }
			check_variable = { global.178_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 3659
					any_allied_country = { controls_province = 3659 }
				}
				OR = {
					controls_province = 1322
					any_allied_country = { controls_province = 1322 }
				}
				OR = {
					controls_province = 6087
					any_allied_country = { controls_province = 6087 }
				}
				OR = {
					controls_province = 5247
					any_allied_country = { controls_province = 5247 }
				}
				OR = {
					controls_province = 10387
					any_allied_country = { controls_province = 10387 }
				}
				OR = {
					controls_province = 4318
					any_allied_country = { controls_province = 4318 }
				}
				OR = {
					controls_province = 2358
					any_allied_country = { controls_province = 2358 }
				}
				OR = {
					controls_province = 10442
					any_allied_country = { controls_province = 10442 }
				}
				OR = {
					controls_province = 1384
					any_allied_country = { controls_province = 1384 }
				}
				OR = {
					controls_province = 6703
					any_allied_country = { controls_province = 6703 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 178
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.178_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.178_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_182 = {	# Pyongyang
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_182_cost_tt
		
		available = {
			182 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 182
				any_allied_country = { controls_state = 182 }
			}
			any_enemy_country = { controls_province = 1006 }
			any_enemy_country = { controls_province = 10053 }
			any_enemy_country = { controls_province = 10048 }
			any_enemy_country = { controls_province = 671 }
			any_enemy_country = { controls_province = 4275 }
			any_enemy_country = { controls_province = 6500 }
			any_enemy_country = { controls_province = 6886 }
			any_enemy_country = { controls_province = 6907 }
			check_variable = { global.182_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 182
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.182_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.182_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_182 = { # Pyongyang
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_182_cost_tt
		
		available = {
			182 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 182 }
			check_variable = { global.182_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 1006
					any_allied_country = { controls_province = 1006 }
				}
				OR = {
					controls_province = 10053
					any_allied_country = { controls_province = 10053 }
				}
				OR = {
					controls_province = 10048
					any_allied_country = { controls_province = 10048 }
				}
				OR = {
					controls_province = 671
					any_allied_country = { controls_province = 671 }
				}
				OR = {
					controls_province = 4275
					any_allied_country = { controls_province = 4275 }
				}
				OR = {
					controls_province = 6500
					any_allied_country = { controls_province = 6500 }
				}
				OR = {
					controls_province = 6886
					any_allied_country = { controls_province = 6886 }
				}
				OR = {
					controls_province = 6907
					any_allied_country = { controls_province = 6907 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 182
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.182_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.182_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_189 = {	# Busan
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_189_cost_tt
		
		available = {
			189 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 189
				any_allied_country = { controls_state = 189 }
			}
			any_enemy_country = { controls_province = 3291 }
			any_enemy_country = { controls_province = 11145 }
			any_enemy_country = { controls_province = 2674 }
			any_enemy_country = { controls_province = 3156 }
			check_variable = { global.189_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 189
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.189_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.189_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_189 = { # Busan
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_189_cost_tt
		
		available = {
			189 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 189 }
			check_variable = { global.189_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 3291
					any_allied_country = { controls_province = 3291 }
				}
				OR = {
					controls_province = 11145
					any_allied_country = { controls_province = 11145 }
				}
				OR = {
					controls_province = 2674
					any_allied_country = { controls_province = 2674 }
				}
				OR = {
					controls_province = 3156
					any_allied_country = { controls_province = 3156 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 189
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.189_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.189_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_192 = {	# Gwangju
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_192_cost_tt
		
		available = {
			192 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 192
				any_allied_country = { controls_state = 192 }
			}
			any_enemy_country = { controls_province = 4920 }
			any_enemy_country = { controls_province = 1436 }
			any_enemy_country = { controls_province = 11166 }
			any_enemy_country = { controls_province = 1311 }
			any_enemy_country = { controls_province = 11178 }
			any_enemy_country = { controls_province = 3996 }
			any_enemy_country = { controls_province = 11233 }
			any_enemy_country = { controls_province = 4341 }
			check_variable = { global.192_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 192
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.192_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.192_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_192 = { # Gwangju
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_192_cost_tt
		
		available = {
			192 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 192 }
			check_variable = { global.192_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 4920
					any_allied_country = { controls_province = 4920 }
				}
				OR = {
					controls_province = 1436
					any_allied_country = { controls_province = 1436 }
				}
				OR = {
					controls_province = 11166
					any_allied_country = { controls_province = 11166 }
				}
				OR = {
					controls_province = 1311
					any_allied_country = { controls_province = 1311 }
				}
				OR = {
					controls_province = 11178
					any_allied_country = { controls_province = 11178 }
				}
				OR = {
					controls_province = 3996
					any_allied_country = { controls_province = 3996 }
				}
				OR = {
					controls_province = 11233
					any_allied_country = { controls_province = 11233 }
				}
				OR = {
					controls_province = 4341
					any_allied_country = { controls_province = 4341 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 192
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.192_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.192_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_198 = {	# Hiroshima
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_198_cost_tt
		
		available = {
			198 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 198
				any_allied_country = { controls_state = 198 }
			}
			any_enemy_country = { controls_province = 2024 }
			any_enemy_country = { controls_province = 11441 }
			any_enemy_country = { controls_province = 11431 }
			any_enemy_country = { controls_province = 5045 }
			any_enemy_country = { controls_province = 11421 }
			any_enemy_country = { controls_province = 11399 }
			any_enemy_country = { controls_province = 11423 }
			any_enemy_country = { controls_province = 5309 }
			any_enemy_country = { controls_province = 7012 }
			any_enemy_country = { controls_province = 5535 }
			check_variable = { global.198_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 198
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.198_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.198_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_198 = { # Hiroshima
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_198_cost_tt
		
		available = {
			198 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 198 }
			check_variable = { global.198_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 2024
					any_allied_country = { controls_province = 2024 }
				}
				OR = {
					controls_province = 11441
					any_allied_country = { controls_province = 11441 }
				}
				OR = {
					controls_province = 11431
					any_allied_country = { controls_province = 11431 }
				}
				OR = {
					controls_province = 5045
					any_allied_country = { controls_province = 5045 }
				}
				OR = {
					controls_province = 11421
					any_allied_country = { controls_province = 11421 }
				}
				OR = {
					controls_province = 11399
					any_allied_country = { controls_province = 11399 }
				}
				OR = {
					controls_province = 11423
					any_allied_country = { controls_province = 11423 }
				}
				OR = {
					controls_province = 5309
					any_allied_country = { controls_province = 5309 }
				}
				OR = {
					controls_province = 7012
					any_allied_country = { controls_province = 7012 }
				}
				OR = {
					controls_province = 5535
					any_allied_country = { controls_province = 5535 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 198
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.198_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.198_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_202 = {	# Fukuoka
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_202_cost_tt
		
		available = {
			202 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 202
				any_allied_country = { controls_state = 202 }
			}
			any_enemy_country = { controls_province = 1619 }
			any_enemy_country = { controls_province = 6676 }
			any_enemy_country = { controls_province = 1862 }
			any_enemy_country = { controls_province = 11584 }
			any_enemy_country = { controls_province = 2026 }
			any_enemy_country = { controls_province = 6009 }
			any_enemy_country = { controls_province = 4630 }
			any_enemy_country = { controls_province = 11548 }
			check_variable = { global.202_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 202
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.202_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.202_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_202 = { # Fukuoka
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_202_cost_tt
		
		available = {
			202 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 202 }
			check_variable = { global.202_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 1619
					any_allied_country = { controls_province = 1619 }
				}
				OR = {
					controls_province = 6676
					any_allied_country = { controls_province = 6676 }
				}
				OR = {
					controls_province = 1862
					any_allied_country = { controls_province = 1862 }
				}
				OR = {
					controls_province = 11584
					any_allied_country = { controls_province = 11584 }
				}
				OR = {
					controls_province = 2026
					any_allied_country = { controls_province = 2026 }
				}
				OR = {
					controls_province = 6009
					any_allied_country = { controls_province = 6009 }
				}
				OR = {
					controls_province = 4630
					any_allied_country = { controls_province = 4630 }
				}
				OR = {
					controls_province = 11548
					any_allied_country = { controls_province = 11548 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 202
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.202_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.202_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_207 = {	# Matsuyama
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_207_cost_tt
		
		available = {
			207 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 207
				any_allied_country = { controls_state = 207 }
			}
			any_enemy_country = { controls_province = 11536 }
			any_enemy_country = { controls_province = 3467 }
			any_enemy_country = { controls_province = 3385 }
			any_enemy_country = { controls_province = 4623 }
			any_enemy_country = { controls_province = 7134 }
			any_enemy_country = { controls_province = 5323 }
			check_variable = { global.207_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 207
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.207_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.207_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_207 = { # Matsuyama
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_207_cost_tt
		
		available = {
			207 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 207 }
			check_variable = { global.207_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 11536
					any_allied_country = { controls_province = 11536 }
				}
				OR = {
					controls_province = 3467
					any_allied_country = { controls_province = 3467 }
				}
				OR = {
					controls_province = 3385
					any_allied_country = { controls_province = 3385 }
				}
				OR = {
					controls_province = 4623
					any_allied_country = { controls_province = 4623 }
				}
				OR = {
					controls_province = 7134
					any_allied_country = { controls_province = 7134 }
				}
				OR = {
					controls_province = 5323
					any_allied_country = { controls_province = 5323 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 207
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.207_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.207_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_211 = {	# Nagoya
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_211_cost_tt
		
		available = {
			211 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 191
				any_allied_country = { controls_state = 211 }
			}
			any_enemy_country = { controls_province = 11228 }
			any_enemy_country = { controls_province = 3594 }
			any_enemy_country = { controls_province = 11146 }
			any_enemy_country = { controls_province = 5714 }
			any_enemy_country = { controls_province = 1569 }
			any_enemy_country = { controls_province = 11177 }
			any_enemy_country = { controls_province = 11203 }
			any_enemy_country = { controls_province = 623 }
			any_enemy_country = { controls_province = 6971 }
			any_enemy_country = { controls_province = 3772 }
			check_variable = { global.211_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 211
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.211_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.211_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_211 = { # Nagoya
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_211_cost_tt
		
		available = {
			211 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 211 }
			check_variable = { global.211_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 11228
					any_allied_country = { controls_province = 11228 }
				}
				OR = {
					controls_province = 3594
					any_allied_country = { controls_province = 3594 }
				}
				OR = {
					controls_province = 11146
					any_allied_country = { controls_province = 11146 }
				}
				OR = {
					controls_province = 5714
					any_allied_country = { controls_province = 5714 }
				}
				OR = {
					controls_province = 1569
					any_allied_country = { controls_province = 1569 }
				}
				OR = {
					controls_province = 11177
					any_allied_country = { controls_province = 11177 }
				}
				OR = {
					controls_province = 11203
					any_allied_country = { controls_province = 11203 }
				}
				OR = {
					controls_province = 623
					any_allied_country = { controls_province = 623 }
				}
				OR = {
					controls_province = 6971
					any_allied_country = { controls_province = 6971 }
				}
				OR = {
					controls_province = 3772
					any_allied_country = { controls_province = 3772 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 211
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.211_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.211_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_213 = {	# Sendai
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_213_cost_tt
		
		available = {
			213 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 191
				any_allied_country = { controls_state = 213 }
			}
			any_enemy_country = { controls_province = 10268 }
			any_enemy_country = { controls_province = 3972 }
			any_enemy_country = { controls_province = 10233 }
			any_enemy_country = { controls_province = 10221 }
			any_enemy_country = { controls_province = 1001 }
			any_enemy_country = { controls_province = 5656 }
			check_variable = { global.213_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 213
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.213_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.213_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_213 = { # Sendai
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_213_cost_tt
		
		available = {
			213 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 213 }
			check_variable = { global.213_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 10268
					any_allied_country = { controls_province = 10268 }
				}
				OR = {
					controls_province = 3972
					any_allied_country = { controls_province = 3972 }
				}
				OR = {
					controls_province = 10233
					any_allied_country = { controls_province = 10233 }
				}
				OR = {
					controls_province = 10221
					any_allied_country = { controls_province = 10221 }
				}
				OR = {
					controls_province = 1001
					any_allied_country = { controls_province = 1001 }
				}
				OR = {
					controls_province = 5656
					any_allied_country = { controls_province = 5656 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 213
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.213_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.213_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_214 = {	# Hakodate
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_214_cost_tt
		
		available = {
			214 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 191
				any_allied_country = { controls_state = 214 }
			}
			any_enemy_country = { controls_province = 9454 }
			any_enemy_country = { controls_province = 9444 }
			any_enemy_country = { controls_province = 9442 }
			any_enemy_country = { controls_province = 9458 }
			any_enemy_country = { controls_province = 5019 }
			check_variable = { global.214_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 214
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.214_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.214_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_214 = { # Hakodate
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_214_cost_tt
		
		available = {
			214 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 214 }
			check_variable = { global.214_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 9454
					any_allied_country = { controls_province = 9454 }
				}
				OR = {
					controls_province = 9444
					any_allied_country = { controls_province = 9444 }
				}
				OR = {
					controls_province = 9442
					any_allied_country = { controls_province = 9442 }
				}
				OR = {
					controls_province = 9458
					any_allied_country = { controls_province = 9458 }
				}
				OR = {
					controls_province = 5019
					any_allied_country = { controls_province = 5019 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 214
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.214_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.214_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_215 = {	# Vladivostok
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_215_cost_tt
		
		available = {
			215 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 191
				any_allied_country = { controls_state = 215 }
			}
			any_enemy_country = { controls_province = 9091 }
			any_enemy_country = { controls_province = 9123 }
			check_variable = { global.215_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 215
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.215_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.215_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_215 = { # Vladivostok
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_215_cost_tt
		
		available = {
			215 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 215 }
			check_variable = { global.215_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 9091
					any_allied_country = { controls_province = 9091 }
				}
				OR = {
					controls_province = 9123
					any_allied_country = { controls_province = 9123 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 215
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.215_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.215_siege_progress_days] days so far."
			}
		}
	}
	
	siege_defend_216 = {	# Yawahatama
		icon = siege_defend
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_defend_216_cost_tt
		
		available = {
			216 = { has_state_flag = is_under_siege }
			#always = yes
		}
		visible = {
			OR = {
				controls_state = 191
				any_allied_country = { controls_state = 216 }
			}
			any_enemy_country = { controls_province = 11568 }
			any_enemy_country = { controls_province = 11556 }
			any_enemy_country = { controls_province = 11577 }
			check_variable = { global.216_siege_progress > 0.01 }
		}
		
		#state_target = yes

		highlight_states = {
			state = 216
		}
		
		is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.216_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.216_siege_progress_days] days so far."
			}
		}
	}

	siege_attack_216 = { # Yawahatama
		icon = siege_attack
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = siege_attack_216_cost_tt
		
		available = {
			216 = { has_state_flag = is_under_siege }
			#always = yes
		}
		
		visible = {
			any_enemy_country = { controls_state = 216 }
			check_variable = { global.216_siege_progress > 0.01 }
			OR = {
				OR = {
					controls_province = 11568
					any_allied_country = { controls_province = 11568 }
				}
				OR = {
					controls_province = 11556
					any_allied_country = { controls_province = 11556 }
				}
				OR = {
					controls_province = 11577
					any_allied_country = { controls_province = 11577 }
				}
			}
		}
		
		#state_target = yes

		highlight_states = {
			state = 216
		}
		
		is_good = yes
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = "siege progress: [?global.216_siege_progress]/1."
				custom_effect_tooltip = "the siege lasted [?global.216_siege_progress_days] days so far."
			}
		}
	}
	
}