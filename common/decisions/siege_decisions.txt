siege_category = {

	edo_siege_warning = {
		icon = trade_interrupted_western
		
		custom_cost_trigger = {
			always = no
			#check_variable = { num_of_available_civilian_factories > 0 }	### IT SHOULD NEVER BE AVAILABLE
		}
		
		custom_cost_text = PRO_improve_tools_cost	###PLACEHOLDER - it will be a "siege progress"
		
		available = {
			#controls_state = 29
			#controls_province = 274
			#any_enemy_country = { controls_province = 3722 }
			#any_enemy_country = { controls_province = 1342 }
			#any_enemy_country = { controls_province = 932 }
			#any_enemy_country = { controls_province = 770 }
			#any_enemy_country = { controls_province = 3703 }
			#any_enemy_country = { controls_province = 53 }
			always = yes
		}
		visible = {
			OR = {
				controls_state = 29
				any_enemy_country = { controls_state = 29 }
			}
			check_variable = { global.29_siege_progress > 0.01 }
		}
		
		#state_target = yes

		#highlight_states = {
		#	state = 29
		#}
		
		#is_good = no
		#on_map_mode = map_and_decisions_view
		#highlight_color_while_active = 1
		
		complete_effect = {
			custom_effect_tooltip = "the siege lasted [?global.29_siege_progress_days] days so far."
		}
	}

	edo_siege_owner_mission = {
		icon = GFX_decision_category_border_conflicts
		
		activation = {
			controls_province = 274
			any_enemy_country = { controls_province = 3722 }
			any_enemy_country = { controls_province = 1342 }
			any_enemy_country = { controls_province = 932 }
			any_enemy_country = { controls_province = 770 }
			any_enemy_country = { controls_province = 3703 }
			any_enemy_country = { controls_province = 53 }
		}
		available = {
			#controls_state = 29
			controls_province = 274
			any_enemy_country = { controls_province = 3722 }
			any_enemy_country = { controls_province = 1342 }
			any_enemy_country = { controls_province = 932 }
			any_enemy_country = { controls_province = 770 }
			any_enemy_country = { controls_province = 3703 }
			any_enemy_country = { controls_province = 53 }
			always = no
		}
		visible = {
			has_war = yes
			controls_province = 274
			OR = {
				any_enemy_country = { controls_province = 3722 }
				any_enemy_country = { controls_province = 1342 }
				any_enemy_country = { controls_province = 932 }
				any_enemy_country = { controls_province = 770 }
				any_enemy_country = { controls_province = 3703 }
				any_enemy_country = { controls_province = 53 }
			}
		}
		
		selectable_mission = no
		is_good = no
		on_map_mode = map_and_decisions_view
		highlight_color_while_active = 1
		
		complete_effect = {
			custom_effect_tooltip = "complete effect :)"
		}
		timeout_effect  = {
			custom_effect_tooltip = "timeout effect :("
		}
	}
}