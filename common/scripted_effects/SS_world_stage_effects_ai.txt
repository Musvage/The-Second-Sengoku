#### this handles related actions that usually be triggered by focuses, but for tags that no longer exists
#### (i.e.: if REI is annexed early on, World War Two should still start)
####
#### The first few REI focuses used an older system that did not allow for effects by off-map countries.

world_stage_ai_germany = {
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.01.10  NOT = { has_global_flag = REI_luds_manifesto_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_luds_manifesto"
			complete_national_focus = REI_luds_manifesto
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_luds_manifesto_completed
	}
	# next 3 are all mutually exclusive focuses, thus the long trigger. they are possibly redundant, but I'll add them just in case...
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.06.1  NOT = { has_global_flag = REI_nazi_and_emperor_completed has_global_flag = REI_general_staff_completed has_global_flag = REI_cthule_putsch_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_nazi_and_emperor"
			complete_national_focus = REI_nazi_and_emperor
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_nazi_and_emperor_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.06.1  NOT = { has_global_flag = REI_nazi_and_emperor_completed has_global_flag = REI_general_staff_completed has_global_flag = REI_cthule_putsch_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_general_staff"
			complete_national_focus = REI_general_staff
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_general_staff_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.06.1  NOT = { has_global_flag = REI_nazi_and_emperor_completed has_global_flag = REI_general_staff_completed has_global_flag = REI_cthule_putsch_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_cthule_putsch"
			complete_national_focus = REI_cthule_putsch
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_cthule_putsch_completed
	}
	# next 6 are three sets of two mutually exclusive focuses
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.08.15  NOT = { has_global_flag = REI_kaiser_august_completed has_global_flag = REI_new_reich_completed } has_global_flag = REI_nazi_and_emperor_completed }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_kaiser_august"
			complete_national_focus = REI_kaiser_august
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_kaiser_august_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.08.15  NOT = { has_global_flag = REI_kaiser_august_completed has_global_flag = REI_new_reich_completed } has_global_flag = REI_nazi_and_emperor_completed }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_new_reich"
			complete_national_focus = REI_new_reich
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_new_reich_complete
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.08.15  NOT = { has_global_flag = REI_fascist_cabinet_completed has_global_flag = REI_military_dictatorship_completed } has_global_flag = REI_general_staff_completed }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_fascist_cabinet"
			complete_national_focus = REI_fascist_cabinet
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_fascist_cabinet_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.08.15  NOT = { has_global_flag = REI_fascist_cabinet_completed has_global_flag = REI_military_dictatorship_completed } has_global_flag = REI_general_staff_completed }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_military_dictatorship"
			complete_national_focus = REI_military_dictatorship
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_military_dictatorship_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.08.15  NOT = { has_global_flag = REI_saint_lud_completed has_global_flag = REI_paganphiles_completed } has_global_flag = REI_cthule_putsch_completed }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_saint_lud"
			complete_national_focus = REI_saint_lud
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_saint_lud_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.08.15  NOT = { has_global_flag = REI_saint_lud_completed has_global_flag = REI_paganphiles_completed } has_global_flag = REI_cthule_putsch_completed }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_paganphiles"
			complete_national_focus = REI_paganphiles
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_paganphiles_completed
	}
	# back to regular triggers
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.06.06  NOT = { has_global_flag = REI_denounce_versailles_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_denounce_versailles"
			complete_national_focus = REI_denounce_versailles
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_denounce_versailles_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.08.10  NOT = { has_global_flag = REI_long_knives_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_long_knives"
			complete_national_focus = REI_long_knives
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_long_knives_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1938.03.12  NOT = { has_global_flag = REI_anschluss_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_anschluss"
			complete_national_focus = REI_anschluss
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_anschluss_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1938.08.22  NOT = { has_global_flag = REI_molotov_ribbentrop_completed } }	# it happens one year early ww2 starts on schedule
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_molotot_ribbentrop"
			complete_national_focus = REI_molotov_ribbentrop
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_molotov_ribbentrop_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1938.10.01  NOT = { has_global_flag = REI_sudetenland_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_sudetenland"
			complete_national_focus = REI_sudetenland
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_sudetenland_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.08.06  NOT = { has_global_flag = REI_west_ost_wall_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_west_ost_wall"
			complete_national_focus = REI_west_ost_wall
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_west_ost_wall_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.10.16  NOT = { has_global_flag = REI_army_tech_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_army_tech"
			complete_national_focus = REI_army_tech
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_army_tech_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.12.16  NOT = { has_global_flag = REI_air_tech_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_air_tech"
			complete_national_focus = REI_air_tech
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_air_tech_completed
	}
	# the next few have an extra check: civilian development either is done pre-ww2 or waits for invasion of poland
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.10.16  NOT = { has_global_flag = REI_home_construction_completed } if = { limit = { date > 1939.6.1 } has_global_flag = REI_attack_poland_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_home_construction"
			complete_national_focus = REI_home_construction
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_home_construction_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.12.16  NOT = { has_global_flag = REI_home_industry_completed } if = { limit = { date > 1939.6.1 } has_global_flag = REI_attack_poland_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_home_industry"
			complete_national_focus = REI_home_industry
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_home_industry_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.12.16  NOT = { has_global_flag = REI_home_infrastructure_completed } if = { limit = { date > 1939.6.1 } has_global_flag = REI_attack_poland_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_home_infrastructure"
			complete_national_focus = REI_home_infrastructure
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_home_infrastructure_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1936.12.26  NOT = { has_global_flag = REI_reichskommissariats_completed } if = { limit = { date > 1939.6.1 } has_global_flag = REI_attack_poland_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_reichskommissariats"
			complete_national_focus = REI_reichskommissariats
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_reichskommissariats_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1937.3.5  NOT = { has_global_flag = REI_synthetic_resources_completed } if = { limit = { date > 1939.6.1 } has_global_flag = REI_attack_poland_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_synthetic_resources"
			complete_national_focus = REI_synthetic_resources
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_synthetic_resources_completed
	}
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1937.5.15  NOT = { has_global_flag = REI_volkswagen_completed } if = { limit = { date > 1939.6.1 } has_global_flag = REI_attack_poland_completed } }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_volkswagen"
			complete_national_focus = REI_volkswagen
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_volkswagen_completed
	}
	# back to regular triggers
	if = { limit = { has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1939.08.31  NOT = { has_global_flag = REI_attack_poland_completed } has_global_flag = REI_army_tech_completed has_global_flag = REI_sudetenland_completed }
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_attack_poland"
			complete_national_focus = REI_attack_poland
		}
		set_global_flag = offmap_event_worldstage_55
		if = {
			limit = { has_global_flag = GER_SOV_pact_enabled }
			set_global_flag = offmap_event_worldstage_16
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_attack_poland_completed
	}
	# next two are special cases for delayed events after WW2 starts, they also do not need to check for AI cooldown
	if = { limit = { has_global_flag = { flag = offmap_event_worldstage_55 days > 1 } } 
		every_possible_country = { limit = { tag = REI } news_event = { id = worldstage.55 } clr_global_flag = offmap_event_worldstage_55 }
	}
	if = { limit = { has_global_flag = { flag = offmap_event_worldstage_16 days > 12 } } 
		every_possible_country = { limit = { tag = REI } news_event = { id = worldstage.16 }clr_global_flag = offmap_event_worldstage_16 }
	}
	# next ones depend on Germany having undeployed strength and WW2 being ongoing, along specific triggers
	if = { limit = {
		has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1940.3.24  NOT = { has_global_flag = REI_case_yellow_completed }					# regular triggers
		has_global_flag = world_stage_world_war_2_is_active																											# ww2 is active
		101 = { check_variable = { world_stage_power > 30 } } OR = { 14 = { has_state_flag = theater_is_active } 15 = { has_state_flag = theater_is_active } } }	# specific triggers
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_case_yellow"
			complete_national_focus = REI_case_yellow
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_case_yellow_completed
	}
	if = { limit = {
		has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1940.5.9  NOT = { has_global_flag = REI_blitzkrieg_completed }											# regular triggers
		has_global_flag = world_stage_world_war_2_is_active																														# ww2 is active
		101 = { check_variable = { world_stage_power > 120 } } 8 = { check_variable = { theater_owner_coalition = 1 } } 3 = { NOT = { has_state_flag = theater_is_active }  }	# specific triggers
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_blitzkrieg"
			complete_national_focus = REI_blitzkrieg
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_blitzkrieg_completed
	}
	### add bypass blitztkrieg here
	if = { limit = {
		has_global_flag = { flag = world_stage_ai_germany_focus days > 35 } date > 1941.5.10  NOT = { has_global_flag = REI_afrikakorps_completed }					# regular triggers
		has_global_flag = world_stage_world_war_2_is_active																											# ww2 is active
		101 = { check_variable = { world_stage_power > 30 } } OR = { 14 = { has_state_flag = theater_is_active } 15 = { has_state_flag = theater_is_active } } }	# specific triggers
		every_possible_country = { limit = { tag = REI } log = "(off-map AI) [THIS.GetName] completed focus REI_afrikakorps"
			complete_national_focus = REI_afrikakorps
		}
		clr_global_flag = world_stage_ai_germany_focus set_global_flag = world_stage_ai_germany_focus set_global_flag = REI_afrikakorps_completed
	}
}
world_stage_ai_france = {
	
}

world_stage_ai_england = {
	
}

world_stage_ai_sovietunion = {
	
}

world_stage_ai_usa = {
	
}

world_stage_ai_china = {
	
}

world_stage_ai_netherlands = {
	
}
#world_stage_ai_portugal = {} # does not extist yet
world_stage_news_handler = {	# the number of the event id does not mean chronological order!
	if = { limit = { date > 1937.04.06 date < 1936.09.03 }	news_event = { id = worldstage_news.5 hours = 12 } log = "NEWS: Metaxas's Coup" }
	if = { limit = { date > 1937.04.06 date < 1937.04.07 }	news_event = { id = worldstage_news.4 hours = 12 } log = "NEWS: Italy Occupies Albania" }
	if = { limit = { date > 1937.11.09 date < 1937.11.10 }	news_event = { id = worldstage_news.2 hours = 12 } log = "NEWS: Vargas' Coup" }
	if = { limit = { date > 1938.11.09 date < 1938.11.10 }	news_event = { id = worldstage_news.1 hours = 12 } log = "NEWS: Attaturk Dies" }
	if = { limit = { date > 1941.01.28 date < 1941.01.29 }	news_event = { id = worldstage_news.6 hours = 12 } log = "NEWS: Metaxas's Death" }
	if = { limit = { date > 1941.07.04 date < 1941.07.05 }	news_event = { id = worldstage_news.3 hours = 12 } log = "NEWS: Peru-Ecuador War" }
}

#Masacre del Seguro Obrero en Chile en el 38, y el golpe de estado del 43 en Argentina, tambien hay un golpe de estado en Paraguay en Febrero del 1936, y uno en Bolivia en Abril del 1936 si mal no me equivoco